2015-02-03  ddegroot

	* [r5902] src/sccp_hint.c: Fix: devstate eid with asterisk-12

	* [r5901] Makefile.in, autoconf/asterisk.m4, configure,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_features.c, src/sccp_pbx.c: Fix: Pickup when using
	  asterisk-12/13 (Asterisk API Change). Reported by Viktu Pons.

	* [r5900] src/sccp_features.c, src/sccp_pbx.c: Fix: directed
	  pickup. Issue reported by Viktu Pons Colomer.

	* [r5899] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix: Add
	  return after debug output

	* [r5898] src/sccp_actions.c, src/sccp_features.c: Fix: check if
	  sccp_channel_newcall created a new channel before commencing

	* [r5897] .travis.yml: Enhancement: Remove lucid from travis
	  compile, uses the same asterisk-1.8 as precise

	* [r5896] src/sccp_cli.c: Fix: correct sccp reload file to allow
	  for absolute and relative path's (References #248 (Reported by
	  Jean-Francois Proulx)).

	* [r5895] src/sccp_config.c, src/sccp_device.c, src/sccp_line.c:
	  Fix: button change detection during sccp reload (Fixes #248
	  (Reported by Jean-Francois Proulx)). Fix: stringptr corruption
	  after sccp reload, for example d->backgroundImage (Fixes #241).

2015-01-29  ddegroot

	* [r5894] tools/versioncheck: Fix: git branch detection

2015-01-27  ddegroot

	* [r5893] .travis.yml: Remarked out vivid build because asterisk
	  and asterisk-dev can't currently be found. Try it back later

	* [r5892] src/pbx_impl/ast/ast111.c, src/sccp_hint.c: Enhancement:
	  At least compile --distribute-devstate nicely against
	  asterisk-13. Only sending the devstate change at the moment,
	  without the extra CEL information (alas). Added a possible sample
	  of how we could potentially add this extra information using an
	  ast_channel_blob (yuck).

	* [r5891] src/pbx_impl/ast/ast.c: Fix: Segfault during
	  CHANNEL(rtpqos). Reported by Cody

	* [r5890] src/sccp_cli.c: Enhancement: CLI:Remove line from device.
	  (Provided by jeenux)

2015-01-26  marcelloceschia

	* [r5889] src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/pbx_impl/ast/ast.c, src/sccp_channel.c, src/sccp_channel.h:
	  add video mode for channel

2015-01-25  ddegroot

	* [r5888] src/sccp_actions.c: Fix: updated commented code handling
	  miscCommand. Still seems to require further implementation
	  though.

	* [r5887] src/sccp_actions.c: Fix: handling miscCommand with
	  missing passthruid

	* [r5886] src/sccp_utils.c: Fix: Added comment

	* [r5885] src/sccp_config.c, src/sccp_device.c, src/sccp_hint.c,
	  src/sccp_protocol_enums.hh, src/sccp_utils.c: Enhancement: Added
	  potential support for SPA Addons / SideCar. (Requested by Mark
	  Casey)

2015-01-24  ddegroot

	* [r5884] src/sccp_hint.c: Fix: channelName -> lineName change

	* [r5883] src/sccp_hint.c: Fix: Renamed channelName to lineName,
	  Added channelState to DEVICE_STATE_CHANGE as IE_CEL_EXTRA to make
	  the reason for the update more apparent. Check if hint has been
	  found before sending notification to Subscribers.

	* [r5882] src/sccp_hint.c: Fix: Prevent devicestate /
	  devicestatechange events from being sent/arriving multiple times
	  per line change event

	* [r5881] src/sccp_protocol.c: Fix: Function Comment Headers

	* [r5880] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Enhancement: Prevent any action
	  (including timeout) on incoming AST_CONTROL_INCOMPLEMENT
	  indication when running in earlyrtp immediate mode. Patch
	  supplied by Pavel

	* [r5879] src/sccp_protocol.c, src/sccp_protocol.h: Enhancement:
	  Renamed som of the unknown fields in the RegisterAckMessage.
	  Added debug logging to track down the date/time issues reported
	  by John Bittner

	* [r5878] src/sccp_hint.c: Source: revert indentation for
	  pbx_event_new to make it readable

	* [r5877] src/pbx_impl/ast/ast.h: Fix: asterisk/event.h include
	  based on new configure script

	* [r5876] ChangeLog, autoconf/asterisk.m4, autoconf/extra.m4,
	  configure, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  doc/doxygen.cfg, src/Makefile.in, src/config.h.in: Enhancement:
	  Remove a number of old/unused checks from the configure script to
	  reduce build time slightly

2015-01-22  ddegroot

	* [r5875] src/pbx_impl/ast/define.h, src/sccp_lock.h,
	  src/sccp_refcount.c: Cleanup: Move lock debugging to define.h.
	  Remove unnecessary obj check in refcount debug.

	* [r5874] src/sccp_device.c: Fix: Make cleardisplayprinotify only
	  remove the message with the right priority

2015-01-21  ddegroot

	* [r5873] src/chan_sccp.c, src/chan_sccp.h, src/sccp_socket.c:
	  Enhancement/Cleanup: reload code in regards to socket session
	  accept and cleanup

	* [r5872] src/sccp_channel.c, src/sccp_socket.c: Fix: pointer
	  derefence before NULL pointer check

	* [r5871] src/sccp_channel.c, src/sccp_cli.c, src/sccp_pbx.c: Fix:
	  Replaced three instances of strncpy (two without the -1 as size
	  correction) with preferred sccp_copy_string function.

	* [r5870] src/chan_sccp.c: Fix: hanging
	  SCCP_RWLIST_UNLOCK(&GLOB(lines)) which was not locked beforehand

	* [r5869] src/sccp_socket.c: Fix: making sure
	  sccp_socket_cleanup_timed_out does not run during reload

	* [r5868] src/sccp_softkeys.c: Fix: SCCP_RWLIST_WRLOCK which should
	  have been SCCP_RWLIST_UNLOCK

	* [r5867] src/sccp_cli.c: Fix: releasing 'global lock'/'reload in
	  progress' when accidentaly mistyping sccp reload (2)

	* [r5866] src/sccp_cli.c: Fix: releasing 'global lock'/'reload in
	  progress' when accidentaly mistyping sccp reload

2015-01-20  ddegroot

	* [r5865] src/sccp_appfunctions.c: Allow setting priority notify
	  messages using SCCPSetMessage(<text>[, timeout][, priority])
	  
	  Setting a priority notify message with a higher priority
	  overrules lower priority messages, lower one will not be shown
	  until higher one is removed.
	  
	  Example:
	  macro sccp_set_message() {
	  Noop(SCCPSetMessage);
	  SCCPSetMessage(); // clear standard status prompt
	  SCCPSetMessage(,0,1); // clear priority 1 notify message
	  SCCPSetMessage(,0,2); // clear priority 2 notify message
	  SCCPSetMessage(Incoming 1 prio1,0,1); // set priority 1 notify
	  SCCPSetMessage(Incoming 2 prio2,0,2); // set priority 2 notify
	  SCCPSetMessage(Incoming 3 prio1,0,1); // set priotity 1 notify
	  (has no effect until priority 2 is cleared
	  };

	* [r5864] src/sccp_device.c, src/sccp_device.h: Fix:
	  cleardisplayprinotify

	* [r5863] ChangeLog, autoconf/extra.m4, configure, src/config.h.in:
	  Revert: -Og optimization which not all gcc compilers seem to like
	  either

2015-01-19  ddegroot

	* [r5862] ChangeLog, autoconf/compile[ADD], doc/Makefile.in,
	  src/config.h.in: Fix: Adding autoconf/compile required for make
	  release by automake

	* [r5861] src/sccp_appfunctions.c: Fix: buffer issue because of
	  using len instead of buf_len

	* [r5860] src/sccp_config.c, src/sccp_softkeys.c: Fix: reloading
	  softkeysets. Issue reported by Pavel.

	* [r5859] ChangeLog, autoconf/extra.m4, configure: Enhancement:
	  Wenn using gcc and --enable-optimization set -Og instead of -O2
	  which will enable all optimizations without sacrificing the
	  ability to have enxtended gdb debug capbility. This optimization
	  level is not supported in clang.

2015-01-18  marcelloceschia

	* [r5858] src/sccp_pbx.c: fixes compile issue

	* [r5857] src/sccp_pbx.c: fixes compile issue

	* [r5856] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_pbx.c: move sccp_device_setLastNumberDialed before
	  SCCP_CHANNELSTATE_PROCEED

	* [r5855] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_pbx.c: fixes redial button in immediate mode, patch
	  provided by Pavel Troller

2015-01-17  marcelloceschia

	* [r5854] src/sccp_actions.c, src/sccp_device.c, src/sccp_pbx.c:
	  applying patch from Pavel Troller that fixes callinfo for
	  immediate dialing

2015-01-16  marcelloceschia

	* [r5853] src/sccp_channel.c: fixes compile issue

	* [r5852] src/sccp_channel.c, src/sccp_features.c,
	  src/sccp_indicate.c: remove PBX(set_callstate) (c,
	  AST_STATE_OFFHOOK) from sccp_indicate and move it to the right
	  places

	* [r5851] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_indicate.c: remove PBX(set_callstate) (c,
	  AST_STATE_RING) from sccp_indicate and move it to the right
	  places

	* [r5850] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_indicate.c: remove PBX(set_callstate) (c,
	  AST_STATE_BUSY) from sccp_indicate and move it to the right
	  places

	* [r5849] src/sccp_indicate.c: remove PBX(set_callstate) (c,
	  AST_STATE_RINGING) from sccp_indicate and move it to the right
	  places

	* [r5848] src/sccp_features.c, src/sccp_indicate.c: remove
	  PBX(set_callstate) (c, AST_STATE_RINGING) from sccp_indicate and
	  move it to the right places

	* [r5847] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_indicate.c: reapply patch: A small patchset to fix small
	  bugs in immediate mode (patch1+patch2), provided by Pavel Troller

	* [r5846] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_indicate.c: revert my change for patch A small patchset
	  to fix small bugs in immediate mode (patch1+patch2), provided by
	  Pavel Troller

2015-01-15  marcelloceschia

	* [r5843] src/sccp_actions.c: A small patchset to fix small bugs in
	  immediate mode (patch2), provided by Pavel Troller

	* [r5842] src/sccp_actions.c: A small patchset to fix small bugs in
	  immediate mode (patch2), provided by Pavel Troller

	* [r5841] src/sccp_channel.c, src/sccp_indicate.c: A small patchset
	  to fix small bugs in immediate mode (patch1), provided by Pavel
	  Troller

2015-01-15  ddegroot

	* [r5839] .: Edit property svn:ignore

2015-01-14  ddegroot

	* [r5838] ChangeLog, debian/compat: Fix: COMPAT level for debian
	  packages

	* [r5837] debian/changelog: Enhancement: Added launchpad/ppa
	  repository for Ubuntu Users. See:
	  https://launchpad.net/~chan-sccp-b for details

	* [r5836] .travis.yml: Add vivid and lucid repositories to travis
	  CI script

	* [r5835] ChangeLog, src/chan_sccp.c, src/chan_sccp.h,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast104.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast108.h, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast111.h, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast112_announce.c,
	  src/pbx_impl/ast/ast112_announce.h, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/ast/ast113.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.c, src/sccp_adv_features.c,
	  src/sccp_appfunctions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_conference.c, src/sccp_config.c, src/sccp_device.c,
	  src/sccp_devstate.c, src/sccp_event.c, src/sccp_featureButton.c,
	  src/sccp_features.c, src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_line.c, src/sccp_management.c, src/sccp_mwi.c,
	  src/sccp_pbx.c, src/sccp_protocol.c, src/sccp_protocol.h,
	  src/sccp_refcount.c, src/sccp_rtp.c, src/sccp_socket.c,
	  src/sccp_softkeys.c, src/sccp_threadpool.c, src/sccp_utils.c:
	  Cleanup: Replace commented code blocks. Re-indent sources

	* [r5834] .travis.yml: Update travis.yml

2015-01-12  ddegroot

	* [r5832] src/chan_sccp_enums.hh: Cleanup: Shorten displayed nat
	  string / Remove CS_Expirmental block because of indentation
	  difference.

	* [r5831] conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/sccp.conf.annotated, conf/sccp_hardware.conf.freepbx:
	  Fix/Update: config examples

	* [r5830] src/pbx_impl/ast/ast106.c: Experimental Enhancement: Same
	  as previous revision but for ast106.c

	* [r5829] ChangeLog, conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/database_updates/update_mysql_v4.sql,
	  conf/database_updates/update_mysql_v5.sql, conf/mysql-v4.sql,
	  conf/mysql-v5.sql, conf/postgres.sql, conf/sccp.conf.annotated,
	  conf/sccp_hardware.conf.freepbx, conf/sqlite.sql,
	  conf/sqlite3.sql, src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_cli.c, src/sccp_config_entries.hh,
	  src/sccp_rtp.c: Experimental Enhancement: Change nat parameter to
	  enum (auto/off/on) to allow for more control during directrtp
	  bridging. New Default value is "auto".
	  Requires:
	  ./configure --enable-experimental-mode
	  change in realtime db: ALTER TABLE sccpdevice CHANGE COLUMN nat
	  VARCHAR(4) DEFAULT 'auto'
	  
	  This change makes it possible to use directrtp in remote natted
	  locations, by setting directrtp=on and device permit/deny to
	  include both the remote phone ip range (between which directrtp
	  should occur) and the natted source ip-address.
	  Example
	  [SEP00123445566]
	  directrtp=on ; force directrtp attempt
	  nat=off ; force non-natted negotiation
	  deny=0.0.0.0/0.0.0.0
	  permit=192.168.1.0/24 ; remote phone ip-address range
	  permit=21.22.23.222/32 ; natted remote address

2015-01-11  ddegroot

	* [r5828] src/sccp_actions.c: Fix: Debug message about auto nat

	* [r5827] src/pbx_impl/ast/define.h, src/sccp_appfunctions.c:
	  Enhancement: Allow the use of dialplan HASH() function combined
	  with SCCPDEVICE(), SCCPLINE() and SCCPCHANNEL() to query multiple
	  parameters with only one function call (Required to fix dialplan
	  macro readability for Cody Miller-Kelly).
	  Note: Original single parameter queries are still supported as
	  before.
	  
	  Diaplan Example:
	  Set(HASH(_SCCP_DEVICE)=${SCCPDEVICE(current,id,description,ip,button_config,codecs,codec[2])});
	  Noop(Keys: ${HASHKEYS(SCCP_DEVICE)});
	  Noop(Id: ${HASH(SCCP_DEVICE,id)});
	  Noop(Desc: ${HASH(SCCP_DEVICE,description)});
	  Noop(Ip: ${HASH(SCCP_DEVICE,ip)});
	  Noop(button_config: ${HASH(SCCP_DEVICE,button_config)});
	  Noop(codecs: ${HASH(SCCP_DEVICE,codecs)});
	  Noop(codec[2]: ${HASH(SCCP_DEVICE,codec[2])});

	* [r5826] src/pbx_impl/ast/ast.c, src/sccp_appfunctions.c:
	  Enhancement: Added rtp quality statistics, i.e. 'rtpqos' to
	  CHANNEL(), SCCPDEVICE() and SCCPCHANNEL() as per request from
	  Cody Miller-Kelly

2015-01-11  marcelloceschia

	* [r5825] src/pbx_impl/ast/ast113.c: fix missing ,

	* [r5824] src/sccp_pbx.c: use dialed number interface

	* [r5823] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: implement interface for dialed number
	  for asterisk 11,12,13

	* [r5822] src/pbx_impl/pbx_impl.h: add interface for dialed number

2015-01-11  ddegroot

	* [r5821] src/sccp_utils.c: Fix: Remove the 7940 from the addon
	  warning message. (Reported by hhornung).

2015-01-10  ddegroot

	* [r5820] src/sccp_refcount.c: Fix: fillfactor check

	* [r5819] src/sccp_refcount.c: Fix: Added warning about fillfactor
	  to 'sccp show refcount'

	* [r5818] src/sccp_utils.c: Fix: Added warning when specifying
	  addons for 794x phones during device registration

	* [r5817] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_pbx.c: Fix: Changing CallerID in CDR becasuse of
	  CallerId(ANI) Issue reported by Pavel Troller.

2015-01-03  ddegroot

	* [r5816] conf/sccp.conf, conf/sccp_hardware.conf.freepbx,
	  conf/sccp_templated.conf: Fix config examples: show 7914 attached
	  to 7960 instead of (non-working) 7940. (Requested by Matt
	  Darnell)

2015-01-02  ddegroot

	* [r5815] src/sccp_actions.c: Fix: debug message

	* [r5814] ChangeLog, tools/versioncheck: Include revision number
	  based on .revision when compiling from TGZ

2014-12-23  marcelloceschia

	* [r5813] src/sccp_actions.c: fixes wrong digit @ instead of + on a
	  6945 device dialing off hook; reported by Ксения Юрьевна Блащук

2014-12-13  marcelloceschia

	* [r5812] src/sccp_pbx.c: display inbound callerid number on prompt
	  when device has an active channel

	* [r5811] src/sccp_channel.c: fixes BLINDTRANSFER variable issue,
	  reported by Nikola

2014-12-12  marcelloceschia

	* [r5810] src/sccp_indicate.c: revert FLASH prompt when ringermode
	  is set

2014-11-27  ddegroot

	* [r5809] src/sccp_softkeys.c: Fix: Compile warning when compiling
	  without conference

2014-11-27  marcelloceschia

	* [r5808] src/sccp_cli.c: apply patch to fix segfault on cli
	  commond 'sccp set channel <channe> hold' (without 6th argument).
	  Patch provied by Max Nesterov. Thank you Max

2014-11-26  ddegroot

	* [r5807] src/pbx_impl/ast/ast.c: Fix: Remove second autoloop check
	  during pbx_start.

2014-11-23  ddegroot

	* [r5806] src/sccp_softkeys.c: Fix: DirTrsfr. Reported by Alexander
	  Lopez.

2014-11-20  ddegroot

	* [r5805] conf/tftp/SEP0000000000.cnf.xml_797x_template,
	  conf/tftp/SEP0000000000.cnf.xml_annotated,
	  conf/tftp/SEP0000000000.cnf.xml_ipv6_template: Fix: Added warning
	  about use of videoCapability in SEP files, when video is not
	  actually available. Warning can be removed once the issue in
	  source is found.

	* [r5804] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_channel.h, src/sccp_cli.c, src/sccp_features.c,
	  src/sccp_management.c, src/sccp_softkeys.c: Enhancement: Added
	  possiblity to define a uniqueId during sccp_channel_newcall for
	  asterisk > 12. Used in AMI: SCCPStartCall to specify the uniqueid
	  of the channel to be created. Follow up on the Fix to allow
	  Originate to specify the uniqueId on channels to be created.
	  Issue Reported and Patch verified by Niklas Larssson.

	* [r5803] src/sccp_device.c: Fix: softkeyset debug message

	* [r5802] src/sccp_actions.c: Fix: skinny_stimulusMap_cb
	  indentation

2014-11-19  ddegroot

	* [r5801] src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c:
	  Enhancement: Support uniqueId/ChannelId during Originate in
	  >asterisk-12. Requested by Niklas Larsson.

2014-11-14  ddegroot

	* [r5800] src/sccp_channel.c: Fix: Added mutex_destroy
	  channel->scheduler.lock

	* [r5799] src/sccp_actions.c, src/sccp_rtp.c: Enhancement: Use
	  sccp_channel_updateMediaTransmission instead of
	  sccp_channel_startMediaTransmission to make sure
	  mediatransmission is stopped before starting again (if already
	  started)

	* [r5798] src/sccp_device.c, src/sccp_socket.c: Enhancement: moved
	  packet debug output to one function

2014-11-09  ddegroot

	* [r5797] src/chan_sccp.c: Fix: sccp_channel_answer does not answer
	  because device was already assigned during sccp_requestChannel
	  (reversion). Issue Reported by Riten Jaiswal.

2014-11-07  ddegroot

	* [r5796] src/pbx_impl/ast/ast111.c: Enhancement: Deal with video
	  codec requesting the same way as with requested audio codecs (2)

	* [r5795] src/pbx_impl/ast/ast111.c: Enhancement: Deal with video
	  codec requesting the same way as with requested audio codecs

	* [r5794] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix: Only set wideband codec during
	  channel_request when using SharedLine and not audiocapabilities
	  have been set

	* [r5793] src/chan_sccp.c: Assign device to newly created channel
	  when dealing with a non shared line, which prevent NONE codec
	  issue

	* [r5792] src/sccp_actions.c: Enhancement: prevent refcount issue
	  during HOLD/RESUME when using line button

	* [r5791] src/sccp_actions.c: Fix: refcount issue during
	  HOLD/RESUME when using line button

2014-11-05  ddegroot

	* [r5790] src/chan_sccp.c, src/chan_sccp.h, src/common.h,
	  src/sccp_actions.c, src/sccp_actions.h, src/sccp_adv_features.c,
	  src/sccp_adv_features.h, src/sccp_appfunctions.c,
	  src/sccp_appfunctions.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_cli_table.h,
	  src/sccp_conference.c, src/sccp_conference.h, src/sccp_config.c,
	  src/sccp_config.h, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_devstate.c, src/sccp_devstate.h, src/sccp_dllists.h,
	  src/sccp_event.c, src/sccp_event.h, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_lock.h,
	  src/sccp_management.c, src/sccp_management.h, src/sccp_mwi.c,
	  src/sccp_mwi.h, src/sccp_pbx.c, src/sccp_pbx.h,
	  src/sccp_protocol.c, src/sccp_protocol.h, src/sccp_refcount.c,
	  src/sccp_refcount.h, src/sccp_rtp.c, src/sccp_rtp.h,
	  src/sccp_socket.c, src/sccp_socket.h, src/sccp_softkeys.c,
	  src/sccp_softkeys.h, src/sccp_threadpool.c,
	  src/sccp_threadpool.h, src/sccp_utils.c, src/sccp_utils.h:
	  Reformat sources

	* [r5789] ChangeLog, src/chan_sccp.c, src/chan_sccp.h,
	  src/chan_sccp_enums.hh, src/common.h, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/ast104.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast106.h,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast110.h,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast112.h,
	  src/pbx_impl/ast/ast112_announce.c,
	  src/pbx_impl/ast/ast112_announce.h, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/ast/ast113.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.h, src/sccp_adv_features.c,
	  src/sccp_adv_features.h, src/sccp_appfunctions.c,
	  src/sccp_appfunctions.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_cli_table.h,
	  src/sccp_conference.h, src/sccp_config.c, src/sccp_config.h,
	  src/sccp_config_entries.hh, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_devstate.c, src/sccp_devstate.h, src/sccp_dllists.h,
	  src/sccp_enum_macro.h, src/sccp_event.c, src/sccp_event.h,
	  src/sccp_event_enums.hh, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_lock.h,
	  src/sccp_management.c, src/sccp_management.h, src/sccp_mwi.c,
	  src/sccp_mwi.h, src/sccp_pbx.c, src/sccp_pbx.h,
	  src/sccp_protocol.c, src/sccp_protocol_enums.hh,
	  src/sccp_refcount.c, src/sccp_refcount.h, src/sccp_rtp.c,
	  src/sccp_rtp.h, src/sccp_socket.c, src/sccp_socket.h,
	  src/sccp_softkeys.c, src/sccp_softkeys.h, src/sccp_threadpool.c,
	  src/sccp_threadpool.h, src/sccp_utils.c, src/sccp_utils.h:
	  Enhancement: Added kate source format line to all files. Fix:
	  gcc-4.9.2 compilation issue because of file end

2014-11-04  ddegroot

	* [r5788] src/sccp_mwi.h: Fix: Ast-13 compile issue. Reported by
	  Niklas Larsson.

2014-11-01  marcelloceschia

	* [r5787] autoconf/asterisk.m4, autoconf/extra.m4, configure,
	  src/config.h.in, src/pbx_impl/ast/define.h, src/sccp_mwi.c,
	  src/sccp_mwi.h: stasis patch by Matt Hoskins, requires
	  experiamental mode

2014-10-26  ddegroot

	* [r5786] src/sccp_config.c, src/sccp_event.c, src/sccp_pbx.c,
	  src/sccp_refcount.c, src/sccp_softkeys.c, src/sccp_threadpool.c:
	  Enhancement: replace free/ast_free with sccp_free and realloc
	  with sccp_realloc (consistency)

	* [r5785] src/sccp_event.c, src/sccp_refcount.c,
	  src/sccp_softkeys.c, src/sccp_threadpool.c, src/sccp_utils.c:
	  Enhancement: use sccp_malloc/sccp_calloc everywhere so that all
	  allocation show up in 'memory show summary'. Fix: Memory Leak in
	  sccp_softkey

2014-10-26  marcelloceschia

	* [r5784] src/sccp_socket.c: debug send messages when
	  DEBUGCAT_MESSAGE

2014-10-25  ddegroot

	* [r5783] src/sccp_softkeys.c: Fix: sccp_sk_post_reload to fixup
	  devices and softkeys (only required for experimental mode and
	  because of device before softkey parsing order

	* [r5782] src/sccp_softkeys.c: Fix: apptID -> appID

	* [r5781] src/sccp_softkeys.c: Fix: cleanup some of the doxygen
	  remarks

	* [r5780] conf/sccp.conf.annotated, src/chan_sccp.h,
	  src/sccp_actions.c, src/sccp_cli.c, src/sccp_config.c,
	  src/sccp_config_entries.hh, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_softkeys.c, src/sccp_softkeys.h,
	  src/sccp_utils.c, src/sccp_utils.h: Enhancement: Added
	  'uriaction' parameter to softkeyset, which makes it possible to
	  intercept a softkey press and handled it using a custom
	  implementation by calling a url instead (experimental feature).
	  Custom Feature Requested by Cody Miller-Kelly (Vertiro)

2014-10-24  marcelloceschia

	* [r5779] src/sccp_indicate.c: fixes #228 (in and out of band
	  signaling during ringout)

2014-10-24  ddegroot

	* [r5778] src/sccp_actions.c, src/sccp_cli.c, src/sccp_softkeys.c,
	  src/sccp_softkeys.h: Enhancement: Reduce the softkey class
	  exposure

2014-10-23  ddegroot

	* [r5777] src/sccp_utils.c, src/sccp_utils.h: Enhancement: Added
	  labelstr2int lookup function

2014-10-19  ddegroot

	* [r5776] src/sccp_conference.c, src/sccp_pbx.c: Enhancement: Check
	  if conference->bridge was created succesfully during
	  conference_create or return NULL, and cancel conference. Issue
	  reported by Asela Fernando

	* [r5775] src/sccp_refcount.c: Fix: refcount array length should be
	  prime number.

	* [r5774] src/sccp_conference.c: Enhancement: Check if
	  conference->bridge exists before trying to join it. Issue
	  reported by Asela Fernando

2014-10-14  ddegroot

	* [r5773] conf/sccp.conf.annotated: Doc: add useRedialMenu
	  requiredment for phoneServices entry

2014-10-13  ddegroot

	* [r5772] src/sccp_channel.c: Fix: segfault set_originalCalledParty
	  / set_originalCallingParty. Reported by Alena Juk.

2014-10-10  marcelloceschia

	* [r5771] src/pbx_impl/ast/ast113.c: references #237; remove debug
	  notice output

	* [r5770] src/pbx_impl/ast/ast113.c: fixes #237; asterisk
	  introduces a none codec that kills asterisk translation path
	  whereas there a valid codec after the none

2014-10-09  ddegroot

	* [r5769] src/sccp_indicate.c: Fix: remove duplicate information
	  from status bar when channel is ringing, no need to duplicate the
	  CallPlane information

	* [r5768] contrib/phone_screenshot/phone_screenshot: Fix:
	  phone_screenshot

	* [r5767] src/sccp_indicate.c: Enhancement: Show
	  originalCalledNumber if available during ringin in the status bar

2014-10-08  ddegroot

	* [r5766] src/pbx_impl/ast/ast113.c, src/sccp_utils.c: Fix: doxygen
	  issues

	* [r5765] src/sccp_actions.c, src/sccp_pbx.c: Enhancement: Change
	  Log Levels to reduce logging with 'core set verbose 2' to only
	  show the most important including notices/errors

	* [r5764] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_channel.c, src/sccp_features.c, src/sccp_pbx.c: Cleanup:
	  scheduled digittimeout. Enhancement: Reduce log level for
	  extension matcher

	* [r5763] src/sccp_actions.c, src/sccp_device.c, src/sccp_line.c,
	  src/sccp_pbx.c: Enhancement: Revised cfwdBusy handling (db
	  update, device status check etc).

	* [r5762] ChangeLog, INSTALL, Makefile.in, autoconf/extra.m4,
	  autoconf/missing, configure, contrib/gen_sccpconf/Makefile.in,
	  doc/Makefile.in, src/Makefile.in: Update: ChangeLog staring at
	  revision 5500

2014-10-06  ddegroot

	* [r5761] src/sccp_protocol.h, src/sccp_utils.c, src/sccp_utils.h:
	  Enhancement: LineStat, LineStatV2, cli test message linestat

	* [r5760] src/sccp_actions.c, src/sccp_device.c: Fix: memory
	  corruption of url string in sccp_device_setBackground

	* [r5759] src/chan_sccp.h, src/sccp_appfunctions.c, src/sccp_cli.c,
	  src/sccp_config_entries.hh: Fix: Reinstating imageversion, Added:
	  loadedimageversion (set during register if available). Required
	  to force minimal required firmware revision on old devices
	  without cnf.xml file.

	* [r5758] src/sccp_pbx.c: Fix: one single line instance we should
	  be informing asterisk when the channel is going to forwarded,
	  when this channel is called. That way the 'i' option can be used
	  in app_queue for example. Also provided a shared line variant
	  which needs further testing

	* [r5757] src/sccp_device.c: Fix: Prevent long callforward
	  extensions from overflowing the statusprompt line

	* [r5756] src/pbx_impl/pbx_impl.h: Fix: renamed
	  setChannelCallForward parameter

	* [r5755] src/sccp_conference.c: Fix: Show new ConfList Icons for
	  phones with protocolversion 15 instead of 17. Reported by Cody
	  Miller-Kelly

2014-10-04  ddegroot

	* [r5754] contrib/convert_conf_to_sql.pl[ADD]: Added sccp.conf->sql
	  converter created by Dave Burgess to the contrib directory

2014-09-30  ddegroot

	* [r5753] src/sccp_softkeys.c: Fix: sccp_sk_answer replace barrier
	  with locked pbx_channel_ref and unref after sccp_channel_answer.
	  Clean: old remarks

2014-09-30  marcelloceschia

	* [r5752] src/sccp_utils.c: always close string with \0 when
	  copying strings between src and dst; closes #236

2014-09-26  ddegroot

	* [r5751] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_protocol.c, src/sccp_protocol.h: Cleanup:
	  sccp_actions.c. Enhancement: Moved ConnectionStatReq to
	  sccp_protocol.c. Fixed: ConnectionStatRes processing for V22
	  messages.

	* [r5750] ChangeLog, src/sccp_cli.c: Fix: compiling with
	  --disable-realtime. Reported by Steve Hanselman

	* [r5749] ChangeLog, autoconf/asterisk.m4, configure,
	  src/config.h.in, src/sccp_cli.c, src/sccp_utils.c,
	  src/sccp_utils.h: Enhancement: Replacement for the
	  sccp_copy_string function. Added cli test function for callinfo.

	* [r5748] src/sccp_protocol.c: Fix: Add asterisk/unaligned.h to
	  sccp_protocol.c. Reported by Jay Glenn.

2014-09-23  ddegroot

	* [r5747] src/sccp_features.c: Fix: Conferencing selected calls.
	  Reported by David George.

2014-09-20  ddegroot

	* [r5746] src/sccp_refcount.c: Fix: refcount constructor debug
	  logging

	* [r5745] contrib/refcounter.py[ADD], src/sccp_refcount.c:
	  Enhancement: Switched to new asterisk refcount debugging method.
	  Used static declaration for ref_count_debug file and only open
	  and close it once per module load/unload cycle. Copied their
	  refcounter.py script to contrib directory.

	* [r5744] ChangeLog, aclocal.m4, autoconf/asterisk.m4, configure:
	  Fix: Added an extra check size <> 0 in sccp_copy_string

2014-09-19  ddegroot

	* [r5743] src/sccp_actions.c: Fix: buffer overflow in
	  sccp_handle_ConnectionStatistics when QualityStatsSize==0.
	  (Reported by Sharan Harkisoon)

2014-09-18  marcelloceschia

	* [r5742] src/sccp_protocol.h: fixes #234

2014-09-15  ddegroot

	* [r5741] src/sccp_protocol.h: Fix: Conference on 7960, reversion
	  of previous change (to please clang static analysis). (Patch
	  submitted by Sharan Harkisoon)

2014-09-10  ddegroot

	* [r5740] src/sccp_channel.c: Enhancement: Reduced WARNING to
	  sccp_log(DEBUGCAT_CHANNEL) in the channel_find functions.
	  (Reported by Sander Smeenk).

	* [r5739] src/sccp_device.c: Fix: Exclude setSoftkeyState when
	  KEYMODE_EMPTY is invoked

2014-09-09  ddegroot

	* [r5736] src/config.h.in, src/sccp_actions.c: Fix: Add
	  DEVICESTATE_OFFHOOK to sccp_handle_offhook. (Fix for sf:#239)

2014-09-08  ddegroot

	* [r5735] .version, ChangeLog, Makefile.in, NEWS, README,
	  autoconf/config.guess, autoconf/config.sub, autoconf/depcomp,
	  autoconf/install-sh, autoconf/missing, debian/changelog,
	  src/Makefile.in, src/config.h.in: Release: Chan_SCCP-4.2.0_RC2

2014-09-07  ddegroot

	* [r5734] src/sccp_actions.c, src/sccp_hint.c: Fix: Initialize
	  values

2014-09-06  ddegroot

	* [r5733] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_channel.c, src/sccp_pbx.c, src/sccp_refcount.h: Fix:
	  digittimeout / scheduled hangup issues reported when in immediate
	  mode using newly implemented sched_*_ref functions, correcting an
	  error in the asterisk AST_SCHED_DEL macro. (Reported by Pavel
	  Troller)

	* [r5732] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast113.c:
	  Fix: old-style field designator extension

	* [r5731] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix:
	  CS_AST_CONTROL_INCOMPLETE handling in regards to digittimeout

	* [r5730] src/chan_sccp.c, src/chan_sccp.h, src/sccp_mwi.c:
	  Enhancement: Remove sccp_sched_del / sccp_sched_add functions in
	  favor of the PBX() versions

	* [r5729] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/pbx_impl.h: Enhancement: Added
	  sched_add_ref/sched_del_ref/sched_replace_ref wrapper functions

2014-09-05  ddegroot

	* [r5728] conf/tftp/SEP0000000000.cnf.xml_797x_template: Enable
	  phoneservices in 797x template

2014-09-04  ddegroot

	* [r5727] src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/sccp_channel.c, src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_protocol_enums.hh: Fix: Transfer to sharedline(default).
	  Fix: Channel on hold for transfer remote announcement causing
	  trouble to answer on sharedline device. (Reported by Antonio /
	  Ian / Martin)

2014-09-03  ddegroot

	* [r5726] src/chan_sccp.h, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_pbx.c: Fix: digittimeout / scheduled_hangup / refcount

	* [r5725] src/sccp_channel.c, src/sccp_refcount.c: Fix
	  scheduled_hangup / scheduled_digit refcount.

2014-09-02  ddegroot

	* [r5724] src/chan_sccp_enums.hh, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_hint.c, src/sccp_indicate.c:
	  Removed CHANNELSTATE_HELD_FOR_TRANSPORT

2014-09-01  ddegroot

	* [r5723] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c:
	  Fix: compile error for asterisk-1.8 / asterisk-10. (Reported by
	  Hhornung)

	* [r5722] src/sccp_channel.c, src/sccp_channel.h: Enhancement:
	  Changed sccp_chanenl_sched_hangup_by_callid to static
	  _sccp_chanenl_sched_hangup

	* [r5721] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c:
	  Fix: compile error for asterisk-1.8 / asterisk-10. (Reported by
	  Hhornung)

	* [r5720] src/sccp_channel.c: Revised set OriginalCalledParty /
	  OriginalCallingParty

	* [r5719] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix: Allow calledparty/callingparty to
	  be overwritten using an empty string during connectedline update.
	  (Issue & Adapted Patch by Antonio).

	* [r5718] src/sccp_channel.c: Enhancement: Synchronized
	  setCalled/setCalling/setOriginalCalled/setOriginalCalling party
	  funcions.

	* [r5717] src/sccp_features.c: Fix: Transfer using 6921
	  (Reported/Patched by Antonio)

2014-08-31  ddegroot

	* [r5716] src/pbx_impl/ast/ast.c, src/sccp_appfunctions.c:
	  Enhancement: Implement a way to set OriginalCallingParty and
	  OrginalCalledParty from the dialplan. Revised supplied p1 patch
	  in favor of implementing the same functionality via CHANNEL()
	  instead. Deprecated the SCCPSetCalledParty function in the
	  process. (Reported and Patch (p1) provided by Nikolay Vasilev)

	* [r5715] src/sccp_utils.c: Enhancement: Store callforward
	  information into astdb once by device/line and once by
	  line/device. (Reported and Patch (p2_v2) provided by Nikolay
	  Vasilev)

	* [r5714] src/chan_sccp.h, src/pbx_impl/ast/ast111.c,
	  src/sccp_actions.c, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_features.c, src/sccp_indicate.c, src/sccp_pbx.c,
	  src/sccp_softkeys.c: Fix: scheduled hangup (references #220,
	  references #221, references #223, references #224)

2014-08-30  ddegroot

	* [r5713] src/sccp_device.c: Fix: Remove const from device when
	  running without atomic functions

2014-08-30  marcelloceschia

	* [r5712] conf/tftp/XMLDefault504G.cnf.xml[ADD]:
	  XMLDefault504G.cnf.xml

2014-08-30  ddegroot

	* [r5711] src/sccp_device.c: Fix: memset call_statistics during
	  device creation

	* [r5710] src/chan_sccp.h, src/sccp_actions.c, src/sccp_cli.c:
	  Remove call_stats->type which is not required and seems to
	  conflict with pthreads

	* [r5709] src/sccp_socket.c: Fix: Downplay getnameinfo error in
	  sccp_socket_stringify (We are trying to report and error, and
	  should not generate extra ones if the incoming data is wrong).
	  Use them instead of tmp__addr.ss to report connection issues in
	  sccp_socket_getOurAddressfor. (Reported by Jordan Cook)

2014-08-29  ddegroot

	* [r5708] src/pbx_impl/ast/ast106.c: Fix compilation against
	  asterisk-1.6

2014-08-23  ddegroot

	* [r5707] src/sccp_hint.c: Enhancement: Localize the creation and
	  use of tmpChannel (only where needed)

	* [r5706] README.md: Fix: README.md documentation links

2014-08-22  ddegroot

	* [r5705] ChangeLog: Test: svn commit hook

	* [r5704] ChangeLog: Test: svn commit hook

	* [r5703] INSTALL: Test: svn commit hook

	* [r5702] ChangeLog: Test: svn commit hook

	* [r5701] .travis.yml: Fix: .travis.yml replace sude with sudo

2014-08-21  ddegroot

	* [r5700] .travis.yml: Enhancement: Test to see if travis can use
	  ubuntu trusty sources for asterisk-11 (permission fix)

	* [r5699] .travis.yml: Enhancement: Test to see if travis can use
	  ubuntu trusty sources for asterisk-11

	* [r5698] .travis.yml: Fix: rather use ddegroot instead.

2014-08-21  marcelloceschia

	* [r5697] .travis.yml: add notifications

2014-08-21  ddegroot

	* [r5696] README.md: Update: README.md

	* [r5695] .travis.yml: Fix: Make travis compile against asterisk-11
	  (3) :-((

	* [r5694] .travis.yml: Fix: Make travis compile against asterisk-11
	  (2) :-(

	* [r5693] .travis.yml: Fix: Make travis compile against asterisk-11
	  (1)

	* [r5692] README.md: Fix: README.md

	* [r5691] .travis.yml: Fix: Make travis compile against asterisk-11

	* [r5690] Makefile.am, Makefile.in: Fix: Add test to Makefile for
	  travis.yml

	* [r5689] README.md: Fix: README.md

2014-08-21  marcelloceschia

	* [r5688] README.md: test

2014-08-21  ddegroot

	* [r5687] src/sccp_labels.h: Doc: Added some comments to labels

	* [r5686] src/pbx_impl/ast/ast.c: Fix: hangup after conference
	  should be queue, but no ast_pbx_pbx was ever started, because we
	  were running our own conference thread.

	* [r5685] src/sccp_conference.c: Fix: conferenceId difference
	  between moderator and poarticipant

2014-08-20  ddegroot

	* [r5684] README, README.md[ADD]: Added travis compilation status
	  link

	* [r5683] README: Added travis compilation status link

	* [r5682] .travis.yml[ADD]: Added travis yml file

	* [r5681] src/sccp_cli.c: Enhancement: Added 'sccp show hint
	  lineStates' cli/ami function. Added 'sccp show hint
	  subscriptions' cli/ami function. Extension: Added test message to
	  display screenshot of all supported labels by a particular device
	  (part of label research).

	* [r5680] src/sccp_hint.c, src/sccp_hint.h: Enhancement: Added
	  'sccp show hint lineStates' cli/ami function. Added 'sccp show
	  hint subscriptions' cli/ami function. Extension: Added test
	  message to display screenshot of all supported labels by a
	  particular device (part of label research).

	* [r5679] contrib/gen_sccpconf/gen_sccpconf.c,
	  contrib/gen_sccpconf/gen_sccpconf.h: Fix: gen_sccpconf adaptation
	  to new sccp_config_entries.hh format.

2014-08-19  ddegroot

	* [r5678] src/pbx_impl/ast/ast113.h: Fix: asterisk-13 + conference

2014-08-19  marcelloceschia

	* [r5677] src/pbx_impl/ast/ast113.c: fix asterisk 13 compiling with
	  video and conference

2014-08-19  ddegroot

	* [r5676] src/sccp_channel.c, src/sccp_device.c: Fix: Prevent
	  Indicate Ringing from cleaning out the called party name if
	  already set correctly. Adapt sccp_channel_set_calledparty to make
	  it possible to distinquish between leaving the name alone or
	  cleaning it out. (Reported/Tested by Nikolay Vasilev)

	* [r5675] src/sccp_channel.c, src/sccp_device.c: Revert
	  sccp_channel.c sccp_device.c from previous commit (accidentally
	  checked in)

	* [r5674] src/pbx_impl/ast/ast113.c, src/pbx_impl/ast/ast113.h,
	  src/sccp_channel.c, src/sccp_device.c: Fix: ast-13 compilation
	  with conference. Fix: const/non-const compile warning

	* [r5673] src/pbx_impl/ast/ast112.h: Fix: file header

2014-08-19  marcelloceschia

	* [r5672] src/pbx_impl/ast/ast113.c, src/pbx_impl/ast/ast113.h:
	  starting with asterisk 13 compatibility

2014-08-19  ddegroot

	* [r5671] src/sccp_device.c: Fix: Rework indicate dialing so that
	  Placed Calls information is updated correctly. SendCallState has
	  to happen after sendDialedNumber & sendCallInfo. Split the
	  function in two helper parts to reduce the number of earlyrtp
	  checks. sccp_device_indicate_dialing should be removed completely
	  later on. (Issue reported by Steve Storts)

2014-08-18  ddegroot

	* [r5670] Makefile.in, autoconf/asterisk.m4, autoconf/extra.m4,
	  configure, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast113.h: Fix: Update configure.ac/makefile.am
	  to recognise asterisk-trunk (asterisk-13). Compilation against
	  asterisk-13 currently broken, needs fixing/more work. references
	  #226.

	* [r5669] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_hint.c, src/sccp_indicate.c: Fix: Spelling mistake

	* [r5668] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_hint.c, src/sccp_indicate.c: Enhancement: Adapt to added
	  SCCP_CHANNELSTATE_HELP_FOR_TRANSFER

	* [r5667] src/chan_sccp_enums.hh, src/sccp_channel.c: Enhancement:
	  Added SCCP_CHANNELSTATE_HELD_FOR_TRANSFER (references #211)

2014-08-16  ddegroot

	* [r5666] src/sccp_device.c, src/sccp_socket.c: Fix: compile
	  warning because of unused variable

	* [r5665] src/sccp_features.c: Fix: Compile Error. References #219
	  / Bug Report: 237 / HHornung

2014-08-16  marcelloceschia

	* [r5664] src/sccp_features.c: references #219

	* [r5663] src/sccp_indicate.c: closes #217 (Shared Line & Caller ID
	  )

2014-08-13  ddegroot

	* [r5662] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c:
	  Enhancement: Set lastRedirectReason = 4 when call is being
	  transfer -> Will show more detailed information in ReceiveCalls
	  (Original Caller and Transferer records). (Supported in
	  Information Gathering and Analyses by Philippe Teissier.).
	  Callplane does not show the improvement that we hoped for though,
	  which is a shame.

	* [r5661] src/sccp_device.c, src/sccp_socket.c: Fix: Make
	  sccp_session_removeDevice return the device that was removed from
	  the session, so that we can use it for some other action. Use
	  sccp_session_removeDevice during crossoversession handling (Which
	  includes locking the session during the procedure.). (Minor Issue
	  reported by Pavel).

2014-08-11  ddegroot

	* [r5660] src/sccp_labels.h: Doc: Updated some comments to labels,
	  to clarify their current/future use

	* [r5659] src/chan_sccp.h, src/sccp_labels.h: Doc: Added some
	  comments to labels, to clarify their current/future use

	* [r5658] src/sccp_conference.c: Fix: conference regression.
	  (Reported by Alena Juk)

	* [r5657] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix: hangup
	  when called without a non-existing sccp channel would unref the
	  channel before setting channel tech to NULL, causing a segfault
	  in ast_channel_destructor while free-ing channel tech. (Reported
	  by Dave Burgess)

2014-08-10  ddegroot

	* [r5656] aclocal.m4, autoconf/acinclude.m4, autoconf/extra.m4,
	  configure, tools/versioncheck: Enhancement: Change default
	  configure values for optization and debug when running inside
	  versioncontrolled directory. Values remain the same when using a
	  TGZ file.

	* [r5655] src/pbx_impl/ast/ast.c: Fix: Make digits[] const
	  (sendDigit)

	* [r5654] src/pbx_impl/ast/ast.c: Fix: Remove undefined behaviour
	  (sendDigit)

	* [r5653] src/sccp_utils.c: Debug: Add debug output for addons
	  using fauly d->config_type='7914' config parameter

	* [r5652] ChangeLog, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_socket.c: Doc: Update/Fix Doxygen

	* [r5650] src/sccp_config.c: Fix: also deal with the bad config
	  example 'button = line, empty', that was accidentally
	  distributed.

	* [r5649] ChangeLog, conf/sccp.conf,
	  conf/sccp_hardware.conf.freepbx: Doc: Fix empty button examples

	* [r5648] src/sccp_socket.c: Debug: Reduce debug level of session
	  without a device attached output.

	* [r5647] src/sccp_config.c: Fix: Handle buttons with a type but
	  without any options as an empty button (Reworked). (Issue
	  reported by Dave Burgess)

	* [r5646] src/sccp_config.c: Fix: Revert revision 5644. (Issue
	  reported by Pavel)

2014-08-09  ddegroot

	* [r5645] src/sccp_channel.c: Fix: Check
	  d->lineButtons.instance[instance] before dereferencing any of
	  it's components. (Issue reported by Dave Burgess)

	* [r5644] src/sccp_config.c: Fix: Handle buttons with a type but
	  without any options as an empty button. (Issue reported by Dave
	  Burgess)

	* [r5643] src/chan_sccp.c, src/sccp_actions.c, src/sccp_socket.c,
	  src/sccp_socket.h: Enhancement: concentrate crossover session
	  handling in one function, Fix: crossover session device cleanup.
	  (Issue reported by Ian McAlees)

2014-08-08  ddegroot

	* [r5642] contrib/llvm-scan-build: Update: llvm-scan-build script
	  to include more checks

	* [r5641] src/sccp_actions.c, src/sccp_appfunctions.c,
	  src/sccp_config.c, src/sccp_device.c, src/sccp_socket.c,
	  src/sccp_utils.c: Fix: invalid use of sizeof refering to a
	  pointer instead of the actual size

	* [r5640] src/pbx_impl/ast/ast.c: Fix: senddigit->senddigits
	  leading to out of bounds access

	* [r5639] src/chan_sccp.h, src/sccp_cli.c: Fix: invalid use of
	  sizeof refering to a pointer instead of the actual size

	* [r5638] src/pbx_impl/ast/ast.c: Fix: senddigit->senddigits
	  leading to out of bounds access

	* [r5637] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_utils.c: Fix: memcpy out of bounds

	* [r5636] contrib/convert_runningconf_to_sql.sh[DEL],
	  contrib/gen_sccpconf/Makefile.in: Removal of
	  convert_runningconf_to_sql.sh

	* [r5635] src/sccp_actions.c, src/sccp_hint.c: Fix:
	  channelstate/callstate mixup

	* [r5634] src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/sccp_channel.c, src/sccp_channel.h, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_indicate.h: Enhancement: Introduction of Groupable
	  ChannelStates (RB: 60)

2014-08-07  ddegroot

	* [r5633] src/sccp_devstate.c: Fix: Should use the retained version
	  of device, when walking throught he table, to prevent null
	  pointer dereference

	* [r5632] src/sccp_conference.c: Fix: Prevent potential
	  null-pointer dereferences

	* [r5631] src/sccp_hint.c: Fix: Should use the retained version of
	  device, when walking throught he table, to prevent null pointer
	  dereference

	* [r5630] src/sccp_actions.c: Fix: Existence of device is not
	  quaranteed at this moment

	* [r5629] src/sccp_line.c: Fix: Prevent dereference of NULL Pointer
	  when reading SCCP_LIST_GETSIZE

	* [r5628] src/config.h.in, src/sccp_actions.c, src/sccp_cli.c,
	  src/sccp_device.c, src/sccp_indicate.c: Fix: Dial Prompt /
	  Overlap Dialing Issue (Reported/Tested by Dan Huynh (normal
	  mode), Patched/Tested by Pavel Troller (immediate mode))

2014-08-06  ddegroot

	* [r5627] contrib/convert_runningconf_to_sql.sh[ADD]: Enhancement:
	  Created simple bash script to parse a running config to sql
	  output (Might need heavy modification by the user depending on
	  table format)

2014-08-05  ddegroot

	* [r5626] INSTALL, Makefile.in, aclocal.m4, autoconf/acinclude.m4,
	  autoconf/config.guess, autoconf/config.sub, autoconf/depcomp,
	  autoconf/install-sh, autoconf/missing, configure,
	  doc/Makefile.in, src/Makefile.in: Enhancement: Overwrite
	  pkg-config asterisk.pc settings when using --with-asterisk in
	  configure.

2014-08-04  ddegroot

	* [r5625] src/sccp_features.c: Prevention: Preventative fix for
	  memory leak when using getPickupExtension, in remarked out code.

	* [r5624] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c: Fix: gpickup via pickup extension (ie:
	  *8). (Reported by Ian)

2014-07-31  ddegroot

	* [r5623] src/sccp_actions.c: Enhancement: Added debug output when
	  redial is called without a lastnumber stored

	* [r5622] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c: Backport: no codecs when receiving
	  update_rtp_peer lead to segfault. (Reported and Tested by
	  Vladimir Karpov).

2014-07-30  ddegroot

	* [r5621] src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c:
	  Fix: update_rtp_peer called with 0 codecs when using >
	  asterisk-12. (Reported by Vladimir Karpov)

	* [r5620] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix: debug message about hangup_cause
	  being set

	* [r5619] conf/sccp.conf.annotated, src/sccp_config_entries.hh:
	  Fix: Updated externip config comment. Regenerated
	  sccp.conf.annotated sample file.

	* [r5618] src/sccp_device.c: Fix: Add pushbackground to 796N
	  phones. (Reported by John Brithner)

	* [r5617] src/sccp_cli.c, src/sccp_config_entries.hh,
	  src/sccp_socket.c: Fix: setting default externip to 0.0.0.0, to
	  make the ipaddress parser happy. Reenabled showing externip in
	  cli:'sccp show globals'. Use anyaddress check in
	  sccp_socket_getExternalAddr() to see if default value has been
	  replaced by an actual address. (Re-Reported by Pavel)

	* [r5616] src/sccp_channel.c, src/sccp_config_entries.hh,
	  src/sccp_socket.c: Fix: if externip is not set fallback to
	  ipaddress of incoming interface. Remove deprecation from externip
	  parameter. This will restore previous behaviour but still provide
	  NAT behaviour needed for PBX on sepeperate host behind natted
	  firewall. (Reported by Dan / Pavel / Ian)

2014-07-28  ddegroot

	* [r5615] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Enhancement: add asterisk indication
	  translations

	* [r5614] src/sccp_config_entries.hh: Fix: Changed localnet default
	  to 'internal'

	* [r5613] src/sccp_device.c: Fix: compile failure (related to 69XX
	  commit)

	* [r5612] src/sccp_actions.c: Enhancement: Fix SoftKeySetRes
	  message, filling the SoftKeyInfoIndex correctly

	* [r5611] src/sccp_protocol.h: Fix: sync default offhookfeat
	  keymode with offhook keymode settings

	* [r5610] src/sccp_device.c, src/sccp_features.c: Support
	  transfer/callforward on 69XX phones, by using different keymodes.
	  Reported by Antonio

2014-07-27  ddegroot

	* [r5609] src/pbx_impl/ast/ast111.c, src/sccp_actions.c: Fix:
	  sccp_handle_keypadbutton when in CHANNELSTATE_DIALING or when
	  pbx_run is running we should to force overlap dialing from that
	  moment on. (Reported by Dan / Checked/Tested by Pavel).

2014-07-25  ddegroot

	* [r5608] conf/sccp.conf.annotated, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_config_entries.hh: Enhancement: Transfer_on_hangup has
	  been changed to only be activated by onhook event. The endcall
	  softkey will cancel the transfer and revert to the original
	  caller. (Requested by Antonio)

2014-07-24  ddegroot

	* [r5607] src/sccp_actions.c, src/sccp_channel.c, src/sccp_rtp.c,
	  src/sccp_socket.c, src/sccp_socket.h: Fix: NAT issue after IPv6
	  implementation, Fixes long standing nat issue since revision 5063
	  (Reported by Dan Huynh).

	* [r5606] src/sccp_device.c, src/sccp_protocol.h: Fix:
	  KEYMODE_OFFHOOKFEAT when KEYMODE_OFFHOOK is requested during
	  Transfer on protocolversion 22 phones (Which should include
	  69XX). Not sure if this should be specific for 69XX phones or if
	  protoversion 22 phones in general need this keymode. (Reported by
	  Antonio).

2014-07-22  ddegroot

	* [r5605] src/sccp_threadpool.c: Fix thread_t pointer (debug
	  information) for x86 by forcing to void pointer (generic)

	* [r5604] conf/sccp.conf: Fix: sccp.conf example by removing some
	  of the deprecated / obsolete values

	* [r5603] src/sccp_threadpool.c: Fix: make compatible with system
	  where pthread_t is a pointer which cannot be downgraded to
	  unsigned int.

2014-07-19  ddegroot

	* [r5602] src/sccp_protocol.c, src/sccp_protocol.h: Enhancement:
	  OpenReceiveChannel V3 message, to include remote source
	  ip-address and port

2014-07-16  ddegroot

	* [r5601] src/sccp_actions.c, src/sccp_protocol.c: Fix: enbloc
	  dialing on 7936 using protocolversion 4 (Cleaning out
	  lineInstance correctly) (Reported by Ivan Isenko).

	* [r5600] src/sccp_protocol.c: Added Enbloc dialing to SPCP
	  protocol (Reported by Ivan Isenko).

