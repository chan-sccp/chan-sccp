------------------------------------------------------------------------
r2399 | davidded | 2011-02-17 23:46:57 +0100 (Do, 17. Feb 2011) | 1 Zeile

fixed gpickup issue (DK) and line button answer (DD/DK)
------------------------------------------------------------------------
r2398 | ddegroot | 2011-02-17 18:58:27 +0100 (Do, 17. Feb 2011) | 2 Zeilen

Fixed gpickup (callerid copying undefined name and number values)

------------------------------------------------------------------------
r2397 | ddegroot | 2011-02-17 12:45:54 +0100 (Do, 17. Feb 2011) | 3 Zeilen

Renamed XMLDefault.cnf.xml templates to SEP0000000000.cnf.xml_79xx_template
Updated documentation

------------------------------------------------------------------------
r2396 | ddegroot | 2011-02-17 10:31:36 +0100 (Do, 17. Feb 2011) | 2 Zeilen

Implemented TokenAck Handling (Advanced Feature) to fail back once the primairy server becomes available again

------------------------------------------------------------------------
r2395 | ddegroot | 2011-02-17 10:30:35 +0100 (Do, 17. Feb 2011) | 3 Zeilen

Updated protocolversion in sccp.conf default to 17
Updated XMLDefault.cnf.xml files to include fallback servers

------------------------------------------------------------------------
r2394 | ddegroot | 2011-02-17 09:10:54 +0100 (Do, 17. Feb 2011) | 1 Zeile

replaced protocol by procolversion in short config samples
------------------------------------------------------------------------
r2393 | marcelloceschia | 2011-02-17 07:36:14 +0100 (Do, 17. Feb 2011) | 1 Zeile

set max p version 17
------------------------------------------------------------------------
r2392 | ddegroot | 2011-02-16 21:22:24 +0100 (Mi, 16. Feb 2011) | 1 Zeile

Added text field to RegisterTokenReject
------------------------------------------------------------------------
r2391 | ddegroot | 2011-02-16 21:21:27 +0100 (Mi, 16. Feb 2011) | 2 Zeilen

changed timeout warning to notice

------------------------------------------------------------------------
r2390 | ddegroot | 2011-02-16 21:15:57 +0100 (Mi, 16. Feb 2011) | 2 Zeilen

Updated documentation on earlyrtp and sharedlines

------------------------------------------------------------------------
r2389 | ddegroot | 2011-02-16 17:40:00 +0100 (Mi, 16. Feb 2011) | 4 Zeilen


Update meetme sccp.conf documentation


------------------------------------------------------------------------
r2388 | ddegroot | 2011-02-16 15:24:19 +0100 (Mi, 16. Feb 2011) | 2 Zeilen

Added warning to sccp_config for unknown softkeys in softkeyset

------------------------------------------------------------------------
r2387 | ddegroot | 2011-02-16 15:10:07 +0100 (Mi, 16. Feb 2011) | 3 Zeilen

Updated sccp.conf to include the correct softkeyset
Updated sccp_cli to display show softkeyset including the names of the softkeysets

------------------------------------------------------------------------
r2386 | ddegroot | 2011-02-16 14:24:34 +0100 (Mi, 16. Feb 2011) | 2 Zeilen

Fixed warning on compile of sccp_conference.c

------------------------------------------------------------------------
r2385 | ddegroot | 2011-02-16 14:23:05 +0100 (Mi, 16. Feb 2011) | 6 Zeilen

Appended meetme configuration parameters to sccp.conf
Updated socket minimum timeout
Fixed "attempted to send messages via a different ip-address" error



------------------------------------------------------------------------
r2384 | ddegroot | 2011-02-15 09:54:36 +0100 (Di, 15. Feb 2011) | 3 Zeilen

Fixed warning : ?\226?\128?\152m?\226?\128?\153 may be used uninitialized in this function in sccp_socket.c
Fixed compiling against Asterisk 1.6 for missing AST_CAUSES

------------------------------------------------------------------------
r2383 | ddegroot | 2011-02-15 03:26:19 +0100 (Di, 15. Feb 2011) | 10 Zeilen

Added regcontext number matching:

When a number is dialed, it is also match against the regcontext dialplan entries, which are created for every SCCP phone when it registers at an asterisk server.
This context never contains any patterns to be matched, which should proclude pattern matching and possible faults, thereof.

For now this feature is only active when compiled --enable-advanced-function.

check: "show dialplan sccpregistration" to see the registered numbers


------------------------------------------------------------------------
r2382 | ddegroot | 2011-02-14 21:31:32 +0100 (Mo, 14. Feb 2011) | 1 Zeile

Fixed non existing ast causes on Asterisk 1.4
------------------------------------------------------------------------
r2381 | marcelloceschia | 2011-02-14 20:28:41 +0100 (Mo, 14. Feb 2011) | 1 Zeile

revert pbx_helper
------------------------------------------------------------------------
r2380 | davidded | 2011-02-14 03:13:07 +0100 (Mo, 14. Feb 2011) | 1 Zeile

conference: now also hangup works
------------------------------------------------------------------------
r2379 | ddegroot | 2011-02-14 01:09:57 +0100 (Mo, 14. Feb 2011) | 1 Zeile

Updated/Extended my comments in sccp_pbx_helper
------------------------------------------------------------------------
r2378 | davidded | 2011-02-14 00:54:11 +0100 (Mo, 14. Feb 2011) | 1 Zeile

work on conference
------------------------------------------------------------------------
r2377 | davidded | 2011-02-14 00:19:40 +0100 (Mo, 14. Feb 2011) | 1 Zeile

work on conference
------------------------------------------------------------------------
r2376 | ddegroot | 2011-02-14 00:10:27 +0100 (Mo, 14. Feb 2011) | 1 Zeile

Updated / Completed list of ast_causes
------------------------------------------------------------------------
r2375 | ddegroot | 2011-02-13 23:45:08 +0100 (So, 13. Feb 2011) | 1 Zeile

Update pbx_helper to timeout immediately on ext_exists (even with canmatch + matchmore).
------------------------------------------------------------------------
r2374 | davidded | 2011-02-13 21:31:30 +0100 (So, 13. Feb 2011) | 1 Zeile

indent
------------------------------------------------------------------------
r2373 | ddegroot | 2011-02-13 20:50:04 +0100 (So, 13. Feb 2011) | 1 Zeile

Moved variable declaration to commented out debug message section to prevent warning during compile
------------------------------------------------------------------------
r2372 | davidded | 2011-02-13 20:32:39 +0100 (So, 13. Feb 2011) | 1 Zeile

indent
------------------------------------------------------------------------
r2371 | marcelloceschia | 2011-02-13 20:26:20 +0100 (So, 13. Feb 2011) | 1 Zeile


------------------------------------------------------------------------
r2370 | marcelloceschia | 2011-02-13 20:25:49 +0100 (So, 13. Feb 2011) | 1 Zeile

 
------------------------------------------------------------------------
r2369 | marcelloceschia | 2011-02-13 20:25:14 +0100 (So, 13. Feb 2011) | 1 Zeile

 
------------------------------------------------------------------------
r2368 | marcelloceschia | 2011-02-13 20:23:36 +0100 (So, 13. Feb 2011) | 1 Zeile

swappable resume
------------------------------------------------------------------------
r2367 | davidded | 2011-02-13 20:11:29 +0100 (So, 13. Feb 2011) | 1 Zeile

debug messages
------------------------------------------------------------------------
r2366 | ddegroot | 2011-02-13 20:05:07 +0100 (So, 13. Feb 2011) | 1 Zeile

Added logging to sccp_handle_open_receive_channel_ack
------------------------------------------------------------------------
r2365 | davidded | 2011-02-13 19:47:55 +0100 (So, 13. Feb 2011) | 1 Zeile

debug messages
------------------------------------------------------------------------
r2364 | ddegroot | 2011-02-13 01:04:04 +0100 (So, 13. Feb 2011) | 2 Zeilen

Set define SCCP_MAX_PACKET back to sizeof(sccp_moo_t) (DdG / Marcello: Sun, 13 Feb 2011 00:32:02 +0100)

------------------------------------------------------------------------
r2363 | ddegroot | 2011-02-13 00:13:51 +0100 (So, 13. Feb 2011) | 1 Zeile

Changed definition of SCCP_MAX_PACKET to 9000 instead of sizeof(sccp_moo_t). Fix for error reported by Adam Matinna when connecting a new device type. Appartently it send packet bigger than size of moo (Sat, 12 Feb 2011 16:27:27 -0500)
------------------------------------------------------------------------
r2362 | ddegroot | 2011-02-12 23:59:08 +0100 (Sa, 12. Feb 2011) | 1 Zeile

SPARegisterMessage not mapped to Text in sccp_protocol.h (Adam Matinna, Report: Sat, 12 Feb 2011 16:27:27 -0500)
------------------------------------------------------------------------
r2361 | ddegroot | 2011-02-10 21:29:05 +0100 (Do, 10. Feb 2011) | 1 Zeile

Reset version to PreRC4
------------------------------------------------------------------------
r2357 | ddegroot | 2011-02-10 21:16:20 +0100 (Do, 10. Feb 2011) | 1 Zeile

Recommit V3.0 RC3.1
------------------------------------------------------------------------
r2356 | marcelloceschia | 2011-02-10 20:03:17 +0100 (Do, 10. Feb 2011) | 1 Zeile

fixes adhoc dial issue
------------------------------------------------------------------------
r2355 | marcelloceschia | 2011-02-10 20:01:54 +0100 (Do, 10. Feb 2011) | 1 Zeile

no const channel for rtp
------------------------------------------------------------------------
r2354 | marcelloceschia | 2011-02-10 18:00:04 +0100 (Do, 10. Feb 2011) | 1 Zeile

fixes callinfo message
------------------------------------------------------------------------
r2353 | ddegroot | 2011-02-10 14:26:58 +0100 (Do, 10. Feb 2011) | 1 Zeile

Fix Debian Package
------------------------------------------------------------------------
r2352 | ddegroot | 2011-02-10 13:16:29 +0100 (Do, 10. Feb 2011) | 2 Zeilen

Reset version to V3.0_PreRC4

------------------------------------------------------------------------
r2350 | ddegroot | 2011-02-10 12:57:18 +0100 (Do, 10. Feb 2011) | 1 Zeile

Issue Release Candidate RC3.1 (V3.0_RC3.1)
------------------------------------------------------------------------
r2349 | ddegroot | 2011-02-10 12:55:59 +0100 (Do, 10. Feb 2011) | 2 Zeilen

Moved use of PRI_CAUSE Helper to ADV_FEATURES

------------------------------------------------------------------------
r2348 | ddegroot | 2011-02-10 12:37:06 +0100 (Do, 10. Feb 2011) | 2 Zeilen

Moved using PRI_CAUSE in sccp_indicate.c only when with ADV_FEATURES

------------------------------------------------------------------------
r2347 | davidded | 2011-02-10 02:52:58 +0100 (Do, 10. Feb 2011) | 1 Zeile

new protocol details
------------------------------------------------------------------------
r2346 | ddegroot | 2011-02-09 19:34:24 +0100 (Mi, 09. Feb 2011) | 2 Zeilen

Reversed the logic on testing EINTR and EAGAIN

------------------------------------------------------------------------
r2345 | ddegroot | 2011-02-09 09:04:51 +0100 (Mi, 09. Feb 2011) | 2 Zeilen

Added comments about ignoring EINTR / EAGAIN socket errno (Sparc64 + OpenBSD) using poll

------------------------------------------------------------------------
r2344 | ddegroot | 2011-02-09 08:52:24 +0100 (Mi, 09. Feb 2011) | 4 Zeilen

Handle Poll revents
Changed polling timeout in sccp_socket_thread (Global SCCP Socket) to -1=no timeout, Poll will now wait for an event indefinitly, without timeing out.


------------------------------------------------------------------------
r2343 | davidded | 2011-02-09 07:42:31 +0100 (Mi, 09. Feb 2011) | 1 Zeile

poll timeout, warnings -> notice
------------------------------------------------------------------------
r2342 | ddegroot | 2011-02-08 14:51:57 +0100 (Di, 08. Feb 2011) | 3 Zeilen

Increased Socket Timeouts
Removed failing code for Unknown Number in sccp_indicate

------------------------------------------------------------------------
r2341 | davidded | 2011-02-08 12:21:25 +0100 (Di, 08. Feb 2011) | 1 Zeile

poll einval egain handling
------------------------------------------------------------------------
r2340 | davidded | 2011-02-07 22:15:40 +0100 (Mo, 07. Feb 2011) | 1 Zeile

fixed button count problem crashing 7970
------------------------------------------------------------------------
r2339 | davidded | 2011-02-07 19:45:06 +0100 (Mo, 07. Feb 2011) | 1 Zeile

tentative fixes
------------------------------------------------------------------------
r2338 | davidded | 2011-02-07 18:42:53 +0100 (Mo, 07. Feb 2011) | 1 Zeile

fixed missing null pointer check
------------------------------------------------------------------------
r2337 | marcelloceschia | 2011-02-06 17:07:36 +0100 (So, 06. Feb 2011) | 1 Zeile

fix compile issue
------------------------------------------------------------------------
r2336 | ddegroot | 2011-02-06 16:05:08 +0100 (So, 06. Feb 2011) | 3 Zeilen

Updated UNKNOWN NUMBER Indication
Renamed SCCP_RTP_STATUS_PROGESS_TRANSMIT to SCCP_RTP_STATUS_PROGRESS_TRANSMIT

------------------------------------------------------------------------
r2335 | marcelloceschia | 2011-02-06 15:58:50 +0100 (So, 06. Feb 2011) | 1 Zeile

SoftKeyTemplateResMessage in dynamic way
------------------------------------------------------------------------
r2334 | marcelloceschia | 2011-02-06 14:55:42 +0100 (So, 06. Feb 2011) | 1 Zeile

revert to 2330
------------------------------------------------------------------------
r2333 | marcelloceschia | 2011-02-06 11:54:23 +0100 (So, 06. Feb 2011) | 1 Zeile

revert softkeymap
------------------------------------------------------------------------
r2332 | ddegroot | 2011-02-05 18:56:03 +0100 (Sa, 05. Feb 2011) | 2 Zeilen

Used some of the new Display Messages from sccp_labels.h

------------------------------------------------------------------------
r2331 | ddegroot | 2011-02-05 18:32:04 +0100 (Sa, 05. Feb 2011) | 2 Zeilen

Copied some SKINNY_LBL and SKINNY_DISP defines from Federico Santulli's chan-sccp.org sccp_labels.h file

------------------------------------------------------------------------
r2330 | ddegroot | 2011-02-05 15:03:06 +0100 (Sa, 05. Feb 2011) | 2 Zeilen

renamed pri_hangup -> pri_cause

------------------------------------------------------------------------
r2329 | ddegroot | 2011-02-05 15:01:20 +0100 (Sa, 05. Feb 2011) | 2 Zeilen

Added PRI_CAUSE to progress and Proceed (for testing purposes

------------------------------------------------------------------------
r2328 | davidded | 2011-02-05 14:50:40 +0100 (Sa, 05. Feb 2011) | 1 Zeile

missing free of unused buffer
------------------------------------------------------------------------
r2327 | ddegroot | 2011-02-05 14:47:12 +0100 (Sa, 05. Feb 2011) | 2 Zeilen

Updated to c->pri_hangup

------------------------------------------------------------------------
r2326 | marcelloceschia | 2011-02-05 13:41:51 +0100 (Sa, 05. Feb 2011) | 1 Zeile

remove ifdef for 10800, because of configure issue
------------------------------------------------------------------------
r2325 | davidded | 2011-02-05 12:21:09 +0100 (Sa, 05. Feb 2011) | 1 Zeile

merged fixes
------------------------------------------------------------------------
r2324 | ddegroot | 2011-02-05 04:03:40 +0100 (Sa, 05. Feb 2011) | 3 Zeilen

Added PRI_CAUSE handling to sccp_pbx and sccp_indicate to grab PRI_CAUSE setting from mISDN and DAHDI
Added sccp_channel->pri_cause to save the cause/hangupcause

------------------------------------------------------------------------
r2323 | ddegroot | 2011-02-05 01:08:46 +0100 (Sa, 05. Feb 2011) | 2 Zeilen

Update debugging ast_cause

------------------------------------------------------------------------
r2322 | davidded | 2011-02-05 00:56:05 +0100 (Sa, 05. Feb 2011) | 1 Zeile

label assignments
------------------------------------------------------------------------
r2321 | ddegroot | 2011-02-05 00:52:28 +0100 (Sa, 05. Feb 2011) | 2 Zeilen

Added astcause2skinnycause_message

------------------------------------------------------------------------
r2320 | davidded | 2011-02-05 00:37:11 +0100 (Sa, 05. Feb 2011) | 1 Zeile

label assignments
------------------------------------------------------------------------
r2319 | ddegroot | 2011-02-05 00:35:39 +0100 (Sa, 05. Feb 2011) | 5 Zeilen

Added astcause2skinnycause to sccp_util.c 
used astcause2skinnycause in sccp_indicate for SCCP_CHANNELSTATE_CONGESTION and SCCP_CHANNELSTATE_ONHOOK



------------------------------------------------------------------------
r2318 | davidded | 2011-02-05 00:23:33 +0100 (Sa, 05. Feb 2011) | 1 Zeile

label assignments
------------------------------------------------------------------------
r2317 | davidded | 2011-02-05 00:21:33 +0100 (Sa, 05. Feb 2011) | 1 Zeile

label assignments
------------------------------------------------------------------------
r2316 | ddegroot | 2011-02-04 23:42:59 +0100 (Fr, 04. Feb 2011) | 2 Zeilen

Removed debug messages sccp_pbx.c

------------------------------------------------------------------------
r2315 | ddegroot | 2011-02-04 23:41:48 +0100 (Fr, 04. Feb 2011) | 2 Zeilen

Started added asterisk->skinny hangup causes

------------------------------------------------------------------------
r2314 | ddegroot | 2011-02-04 21:17:16 +0100 (Fr, 04. Feb 2011) | 4 Zeilen

Added progress as new earlyrtp option. This is also the new default setting.

The RTP stream will be open by default during progress and proceed indications, so one will hear inband messages send by remote pstn's

------------------------------------------------------------------------
r2313 | ddegroot | 2011-02-04 21:06:40 +0100 (Fr, 04. Feb 2011) | 4 Zeilen

sccp_indicate cleanup
left to be fixed: forced early rtp during progress and proceeding


------------------------------------------------------------------------
r2312 | davidded | 2011-02-04 20:38:33 +0100 (Fr, 04. Feb 2011) | 1 Zeile

earlyrtp extension
------------------------------------------------------------------------
r2311 | ddegroot | 2011-02-04 20:20:16 +0100 (Fr, 04. Feb 2011) | 2 Zeilen

Update earlyrtp handling

------------------------------------------------------------------------
r2310 | davidded | 2011-02-04 17:45:18 +0100 (Fr, 04. Feb 2011) | 1 Zeile

compile fixes
------------------------------------------------------------------------
r2309 | ddegroot | 2011-02-04 17:42:58 +0100 (Fr, 04. Feb 2011) | 3 Zeilen

rewrite if/then/else in sccp_read_data


------------------------------------------------------------------------
r2308 | ddegroot | 2011-02-04 17:36:41 +0100 (Fr, 04. Feb 2011) | 2 Zeilen

Fixed sccp_read_data 

------------------------------------------------------------------------
r2307 | davidded | 2011-02-04 17:33:14 +0100 (Fr, 04. Feb 2011) | 1 Zeile

refactoring of sccp_socket
------------------------------------------------------------------------
r2306 | davidded | 2011-02-04 17:24:26 +0100 (Fr, 04. Feb 2011) | 1 Zeile

length check after read
------------------------------------------------------------------------
r2305 | davidded | 2011-02-04 16:02:03 +0100 (Fr, 04. Feb 2011) | 1 Zeile

length handling problems
------------------------------------------------------------------------
r2304 | ddegroot | 2011-02-02 15:24:27 +0100 (Mi, 02. Feb 2011) | 2 Zeilen

Fixed compile warnings

------------------------------------------------------------------------
r2303 | ddegroot | 2011-02-01 17:41:24 +0100 (Di, 01. Feb 2011) | 2 Zeilen

Added sccp_codecs2str

------------------------------------------------------------------------
r2302 | davidded | 2011-02-01 11:44:23 +0100 (Di, 01. Feb 2011) | 1 Zeile

fix
------------------------------------------------------------------------
r2301 | marcelloceschia | 2011-01-31 16:22:15 +0100 (Mo, 31. Jan 2011) | 1 Zeile

asterisk version check by diederik
------------------------------------------------------------------------
r2300 | davidded | 2011-01-28 22:46:09 +0100 (Fr, 28. Jan 2011) | 1 Zeile

forgotten checking for fix of transfer focus revertion
------------------------------------------------------------------------
r2299 | marcelloceschia | 2011-01-26 18:47:30 +0100 (Mi, 26. Jan 2011) | 1 Zeile

fixes rtp null pointer in asterisk
------------------------------------------------------------------------
r2298 | marcelloceschia | 2011-01-24 11:02:10 +0100 (Mo, 24. Jan 2011) | 1 Zeile

use PBX_RTP_TYPE, use PBX_CHANNEL_TYPE
------------------------------------------------------------------------
r2297 | marcelloceschia | 2011-01-24 10:42:54 +0100 (Mo, 24. Jan 2011) | 1 Zeile

add TODOs, use PBX_RTP_TYPE, use PBX_CHANNEL_TYPE
------------------------------------------------------------------------
r2296 | marcelloceschia | 2011-01-23 18:03:14 +0100 (So, 23. Jan 2011) | 1 Zeile

work in progress...
------------------------------------------------------------------------
r2295 | marcelloceschia | 2011-01-23 17:35:19 +0100 (So, 23. Jan 2011) | 1 Zeile

use PBX(alloc_pbxChannel)
------------------------------------------------------------------------
r2294 | marcelloceschia | 2011-01-23 14:04:34 +0100 (So, 23. Jan 2011) | 1 Zeile

work in progress...
------------------------------------------------------------------------
r2293 | marcelloceschia | 2011-01-23 13:48:42 +0100 (So, 23. Jan 2011) | 1 Zeile


------------------------------------------------------------------------
r2292 | marcelloceschia | 2011-01-23 12:21:11 +0100 (So, 23. Jan 2011) | 1 Zeile

rtp
------------------------------------------------------------------------
r2291 | marcelloceschia | 2011-01-23 12:01:22 +0100 (So, 23. Jan 2011) | 1 Zeile

remove implicite inclution of rtp
------------------------------------------------------------------------
r2290 | marcelloceschia | 2011-01-23 12:00:17 +0100 (So, 23. Jan 2011) | 1 Zeile

pbx wrapper for payload type
------------------------------------------------------------------------
r2289 | marcelloceschia | 2011-01-23 11:59:13 +0100 (So, 23. Jan 2011) | 1 Zeile

rtp payload lookup
------------------------------------------------------------------------
r2288 | marcelloceschia | 2011-01-23 11:58:44 +0100 (So, 23. Jan 2011) | 1 Zeile

rtp payload lookup
------------------------------------------------------------------------
r2287 | marcelloceschia | 2011-01-23 11:37:33 +0100 (So, 23. Jan 2011) | 1 Zeile

remove asterisk rtp types from channel
------------------------------------------------------------------------
r2286 | marcelloceschia | 2011-01-23 11:07:18 +0100 (So, 23. Jan 2011) | 1 Zeile

add empty softkey
------------------------------------------------------------------------
r2285 | marcelloceschia | 2011-01-23 10:49:11 +0100 (So, 23. Jan 2011) | 1 Zeile

go on with wrapper functions
------------------------------------------------------------------------
r2284 | marcelloceschia | 2011-01-22 23:30:46 +0100 (Sa, 22. Jan 2011) | 1 Zeile

add progress values sccp_rtp_status_t
------------------------------------------------------------------------
r2283 | ddegroot | 2011-01-22 19:15:34 +0100 (Sa, 22. Jan 2011) | 2 Zeilen

Removed OLDCONST

------------------------------------------------------------------------
r2282 | ddegroot | 2011-01-22 18:31:41 +0100 (Sa, 22. Jan 2011) | 2 Zeilen

Reordered sccp_pbx_wrapper.c to move function to the right section

------------------------------------------------------------------------
r2281 | ddegroot | 2011-01-22 18:25:15 +0100 (Sa, 22. Jan 2011) | 4 Zeilen

Updated sccp_rtp.c to make it compile again
added OLDCONST to some of the function in sccp_pbx_wrapper to make it compatible with asterisk 1.6.2.14


------------------------------------------------------------------------
r2280 | ddegroot | 2011-01-22 18:07:13 +0100 (Sa, 22. Jan 2011) | 1 Zeile

updated sccp_rtp to use socket_equals
------------------------------------------------------------------------
r2279 | ddegroot | 2011-01-22 18:01:19 +0100 (Sa, 22. Jan 2011) | 3 Zeilen

New function socket_equals in sccp_utils


------------------------------------------------------------------------
r2278 | marcelloceschia | 2011-01-22 17:57:33 +0100 (Sa, 22. Jan 2011) | 1 Zeile

development commit
------------------------------------------------------------------------
r2277 | ddegroot | 2011-01-22 17:54:36 +0100 (Sa, 22. Jan 2011) | 2 Zeilen

Cleaned up sccp_labels 

------------------------------------------------------------------------
r2276 | marcelloceschia | 2011-01-21 22:25:08 +0100 (Fr, 21. Jan 2011) | 1 Zeile

fixes issue in hint, when device is unavailable
------------------------------------------------------------------------
r2275 | marcelloceschia | 2011-01-21 22:24:34 +0100 (Fr, 21. Jan 2011) | 1 Zeile

fixes issue in hint, when device is unavailable
------------------------------------------------------------------------
r2274 | ddegroot | 2011-01-18 02:02:31 +0100 (Di, 18. Jan 2011) | 1 Zeile

remarked-out ast10800 rtp code from pbx_wrapper
------------------------------------------------------------------------
r2273 | ddegroot | 2011-01-17 21:14:11 +0100 (Mo, 17. Jan 2011) | 2 Zeilen

Fixed DirectRTP

------------------------------------------------------------------------
r2272 | ddegroot | 2011-01-17 20:48:59 +0100 (Mo, 17. Jan 2011) | 2 Zeilen

Fix startmediatransmission

------------------------------------------------------------------------
r2271 | ddegroot | 2011-01-17 20:21:37 +0100 (Mo, 17. Jan 2011) | 1 Zeile

cleanup rtp handling
------------------------------------------------------------------------
r2270 | ddegroot | 2011-01-17 16:01:13 +0100 (Mo, 17. Jan 2011) | 3 Zeilen

reverted directrtp changes until Marcello can have a look at them.
Fixed pbx_channel_walk_locked error

------------------------------------------------------------------------
r2269 | marcelloceschia | 2011-01-17 15:39:57 +0100 (Mo, 17. Jan 2011) | 1 Zeile

7931 button template?
------------------------------------------------------------------------
r2268 | ddegroot | 2011-01-16 23:06:58 +0100 (So, 16. Jan 2011) | 2 Zeilen

Patch to get sharedlines working over native bridge (directrtp)

------------------------------------------------------------------------
r2267 | ddegroot | 2011-01-16 21:04:28 +0100 (So, 16. Jan 2011) | 9 Zeilen

Fixed directrtp traffic through ast_rtp_bridge by setting rtp->them to correct ip-address in sccp_rtp_get_peer
Added wrappers for pbx_rtp_change_source and ast_rtp_new_source
Added sccp wrapper arround ast_rtp_bridge to add logging, and change flags before commencing bridge. We could add callback function on bridge success later.
Cleaned up OpenReceiveChannelAck handling
Added peerIsSCCP bitfield to sccp_channel
Fixed IpAddress Setting in sccp_startmediatransmission
Fixed sccp_ast_bridge (Local bridge implementation)


------------------------------------------------------------------------
r2266 | ddegroot | 2011-01-15 15:53:18 +0100 (Sa, 15. Jan 2011) | 4 Zeilen

Added pbx_rtp_get_peer, pbx_rtp_get_us and pbx_rtp_set_peer function to wrapper
Rearranged rtp code in sccp_channel
Added Bindaddress info to sccp_cli "show device"

------------------------------------------------------------------------
r2265 | ddegroot | 2011-01-15 00:02:41 +0100 (Sa, 15. Jan 2011) | 2 Zeilen

Found a programming error, ast_pbx_start returns problem information about starting a new thread not if dial succeeded. Need to be fixed.

------------------------------------------------------------------------
r2264 | ddegroot | 2011-01-14 23:04:21 +0100 (Fr, 14. Jan 2011) | 1 Zeile

Updated chan_sccp.c to use sccp_pbx_wrapper\nremoved unnecessary iabuf declarations\n
------------------------------------------------------------------------
r2263 | ddegroot | 2011-01-14 22:53:45 +0100 (Fr, 14. Jan 2011) | 1 Zeile

added pbx_channel_alloc, pbx_jb_configure and pbx_null_frame\n switched NEWCONST and OLDCONST definitions
------------------------------------------------------------------------
r2262 | ddegroot | 2011-01-14 22:34:19 +0100 (Fr, 14. Jan 2011) | 1 Zeile

added replacement functions pbx_channel_alloc and pbx_jb_configure
------------------------------------------------------------------------
r2261 | ddegroot | 2011-01-14 19:12:58 +0100 (Fr, 14. Jan 2011) | 1 Zeile

replaced ast_moh_start and ast_moh_stop with wrapper functions
------------------------------------------------------------------------
r2260 | ddegroot | 2011-01-14 18:23:18 +0100 (Fr, 14. Jan 2011) | 1 Zeile

corrections to sccp_pbx_wrapper.c to compile correctly against asterisk 1.4
------------------------------------------------------------------------
r2259 | ddegroot | 2011-01-14 17:35:25 +0100 (Fr, 14. Jan 2011) | 1 Zeile

Added replacement function calls for ast_variable_new and ast_context_remove_extension
------------------------------------------------------------------------
r2258 | ddegroot | 2011-01-14 16:29:46 +0100 (Fr, 14. Jan 2011) | 2 Zeilen

Backport of ast_str2cos and ast_str2cos for asterisk 1.2 and subsequent renaming of ast_str2?os to pbx_str2?os in sccp_config.c

------------------------------------------------------------------------
r2257 | ddegroot | 2011-01-14 16:15:59 +0100 (Fr, 14. Jan 2011) | 2 Zeilen

Cleanup AST_VERSION checks in sccp_cli.c

------------------------------------------------------------------------
r2256 | ddegroot | 2011-01-14 16:08:16 +0100 (Fr, 14. Jan 2011) | 2 Zeilen

replaced pre asterisk 1.4 versions of pbx_inet_ntoa

------------------------------------------------------------------------
r2255 | ddegroot | 2011-01-14 14:12:19 +0100 (Fr, 14. Jan 2011) | 2 Zeilen

replacement funtion calls for sccp_config

------------------------------------------------------------------------
r2254 | ddegroot | 2011-01-14 03:39:52 +0100 (Fr, 14. Jan 2011) | 3 Zeilen

Added list of function which need to be implemented in sccp_pbx_wrapper
Replaced header inclusion lines in sccp_management by common.h

------------------------------------------------------------------------
r2253 | ddegroot | 2011-01-13 23:40:34 +0100 (Do, 13. Jan 2011) | 12 Zeilen

Fourth set of replacement function calls
 - ast_copy_string -> sccp_copy_string
 - pbx_copy_string -> sccp_copy_string
 - ast_strlen_zero -> sccp_strlen_zero
 - ast_gethostbyname -> pbx_gethostbyname
 - ast_apply_ha -> pbx_apply_ha
 - ast_codec2str -> pbx_codec2str
 - ast_pickup_ext -> ast_pickup_ext
 - ast_db_put -> pbx_db_put
 - ast_db_get -> pbx_db_get


------------------------------------------------------------------------
r2252 | ddegroot | 2011-01-13 23:00:51 +0100 (Do, 13. Jan 2011) | 6 Zeilen

Third set of replacement function calls
 - ast_channel_walk_locked -> pbx_channel_walk_locked
 - ast_strdupa -> sccp_strdupa
 - ast_strdup -> sccp_strdup


------------------------------------------------------------------------
r2251 | ddegroot | 2011-01-13 22:54:57 +0100 (Do, 13. Jan 2011) | 14 Zeilen

Second set of replacements function calls
 - ast_register_application -> pbx_register_application
 - ast_unregister_application -> pbx_unregister_application
 - ast_custom_function_register -> pbx_custom_function_register
 - ast_custom_function_unregister -> pbx_custom_function_unregister
 - ast_channel_register -> pbx_channel_register
 - ast_channel_register_ex -> pbx_channel_register_ex
 - ast_channel_unregister -> pbx_channel_unregister
 - ast_rtp_proto_register -> pbx_rtp_proto_register
 - ast_rtp_proto_unregister -> pbx_rtp_proto_unregister
 - ast_rtp_glue_register -> pbx_rtp_glue_register
 - ast_rtp_glue_unregister -> pbx_rtp_glue_unregister


------------------------------------------------------------------------
r2250 | ddegroot | 2011-01-13 22:36:48 +0100 (Do, 13. Jan 2011) | 13 Zeilen

replaced the first set of ast-functions with generic pbx function calls:
 - ast_codec_pref_index -> pbx_codec_pref_index
 - ast_codec_pref_getsize -> pbx_codec_pref_getsize
 - ast_check_hangup -> pbx_check_hangup
 - ast_channel_lock -> pbx_channel_lock
 - ast_channel_unlock -> pbx_channel_unlock
 - ast_sched_wait -> pbx_sched_wait
 - ast_io_wait -> pbx_io_wait
 - ast_inet_ntoa -> pbx_inet_ntoa
 - sccp_pbx_channel_lock -> pbx_channel_lock
 - sccp_pbx_channel_unlock -> pbx_channel_unlock


------------------------------------------------------------------------
r2249 | ddegroot | 2011-01-13 18:31:52 +0100 (Do, 13. Jan 2011) | 2 Zeilen

Removed Epoll Check from configure.ac (Caused problems with asterisk includes)

------------------------------------------------------------------------
r2248 | ddegroot | 2011-01-12 20:56:36 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

Small reversion

------------------------------------------------------------------------
r2247 | ddegroot | 2011-01-12 18:41:33 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

Update callinfo parse functions in sccp_pbx_wrapper

------------------------------------------------------------------------
r2246 | ddegroot | 2011-01-12 18:41:04 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

Replace +1 keepAliveInterval with -1 to make the maximum possible device timeout smaller than the maximum socket timeout

------------------------------------------------------------------------
r2245 | ddegroot | 2011-01-12 18:39:51 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

Fix compilation with --disable-dynamic-config

------------------------------------------------------------------------
r2244 | ddegroot | 2011-01-12 16:30:40 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

Fixing compile error sccp_socket on asterisk 1.4

------------------------------------------------------------------------
r2243 | ddegroot | 2011-01-12 15:18:53 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

reintegration of sccp_socket code. re-registration working correctly again.

------------------------------------------------------------------------
r2242 | ddegroot | 2011-01-12 08:12:35 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

Updated initial functions in sccp_pbx_wrapper.?

------------------------------------------------------------------------
r2241 | ddegroot | 2011-01-12 06:27:10 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

reverted temporarily to an earlier version of sccp_socket.c to get time to fix sccp_socket_device_thread: re-registration issues

------------------------------------------------------------------------
r2240 | ddegroot | 2011-01-12 06:16:13 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

Small fixes to get operational system again

------------------------------------------------------------------------
r2239 | ddegroot | 2011-01-12 04:51:30 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

moved sccp_inet_ntoa to sccp_pbx_wrapper and named : pbx_inet_ntoa

------------------------------------------------------------------------
r2238 | ddegroot | 2011-01-12 04:50:14 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

First wrapper implementations

------------------------------------------------------------------------
r2237 | ddegroot | 2011-01-12 03:01:51 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

Added some headers to sccp_pbx_wrapper

------------------------------------------------------------------------
r2236 | ddegroot | 2011-01-12 02:59:34 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

Ran indent on common.h

------------------------------------------------------------------------
r2235 | ddegroot | 2011-01-12 02:42:50 +0100 (Mi, 12. Jan 2011) | 3 Zeilen

Initial creation and use of common.h to used for including common header files used in most .c files within chan_sccp-b
Initial creation of sccp_pbx_wrapper.[c|h] to be used for phasing out version specific asterisk function calls

------------------------------------------------------------------------
r2234 | ddegroot | 2011-01-12 02:10:25 +0100 (Mi, 12. Jan 2011) | 2 Zeilen

readded sccp_config.c  sccp_config.h  sccp_hint.c  sccp_hint.h  sccp_management.c  sccp_management.h

------------------------------------------------------------------------
r2233 | ddegroot | 2011-01-12 02:09:47 +0100 (Mi, 12. Jan 2011) | 3 Zeilen

temporarily removed sccp_config.c sccp_config.h sccp_hint.c sccp_hint.h sccp_management.c sccp_management.h
updated sccp_pbx to use get_sccp_channel_from_ast_channel

------------------------------------------------------------------------
r2230 | ddegroot | 2011-01-11 18:31:01 +0100 (Di, 11. Jan 2011) | 3 Zeilen

update codingstyle for sccp_socket.c


------------------------------------------------------------------------
r2229 | ddegroot | 2011-01-11 18:21:26 +0100 (Di, 11. Jan 2011) | 2 Zeilen

Added AC_LANG definition to configure.ac

------------------------------------------------------------------------
r2228 | ddegroot | 2011-01-11 17:58:02 +0100 (Di, 11. Jan 2011) | 3 Zeilen

removed all references to common.h


------------------------------------------------------------------------
r2227 | ddegroot | 2011-01-11 16:22:32 +0100 (Di, 11. Jan 2011) | 2 Zeilen

Removed usleep(10000) from sccp_socket.c socket error handling

------------------------------------------------------------------------
r2226 | ddegroot | 2011-01-11 16:13:22 +0100 (Di, 11. Jan 2011) | 2 Zeilen

Change to configure.ac to better detect asterisk 1.8

------------------------------------------------------------------------
r2225 | ddegroot | 2011-01-11 16:10:57 +0100 (Di, 11. Jan 2011) | 2 Zeilen

Fixes to sccp_socket.c (following romain's e-mail 5/1/2011) (by Marcello and Diederik)

------------------------------------------------------------------------
r2224 | marcelloceschia | 2011-01-10 20:37:17 +0100 (Mo, 10. Jan 2011) | 1 Zeile

fixes ast 1.4 compatibility issue
------------------------------------------------------------------------
r2223 | marcelloceschia | 2011-01-10 19:50:47 +0100 (Mo, 10. Jan 2011) | 1 Zeile

cancel session thread on sccp_device_sendReset
------------------------------------------------------------------------
r2222 | marcelloceschia | 2011-01-10 19:36:15 +0100 (Mo, 10. Jan 2011) | 1 Zeile

cleanup session
------------------------------------------------------------------------
r2221 | marcelloceschia | 2011-01-10 19:35:49 +0100 (Mo, 10. Jan 2011) | 1 Zeile

lock issue
------------------------------------------------------------------------
r2220 | marcelloceschia | 2011-01-10 19:35:32 +0100 (Mo, 10. Jan 2011) | 1 Zeile

session will be removed from list by thread it self
------------------------------------------------------------------------
r2219 | marcelloceschia | 2011-01-06 18:22:54 +0100 (Do, 06. Jan 2011) | 1 Zeile

make sccp_socket_close provate
------------------------------------------------------------------------
r2218 | ddegroot | 2011-01-06 17:11:48 +0100 (Do, 06. Jan 2011) | 3 Zeilen

Removed unused variables
Moved sccp_session_close function declaration to the header file

------------------------------------------------------------------------
r2217 | marcelloceschia | 2011-01-06 13:55:10 +0100 (Do, 06. Jan 2011) | 1 Zeile

use pthread_cancel after reset/restart
------------------------------------------------------------------------
r2216 | marcelloceschia | 2011-01-06 13:54:52 +0100 (Do, 06. Jan 2011) | 2 Zeilen

fixes deadlock in sccp_read_data
make sccp_session_close private
------------------------------------------------------------------------
r2215 | marcelloceschia | 2011-01-04 17:29:12 +0100 (Di, 04. Jan 2011) | 1 Zeile

fixes unload issue, private destroy_session fkt
------------------------------------------------------------------------
r2214 | marcelloceschia | 2011-01-04 16:37:40 +0100 (Di, 04. Jan 2011) | 1 Zeile

fixes unload issue
------------------------------------------------------------------------
r2213 | marcelloceschia | 2011-01-04 14:04:04 +0100 (Di, 04. Jan 2011) | 1 Zeile

maxStreams
------------------------------------------------------------------------
r2212 | marcelloceschia | 2011-01-04 14:03:49 +0100 (Di, 04. Jan 2011) | 1 Zeile

change -> direction for cid, set softkeyset after hint subscription
------------------------------------------------------------------------
r2211 | marcelloceschia | 2011-01-04 14:03:34 +0100 (Di, 04. Jan 2011) | 1 Zeile

clean old session with session_stop = 1
------------------------------------------------------------------------
r2210 | marcelloceschia | 2011-01-04 14:03:17 +0100 (Di, 04. Jan 2011) | 1 Zeile

lock session on destroy and close
------------------------------------------------------------------------
r2209 | marcelloceschia | 2011-01-02 13:36:00 +0100 (So, 02. Jan 2011) | 1 Zeile

starting with spa protocol
------------------------------------------------------------------------
r2208 | marcelloceschia | 2011-01-02 13:34:46 +0100 (So, 02. Jan 2011) | 1 Zeile

max bitrate
------------------------------------------------------------------------
r2207 | marcelloceschia | 2010-12-30 19:27:38 +0100 (Do, 30. Dez 2010) | 1 Zeile

einheitlicher name für device capabilities
------------------------------------------------------------------------
r2206 | marcelloceschia | 2010-12-30 19:27:01 +0100 (Do, 30. Dez 2010) | 1 Zeile

einheitlicher name für device capabilities
------------------------------------------------------------------------
r2205 | marcelloceschia | 2010-12-30 13:20:39 +0100 (Do, 30. Dez 2010) | 1 Zeile

fixes restart issue if 7985 is in shared line
------------------------------------------------------------------------
r2204 | marcelloceschia | 2010-12-30 13:20:23 +0100 (Do, 30. Dez 2010) | 1 Zeile

remove commented code sections
------------------------------------------------------------------------
r2203 | marcelloceschia | 2010-12-29 20:35:38 +0100 (Mi, 29. Dez 2010) | 1 Zeile

fixes compile issue
------------------------------------------------------------------------
r2202 | marcelloceschia | 2010-12-29 16:30:12 +0100 (Mi, 29. Dez 2010) | 1 Zeile

changing video handling
------------------------------------------------------------------------
r2201 | marcelloceschia | 2010-12-29 16:29:55 +0100 (Mi, 29. Dez 2010) | 1 Zeile

using VIDEO_MASK to get the correct video codec
------------------------------------------------------------------------
r2200 | marcelloceschia | 2010-12-29 16:29:40 +0100 (Mi, 29. Dez 2010) | 1 Zeile

checking session thread id
------------------------------------------------------------------------
r2199 | marcelloceschia | 2010-12-29 16:29:24 +0100 (Mi, 29. Dez 2010) | 1 Zeile

using ast_queue_hangup in gpickup and directpickup
------------------------------------------------------------------------
r2198 | marcelloceschia | 2010-12-29 16:15:24 +0100 (Mi, 29. Dez 2010) | 1 Zeile

unsubscribe device hints
------------------------------------------------------------------------
r2197 | marcelloceschia | 2010-12-22 13:33:16 +0100 (Mi, 22. Dez 2010) | 1 Zeile

7985
------------------------------------------------------------------------
r2196 | marcelloceschia | 2010-12-22 13:33:01 +0100 (Mi, 22. Dez 2010) | 1 Zeile

fixes deadlock in sccp_hint.c on device unregister
------------------------------------------------------------------------
r2195 | marcelloceschia | 2010-12-22 13:32:44 +0100 (Mi, 22. Dez 2010) | 1 Zeile

fixes deadlock on channel resume
------------------------------------------------------------------------
r2194 | marcelloceschia | 2010-12-22 13:32:28 +0100 (Mi, 22. Dez 2010) | 1 Zeile

fixes deadlock on channel resume
------------------------------------------------------------------------
r2193 | marcelloceschia | 2010-12-22 13:32:13 +0100 (Mi, 22. Dez 2010) | 1 Zeile

.gitignore
------------------------------------------------------------------------
r2192 | marcelloceschia | 2010-12-22 13:31:56 +0100 (Mi, 22. Dez 2010) | 1 Zeile

remove unused variables and fixes compile warning
------------------------------------------------------------------------
r2191 | marcelloceschia | 2010-12-22 13:31:39 +0100 (Mi, 22. Dez 2010) | 1 Zeile

save last registration time and display it with sccp show devices
------------------------------------------------------------------------
r2190 | marcelloceschia | 2010-12-22 13:31:23 +0100 (Mi, 22. Dez 2010) | 1 Zeile

use session thread for each session
------------------------------------------------------------------------
r2189 | marcelloceschia | 2010-12-22 13:31:03 +0100 (Mi, 22. Dez 2010) | 1 Zeile

change list lock during hint unsubscribe
------------------------------------------------------------------------
r2188 | marcelloceschia | 2010-12-22 13:30:46 +0100 (Mi, 22. Dez 2010) | 1 Zeile

change list lock during hint unsubscribe
------------------------------------------------------------------------
r2187 | progs | 2010-12-01 16:07:10 +0100 (Mi, 01. Dez 2010) | 4 Zeilen

fix sessions:

- use a thread for each session (marcello's patch)
- destroy sessions in its own thread to prevent deadlock and crash
------------------------------------------------------------------------
r2186 | progs | 2010-11-26 16:09:40 +0100 (Fr, 26. Nov 2010) | 1 Zeile

several fixes of locks
------------------------------------------------------------------------
r2185 | ddegroot | 2010-11-23 15:16:48 +0100 (Di, 23. Nov 2010) | 3 Zeilen

replace l->channelCount with l->channels.size (not inherently threadsafe, but l->channelCount wasn't either) 
when LIST(l->channels) is locked for read or write during use of the value of l->channels.size it is threadsafe.

------------------------------------------------------------------------
r2184 | ddegroot | 2010-11-22 19:31:17 +0100 (Mo, 22. Nov 2010) | 2 Zeilen

Added Preliminary locking documentation

------------------------------------------------------------------------
r2183 | progs | 2010-11-22 14:34:41 +0100 (Mo, 22. Nov 2010) | 1 Zeile

remove channel from line during hangup
------------------------------------------------------------------------
r2182 | ddegroot | 2010-11-22 14:14:06 +0100 (Mo, 22. Nov 2010) | 2 Zeilen

Removed device->channelCount, channels are connected to lines now, not devices anymore.

------------------------------------------------------------------------
r2181 | progs | 2010-11-22 14:11:04 +0100 (Mo, 22. Nov 2010) | 1 Zeile

force locking order to line -> line->devices
------------------------------------------------------------------------
r2180 | progs | 2010-11-22 14:10:50 +0100 (Mo, 22. Nov 2010) | 4 Zeilen

sccp_socket: sccp_session_find: lock global sessions list

sccp_session_find is called from sccp_session_send which might be called
from outside sccp_socket.c where the global sessions list is not be locked
------------------------------------------------------------------------
r2179 | progs | 2010-11-22 14:10:36 +0100 (Mo, 22. Nov 2010) | 1 Zeile

sccp_cli: sccp_show_sessions: change locking order
------------------------------------------------------------------------
r2178 | progs | 2010-11-22 14:10:23 +0100 (Mo, 22. Nov 2010) | 3 Zeilen

sccp_line: sccp_line_clean: change locking

remove line from the global 'lines' list early, remove useless code
------------------------------------------------------------------------
r2177 | progs | 2010-11-22 14:10:10 +0100 (Mo, 22. Nov 2010) | 3 Zeilen

sccp_socket: destroy_session: change locking

lock the global 'sessions' list when removing a session, and do it early
------------------------------------------------------------------------
r2176 | progs | 2010-11-22 14:09:55 +0100 (Mo, 22. Nov 2010) | 3 Zeilen

sccp_device: sccp_dev_clean: change locking order

remove device from the global devices list early
------------------------------------------------------------------------
r2175 | progs | 2010-11-22 14:09:42 +0100 (Mo, 22. Nov 2010) | 1 Zeile

remove obsolete doc warnings
------------------------------------------------------------------------
r2174 | progs | 2010-11-22 14:09:28 +0100 (Mo, 22. Nov 2010) | 1 Zeile

add doxygen doc alias for functions called from Asterisk
------------------------------------------------------------------------
r2173 | progs | 2010-11-22 14:09:05 +0100 (Mo, 22. Nov 2010) | 3 Zeilen

update locking documentation

add xref for sccp_hint_eventListener triggered by SCCP_EVENT_DEVICEDETACHED events
------------------------------------------------------------------------
r2172 | progs | 2010-11-22 14:08:51 +0100 (Mo, 22. Nov 2010) | 3 Zeilen

update locking documentation

add xref for sccp_hint_eventListener triggered by SCCP_EVENT_DEVICEREGISTERED events
------------------------------------------------------------------------
r2171 | progs | 2010-11-22 14:08:38 +0100 (Mo, 22. Nov 2010) | 3 Zeilen

update locking documentation

add xref for sccp_hint_handleFeatureChangeEvent & sccp_util_handleFeatureChangeEvent triggered by SCCP_EVENT_FEATURECHANGED events
------------------------------------------------------------------------
r2170 | progs | 2010-11-22 14:08:24 +0100 (Mo, 22. Nov 2010) | 4 Zeilen

update locking documentation

add xref for sccp_mwi_lineStatusChangedEvent triggered by SCCP_EVENT_LINESTATUSCHANGED events
add xref for sccp_mwi_check to sccp_mwi_lineStatusChangedEvent
------------------------------------------------------------------------
r2169 | progs | 2010-11-22 14:08:10 +0100 (Mo, 22. Nov 2010) | 4 Zeilen

sccp_line: sccp_line_cfwd: update locking documentation

add xref for missing function calls
add xref for sccp_mwi_deviceAttachedEvent triggered by SCCP_EVENT_DEVICEATTACHED events
------------------------------------------------------------------------
r2168 | progs | 2010-11-22 14:07:56 +0100 (Mo, 22. Nov 2010) | 3 Zeilen

update locking documentation

add xref for sccp_mwi_linecreatedEvent triggered by SCCP_EVENT_LINECREATED events
------------------------------------------------------------------------
r2167 | progs | 2010-11-22 14:07:43 +0100 (Mo, 22. Nov 2010) | 3 Zeilen

update locking documentation

add xref on sccp_hint_eventListener triggered by SCCP_EVENT_DEVICEUNREGISTERED events
------------------------------------------------------------------------
r2166 | progs | 2010-11-22 13:57:58 +0100 (Mo, 22. Nov 2010) | 1 Zeile

use schedeler in sccp_pbx_hangup() to remove sccp_channel_t safety
------------------------------------------------------------------------
r2165 | progs | 2010-11-22 12:48:11 +0100 (Mo, 22. Nov 2010) | 1 Zeile

remove useless XXX
------------------------------------------------------------------------
r2164 | progs | 2010-11-22 12:47:59 +0100 (Mo, 22. Nov 2010) | 1 Zeile

use the scheduler to destroy channels
------------------------------------------------------------------------
r2163 | progs | 2010-11-22 12:47:44 +0100 (Mo, 22. Nov 2010) | 1 Zeile

clean-up channels locks
------------------------------------------------------------------------
r2162 | marcelloceschia | 2010-11-22 11:53:16 +0100 (Mo, 22. Nov 2010) | 1 Zeile

fixes configure issue with current asterisk branch
------------------------------------------------------------------------
r2161 | marcelloceschia | 2010-11-22 09:48:08 +0100 (Mo, 22. Nov 2010) | 1 Zeile

fixes #3104577 - display dnd on shared lines if all devices are in dnd (reject) only
------------------------------------------------------------------------
r2160 | ddegroot | 2010-11-19 14:43:50 +0100 (Fr, 19. Nov 2010) | 2 Zeilen

Pickup Patch by Sergio Chersovani, to make compile work with --disable-pickup

------------------------------------------------------------------------
r2159 | ddegroot | 2010-11-19 02:38:35 +0100 (Fr, 19. Nov 2010) | 2 Zeilen

Added INDENT-OFF and INDENT-ON to some sections to preserve correct formatting, which indent would process incorrectly

------------------------------------------------------------------------
r2158 | ddegroot | 2010-11-19 01:44:42 +0100 (Fr, 19. Nov 2010) | 3 Zeilen

updated .indent.pro, and included comments to clarify the parameters set
reindented sccp_protocol.h

------------------------------------------------------------------------
r2157 | ddegroot | 2010-11-18 15:30:51 +0100 (Do, 18. Nov 2010) | 2 Zeilen

log_show_lock() present starting asterisk v1.6.1

------------------------------------------------------------------------
r2156 | ddegroot | 2010-11-18 15:27:28 +0100 (Do, 18. Nov 2010) | 5 Zeilen

Added Support for the new SCCP Firmware 9.1 XML Alarm Message (Thanks to Federico / Sergio / Marcello )
 - added protocol entry for XMLAlarm Message
 - extened keep alive leeway for 7975 and 7970 phones
 - handle of XMLAlarmMessage in sccp_handle_message

------------------------------------------------------------------------
r2155 | ddegroot | 2010-11-17 20:14:34 +0100 (Mi, 17. Nov 2010) | 2 Zeilen

Small fix to dllists for rwlock

------------------------------------------------------------------------
r2154 | ddegroot | 2010-11-17 18:10:34 +0100 (Mi, 17. Nov 2010) | 2 Zeilen

Replaced SCCP_LIST with SCCP_RWLIST for Global Devices and Lines

------------------------------------------------------------------------
r2153 | progs | 2010-11-17 15:47:41 +0100 (Mi, 17. Nov 2010) | 1 Zeile

log_show_lock() function exists only for asterisk >=1.6
------------------------------------------------------------------------
r2152 | ddegroot | 2010-11-17 15:43:26 +0100 (Mi, 17. Nov 2010) | 2 Zeilen

Added rwlock implementation to sccp_dllist

------------------------------------------------------------------------
r2151 | ddegroot | 2010-11-17 15:04:25 +0100 (Mi, 17. Nov 2010) | 2 Zeilen

Reorder the lock.h file for readability

------------------------------------------------------------------------
r2150 | ddegroot | 2010-11-17 14:29:01 +0100 (Mi, 17. Nov 2010) | 2 Zeilen

Fix typo

------------------------------------------------------------------------
r2149 | progs | 2010-11-17 14:05:39 +0100 (Mi, 17. Nov 2010) | 7 Zeilen

chan_sccp: unload_module: fix locking

add locking for lines and line->channels lists

Conflicts:

	src/sccp_device.c
------------------------------------------------------------------------
r2148 | progs | 2010-11-17 12:08:33 +0100 (Mi, 17. Nov 2010) | 7 Zeilen

add missing locking/unlocking on global softKeySetConfig list

Conflicts:

	src/sccp_actions.c
	src/sccp_cli.c
	src/sccp_config.c
------------------------------------------------------------------------
r2147 | progs | 2010-11-17 12:08:18 +0100 (Mi, 17. Nov 2010) | 3 Zeilen

sccp_cli: sccp_unregister: fix typo from earlier commit

add missing curly brace after 963b9e6d4fe57f674b75188061aed1ec8499e9af
------------------------------------------------------------------------
r2146 | progs | 2010-11-17 12:08:05 +0100 (Mi, 17. Nov 2010) | 3 Zeilen

sccp_cli: sccp_unregister: remove redundant code

sccp_device_find_byid already checks for realtime devive if its second arg is TRUE
------------------------------------------------------------------------
r2145 | progs | 2010-11-17 12:07:52 +0100 (Mi, 17. Nov 2010) | 1 Zeile

fix another locking documentation leftover
------------------------------------------------------------------------
r2144 | progs | 2010-11-17 12:07:39 +0100 (Mi, 17. Nov 2010) | 1 Zeile

fix locking documentation
------------------------------------------------------------------------
r2143 | progs | 2010-11-17 12:07:27 +0100 (Mi, 17. Nov 2010) | 1 Zeile

update locking documentation
------------------------------------------------------------------------
r2142 | progs | 2010-11-17 12:07:13 +0100 (Mi, 17. Nov 2010) | 1 Zeile

update locking documentation
------------------------------------------------------------------------
r2141 | progs | 2010-11-17 12:06:42 +0100 (Mi, 17. Nov 2010) | 1 Zeile

fix conditional iabuf definition
------------------------------------------------------------------------
r2140 | progs | 2010-11-17 12:06:29 +0100 (Mi, 17. Nov 2010) | 1 Zeile

[cosmetic] move curly brace out of conditional function prototypes
------------------------------------------------------------------------
r2139 | progs | 2010-11-17 12:06:14 +0100 (Mi, 17. Nov 2010) | 1 Zeile

fix doxygen locking doc typos
------------------------------------------------------------------------
r2138 | progs | 2010-11-17 12:06:01 +0100 (Mi, 17. Nov 2010) | 1 Zeile

sccp_management: add doxygen locking documentation
------------------------------------------------------------------------
r2137 | progs | 2010-11-17 12:05:48 +0100 (Mi, 17. Nov 2010) | 1 Zeile

update doxygen locking doc to reflect levels, add warnings for list used without being locked/unlocked
------------------------------------------------------------------------
r2136 | progs | 2010-11-17 12:05:19 +0100 (Mi, 17. Nov 2010) | 1 Zeile

fix typos in doxygen locking documentation
------------------------------------------------------------------------
r2135 | progs | 2010-11-17 12:05:04 +0100 (Mi, 17. Nov 2010) | 1 Zeile

add doxygen locking documentation
------------------------------------------------------------------------
r2134 | progs | 2010-11-17 12:04:36 +0100 (Mi, 17. Nov 2010) | 1 Zeile

sccp_softkeys: use sccp_channel_lock/unlock instead of sccp_mutex_lock/unlock
------------------------------------------------------------------------
r2133 | progs | 2010-11-17 12:04:23 +0100 (Mi, 17. Nov 2010) | 1 Zeile

sccp_pbx.c: use sccp_line_lock/unlock instead of sccp_mutex_lock/unlock
------------------------------------------------------------------------
r2132 | progs | 2010-11-17 12:04:11 +0100 (Mi, 17. Nov 2010) | 1 Zeile

sccp_cli: move #ifdef so that we have doxygen doc in all cases
------------------------------------------------------------------------
r2131 | progs | 2010-11-17 12:03:58 +0100 (Mi, 17. Nov 2010) | 1 Zeile

add doxygen aliases for locking documentation
------------------------------------------------------------------------
r2130 | progs | 2010-11-17 12:03:44 +0100 (Mi, 17. Nov 2010) | 1 Zeile

re-indentation
------------------------------------------------------------------------
r2129 | progs | 2010-11-16 10:32:11 +0100 (Di, 16. Nov 2010) | 1 Zeile

sccp_actions: sccp_handle_button_template_req: unlock device before returning
------------------------------------------------------------------------
r2128 | ddegroot | 2010-11-15 17:36:04 +0100 (Mo, 15. Nov 2010) | 2 Zeilen

added \lock and \remainlocked to doxygen.cfg

------------------------------------------------------------------------
r2127 | progs | 2010-11-15 17:14:13 +0100 (Mo, 15. Nov 2010) | 1 Zeile

sccp_management: remove partial locking in sccp_manager_restart_device
------------------------------------------------------------------------
r2126 | progs | 2010-11-15 17:14:00 +0100 (Mo, 15. Nov 2010) | 1 Zeile

remove unneeded lock/unlock
------------------------------------------------------------------------
r2125 | progs | 2010-11-15 17:13:45 +0100 (Mo, 15. Nov 2010) | 1 Zeile

unlock in reverse locking order
------------------------------------------------------------------------
r2124 | ddegroot | 2010-11-15 17:01:33 +0100 (Mo, 15. Nov 2010) | 2 Zeilen

Removed ast_do_masquerade from call_forward, ast_hangup will perform the ast_do_masquerade for us.

------------------------------------------------------------------------
r2123 | ddegroot | 2010-11-14 03:02:11 +0100 (So, 14. Nov 2010) | 2 Zeilen

Fix for gc using pthreads

------------------------------------------------------------------------
r2122 | ddegroot | 2010-11-12 20:16:36 +0100 (Fr, 12. Nov 2010) | 2 Zeilen

Modified Hangup OpenChannels in "module unload chan_sccp"

------------------------------------------------------------------------
r2121 | ddegroot | 2010-11-12 16:44:39 +0100 (Fr, 12. Nov 2010) | 3 Zeilen

Fix for Fast Pickup / Auto-Answer during Call-Forwarded Call. Added a ast_setstate to AST_STATE_UP for bridge and incoming channel


------------------------------------------------------------------------
r2120 | progs | 2010-11-12 14:53:16 +0100 (Fr, 12. Nov 2010) | 1 Zeile

sccp_sk_transfer: add missing SCCP_LIST_LOCK(&d->selectedChannels)
------------------------------------------------------------------------
r2119 | progs | 2010-11-12 14:13:01 +0100 (Fr, 12. Nov 2010) | 1 Zeile

sccp_hint_remoteNotification_thread: unlock non matching channels when walking asterisk channel list
------------------------------------------------------------------------
r2118 | progs | 2010-11-12 14:12:49 +0100 (Fr, 12. Nov 2010) | 1 Zeile

sccp_feat_grouppickup: fix a corner case when asterisk channel is not unlocked
------------------------------------------------------------------------
r2117 | progs | 2010-11-12 14:12:36 +0100 (Fr, 12. Nov 2010) | 1 Zeile

sccp_feat_directpickup: fix a corner case when asterisk channel is not unlocked
------------------------------------------------------------------------
r2116 | progs | 2010-11-12 14:12:23 +0100 (Fr, 12. Nov 2010) | 1 Zeile

sccp_feat_directpickup: lock device d instead of channel c when setting d->active_channel
------------------------------------------------------------------------
r2115 | progs | 2010-11-10 11:10:43 +0100 (Mi, 10. Nov 2010) | 1 Zeile

chan_sccp: sccp_func_sccpdevice: add missing break statements (closes: #1555)
------------------------------------------------------------------------
r2114 | progs | 2010-11-10 11:10:26 +0100 (Mi, 10. Nov 2010) | 1 Zeile

chan_sccp: sccp_devicestate: fix unreachable test condition (closes: #1554)
------------------------------------------------------------------------
r2113 | progs | 2010-11-10 11:10:13 +0100 (Mi, 10. Nov 2010) | 1 Zeile

chan_sccp: remove orphan sccp_session_unlock calls
------------------------------------------------------------------------
r2112 | progs | 2010-11-10 11:09:51 +0100 (Mi, 10. Nov 2010) | 1 Zeile

[cleanup] hint: rework sccp_hint_remoteNotification_thread
------------------------------------------------------------------------
r2111 | progs | 2010-11-09 17:18:47 +0100 (Di, 09. Nov 2010) | 4 Zeilen

[cleanup] SCCP_LIST_TRAVERSE_SAFE_BEGIN use

use SCCP_LIST_TRAVERSE instead of SCCP_LIST_TRAVERSE_SAFE_BEGIN when
no SCCP_LIST_*_CURRENT functions are used during traversal
------------------------------------------------------------------------
r2105 | progs | 2010-11-08 16:18:06 +0100 (Mo, 08. Nov 2010) | 1 Zeile

add more autotools remains to .gitignore
------------------------------------------------------------------------
r2104 | progs | 2010-11-08 16:17:53 +0100 (Mo, 08. Nov 2010) | 1 Zeile

add a .gitignore file
------------------------------------------------------------------------
r2103 | progs | 2010-11-08 16:17:43 +0100 (Mo, 08. Nov 2010) | 1 Zeile

[cleanup] sccp_unregister_dialplan_functions: use vars instead of string constants when unregistering application functions
------------------------------------------------------------------------
r2102 | progs | 2010-11-08 16:17:31 +0100 (Mo, 08. Nov 2010) | 1 Zeile

[cleanup] sccp_app_calledparty: remove unneeded string copy
------------------------------------------------------------------------
r2101 | progs | 2010-11-08 16:17:18 +0100 (Mo, 08. Nov 2010) | 1 Zeile

[cosmetic] fix lock typo
------------------------------------------------------------------------
r2099 | progs | 2010-11-05 18:11:38 +0100 (Fr, 05. Nov 2010) | 1 Zeile

fix double unlock in acf_channel_real()
------------------------------------------------------------------------
r2097 | progs | 2010-11-05 16:54:28 +0100 (Fr, 05. Nov 2010) | 1 Zeile

oops
------------------------------------------------------------------------
r2096 | progs | 2010-11-05 16:52:49 +0100 (Fr, 05. Nov 2010) | 1 Zeile

quickfix deadlock
------------------------------------------------------------------------
r2094 | ddegroot | 2010-11-03 15:16:26 +0100 (Mi, 03. Nov 2010) | 3 Zeilen

Fixed the "Dialed Phonebook" error message


------------------------------------------------------------------------
r2092 | progs | 2010-11-03 15:04:54 +0100 (Mi, 03. Nov 2010) | 5 Zeilen

fix register of not configured devices

when a device is registering on chan_sccp-b and is not configured in
sccp.conf, the hotline is associated to the device, but pendingUpdate was
set to 1, so the device was infinitely restarted.
------------------------------------------------------------------------
r2090 | progs | 2010-11-02 18:04:53 +0100 (Di, 02. Nov 2010) | 1 Zeile

fix compilation without realtime
------------------------------------------------------------------------
r2088 | progs | 2010-11-02 15:42:58 +0100 (Di, 02. Nov 2010) | 1 Zeile

fix reload of buttonconfigs
------------------------------------------------------------------------
r2084 | progs | 2010-10-29 13:33:46 +0200 (Fr, 29. Okt 2010) | 1 Zeile

remove a useless lock of device
------------------------------------------------------------------------
r2083 | progs | 2010-10-29 13:33:32 +0200 (Fr, 29. Okt 2010) | 1 Zeile

fix buffer overflow
------------------------------------------------------------------------
r2082 | progs | 2010-10-29 13:33:19 +0200 (Fr, 29. Okt 2010) | 1 Zeile

fix holding on no-bridged channels (for example on meetme conference)
------------------------------------------------------------------------
r2079 | progs | 2010-10-28 16:20:35 +0200 (Do, 28. Okt 2010) | 1 Zeile

remove variables when reloading
------------------------------------------------------------------------
r2078 | progs | 2010-10-28 15:35:11 +0200 (Do, 28. Okt 2010) | 1 Zeile

do not remove hotline when reloading
------------------------------------------------------------------------
r2074 | progs | 2010-10-28 12:00:37 +0200 (Do, 28. Okt 2010) | 1 Zeile

fix display of status messages
------------------------------------------------------------------------
r2073 | progs | 2010-10-28 12:00:20 +0200 (Do, 28. Okt 2010) | 1 Zeile

fix memory leak, avoid useless copy, and useless strlen
------------------------------------------------------------------------
r2072 | ddegroot | 2010-10-27 18:07:32 +0200 (Mi, 27. Okt 2010) | 3 Zeilen

Added c->answered_elsewhere = TRUE; to sccp_channel.c: channel_answer
This seems to fix the problem for forwarded calls. Not sure of the full 100% impact of this addition

------------------------------------------------------------------------
r2071 | ddegroot | 2010-10-27 18:05:42 +0200 (Mi, 27. Okt 2010) | 2 Zeilen

Extended logging to trace down set_rtp_peer bug (#3096294)

------------------------------------------------------------------------
r2069 | progs | 2010-10-27 16:52:11 +0200 (Mi, 27. Okt 2010) | 1 Zeile

use usleep() instead of sleep()
------------------------------------------------------------------------
r2068 | progs | 2010-10-27 16:50:12 +0200 (Mi, 27. Okt 2010) | 1 Zeile

do not lock anymore in fixup
------------------------------------------------------------------------
r2067 | ddegroot | 2010-10-27 16:13:27 +0200 (Mi, 27. Okt 2010) | 4 Zeilen

Extended Logging on sccp_channel_set_rtp_peer 
Extended logging in sccp_actions.c helper function
fixed cfwdall setting in sccp_line, so sccp_feat_changed get's the correct change

------------------------------------------------------------------------
r2066 | ddegroot | 2010-10-27 14:11:28 +0200 (Mi, 27. Okt 2010) | 4 Zeilen

Removed ERROR_LOG line from sccp_pbx
Changed Fixup 
Change Progress Indication, do set connected during progress.

------------------------------------------------------------------------
r2065 | ddegroot | 2010-10-27 13:44:23 +0200 (Mi, 27. Okt 2010) | 2 Zeilen

Fix Compile problem 

------------------------------------------------------------------------
r2062 | progs | 2010-10-27 10:59:07 +0200 (Mi, 27. Okt 2010) | 1 Zeile

do not erase useful status messages
------------------------------------------------------------------------
r2061 | progs | 2010-10-27 10:58:51 +0200 (Mi, 27. Okt 2010) | 1 Zeile

fix lock with asterisk >= 1.6
------------------------------------------------------------------------
r2060 | progs | 2010-10-26 18:08:31 +0200 (Di, 26. Okt 2010) | 1 Zeile

fix deadlock when using masquerade (and add macro SCCP_CHANNEL_DEADLOCK_AVOIDANCE)
------------------------------------------------------------------------
r2058 | ddegroot | 2010-10-25 14:13:17 +0200 (Mo, 25. Okt 2010) | 3 Zeilen

Update to SVN2CL ChangeLog generator. It now put links to the bug-report system into the ChangeLog when bug has been specified during svn commit using #bugnumber.


------------------------------------------------------------------------
r2043 | ddegroot | 2010-10-23 19:48:16 +0200 (Sa, 23. Okt 2010) | 3 Zeilen

Revert to 2041. I checked in my asterisk 1.8 fixes into trunk by accident. Sorry


------------------------------------------------------------------------
r2042 | ddegroot | 2010-10-23 19:38:28 +0200 (Sa, 23. Okt 2010) | 9 Zeilen

Initial steps in getting to be asterisk 1.8 compatible
- changes to configure / asterisk.m4 to recognize 1.8 and its new features
- added wrapper function section to sccp_utils.c, should move to sccp_ast_wrapper.c later on
  - sccp_inet_ntoa
  - parse_ast_callerid  (or sccp_get_ast_callerid)
  - sccp_set_ast_callerid
- updated sccp_channel.c (compiles now)
- updated chan_sccp.h and chan_sccp.c (compiles now)

------------------------------------------------------------------------
r2039 | ddegroot | 2010-10-23 14:56:59 +0200 (Sa, 23. Okt 2010) | 3 Zeilen

Setting version to PreRC4 (This does not mean there will have to be an RC4, we could still go to BETA/Stable from this version)


------------------------------------------------------------------------
r2038 | ddegroot | 2010-10-23 14:23:30 +0200 (Sa, 23. Okt 2010) | 5 Zeilen

Added a Helper Function, sccp_check_session_message_device, to sccp_actions to check Session, Device and Message Structure Availability
Added the sccp_check_session_message_device (Helper Function) to all sccp_action handle Function
Added a Check to chan_sccp.c handle_message to see if the IP-Address of the device changed mid flight
Added a Helper Function to sccp_utils to ease the lookup of ip-address information with different asterisk versions

------------------------------------------------------------------------
r2036 | ddegroot | 2010-10-23 12:00:56 +0200 (Sa, 23. Okt 2010) | 2 Zeilen

Cleanup locks file and display name of the lock variable during debugging

------------------------------------------------------------------------
r2035 | ddegroot | 2010-10-22 22:50:55 +0200 (Fr, 22. Okt 2010) | 2 Zeilen

Added some stuff to the documentation: SIP/SCCP NAT Traversal, directrtp, Stun Servers etc...

------------------------------------------------------------------------
r2032 | ddegroot | 2010-10-22 13:51:46 +0200 (Fr, 22. Okt 2010) | 2 Zeilen

Fix for x86_64 module directory on some platforms (line OpenSuSE)

------------------------------------------------------------------------
r2031 | ddegroot | 2010-10-22 13:39:34 +0200 (Fr, 22. Okt 2010) | 2 Zeilen

Fix for installation path /usr/lib64/ on some x86_64 machines

------------------------------------------------------------------------
r2029 | ddegroot | 2010-10-22 13:07:50 +0200 (Fr, 22. Okt 2010) | 2 Zeilen

Fix to changelog for debian package builder

------------------------------------------------------------------------
r2026 | ddegroot | 2010-10-22 12:33:10 +0200 (Fr, 22. Okt 2010) | 2 Zeilen

Recommit Chan_SCCP-b V3.0 Release Candidate 3

------------------------------------------------------------------------
r2025 | ddegroot | 2010-10-22 12:30:12 +0200 (Fr, 22. Okt 2010) | 2 Zeilen

RPM Target Fix

------------------------------------------------------------------------
r2023 | ddegroot | 2010-10-22 12:00:41 +0200 (Fr, 22. Okt 2010) | 2 Zeilen

Update ChangeLog to RC3

------------------------------------------------------------------------
r2022 | ddegroot | 2010-10-22 11:41:53 +0200 (Fr, 22. Okt 2010) | 2 Zeilen

Issue of Chan_SCCP V3.0 Release Candidate 3

------------------------------------------------------------------------
r2021 | ddegroot | 2010-10-21 15:22:09 +0200 (Do, 21. Okt 2010) | 2 Zeilen

Update Doxygen Documentation

------------------------------------------------------------------------
r2020 | ddegroot | 2010-10-20 21:14:09 +0200 (Mi, 20. Okt 2010) | 2 Zeilen

Fix: Get back "Your current options" after hangup

------------------------------------------------------------------------
r2019 | ddegroot | 2010-10-20 21:06:17 +0200 (Mi, 20. Okt 2010) | 2 Zeilen

Fix: Bring back "Your current options" message in most cases (Bug: #3071857, "Status Message on the bottom line....")

------------------------------------------------------------------------
r2018 | ddegroot | 2010-10-20 20:57:38 +0200 (Mi, 20. Okt 2010) | 2 Zeilen

tiny cleanup

------------------------------------------------------------------------
r2017 | ddegroot | 2010-10-20 19:23:15 +0200 (Mi, 20. Okt 2010) | 2 Zeilen

Added Todo Notice in sccp_hint

------------------------------------------------------------------------
r2016 | ddegroot | 2010-10-20 18:59:52 +0200 (Mi, 20. Okt 2010) | 2 Zeilen

Fix: break removed from sccp_hint_unSubscribeHint

------------------------------------------------------------------------
r2015 | ddegroot | 2010-10-20 17:47:41 +0200 (Mi, 20. Okt 2010) | 2 Zeilen

Fix hint Removal without LIST Lock

------------------------------------------------------------------------
r2014 | ddegroot | 2010-10-20 16:02:43 +0200 (Mi, 20. Okt 2010) | 7 Zeilen

Added displayprompts  to dirtrfr, so people know what is going on
Added sccp debug threadlocks, to make it easier to find deadlocks
Pressing speeddial while in a call, will automatically put the call on hold and execute the speeddial. Will also work correctly with transfer.
Removed strange hardcoded cidnum and cidname from sccp_hint.c/notify_message (this function should be checked)
Fix for sccp_pbx_get_callid getting the correct PVT


------------------------------------------------------------------------
r2013 | ddegroot | 2010-10-19 17:09:24 +0200 (Di, 19. Okt 2010) | 2 Zeilen

Removed suppourflous debug line

------------------------------------------------------------------------
r2012 | ddegroot | 2010-10-19 15:59:22 +0200 (Di, 19. Okt 2010) | 3 Zeilen

Moved destroy_session, on re-registering devices toward the beginning, and wait until device_stroy for realtime devices has finished
Reduced the destroy_session-> device_destroy time from 10 to 5 seconds (should be long enough)

------------------------------------------------------------------------
r2011 | ddegroot | 2010-10-19 13:25:21 +0200 (Di, 19. Okt 2010) | 2 Zeilen

Changed cleanup/destroy behaviour on re-registering devices. Destroy Immediately on re-register

------------------------------------------------------------------------
r2010 | ddegroot | 2010-10-19 12:46:34 +0200 (Di, 19. Okt 2010) | 3 Zeilen

Fix for devstate-feature
Added Check for sccp_socket_close

------------------------------------------------------------------------
r2009 | ddegroot | 2010-10-18 21:06:45 +0200 (Mo, 18. Okt 2010) | 2 Zeilen

Removed double lock in sccp_socket: destroy_session

------------------------------------------------------------------------
r2008 | ddegroot | 2010-10-17 22:41:33 +0200 (So, 17. Okt 2010) | 2 Zeilen

Memory leak : reverted changes

------------------------------------------------------------------------
r2007 | ddegroot | 2010-10-17 19:47:40 +0200 (So, 17. Okt 2010) | 2 Zeilen

Fixed Deadlock in sccp_actions/sccp_handle_AvailableLines

------------------------------------------------------------------------
r2006 | ddegroot | 2010-10-17 17:22:28 +0200 (So, 17. Okt 2010) | 2 Zeilen

On device destroy the devstate structure should be deleted as well.

------------------------------------------------------------------------
r2005 | ddegroot | 2010-10-17 16:09:59 +0200 (So, 17. Okt 2010) | 3 Zeilen

Fix for sccp_dev_cleanup to prevent loop:sccp_dev_clean => sccp_line_removeDevice => sccp_event_fire => sccp_hint_eventListener => sccp_hint_lineStatusChanged => sccp_hint_hintStatusUpdate => sccp_hint_notifySubscribers => sccp_dev_speed_find_byindex
Temporary Fix for unload module to hangup open channels before starting the unload.

------------------------------------------------------------------------
r2004 | ddegroot | 2010-10-16 06:41:54 +0200 (Sa, 16. Okt 2010) | 2 Zeilen

Added .indent.pro default settings file for the "indent" program

------------------------------------------------------------------------
r2003 | ddegroot | 2010-10-16 06:03:00 +0200 (Sa, 16. Okt 2010) | 2 Zeilen

Fixed possible memory leak: implode usage in sccp_cli.h

------------------------------------------------------------------------
r2002 | ddegroot | 2010-10-16 05:37:57 +0200 (Sa, 16. Okt 2010) | 4 Zeilen

Fixed cli usage message
Fixed possible memory leak from sccp_utils.c implode when not correctly freed in sccp_cli.h
Fixed "sccp add line" cli command

------------------------------------------------------------------------
r2001 | ddegroot | 2010-10-15 14:50:49 +0200 (Fr, 15. Okt 2010) | 4 Zeilen

Fixed autoconf/asterisk to detect DEBUG settings in asterisk correctly
Added log_show_lock(p_mutex) to sccp_lock.c to make lock debugging easier. Will only display lock information if asterisk has DEBUG_CHANNEL_LOCKS enabled


------------------------------------------------------------------------
r2000 | ddegroot | 2010-10-15 12:26:04 +0200 (Fr, 15. Okt 2010) | 2 Zeilen

prevent sccp_pbx_softswitch from being executed twice (Pavel Troller)

------------------------------------------------------------------------
r1999 | ddegroot | 2010-10-15 12:18:44 +0200 (Fr, 15. Okt 2010) | 2 Zeilen

removed #undef free, make sure to always use either ast_free or sccp_free. Never free.

------------------------------------------------------------------------
r1998 | progs | 2010-10-15 10:36:21 +0200 (Fr, 15. Okt 2010) | 5 Zeilen

Revert "Removed Global Lock, not necessary just to read if we are currently in a reload"

This reverts commit 7da11b7e76b3a6ebcdd580129ff818010e63b0f7.

We want to prevent reload during a device update.
------------------------------------------------------------------------
r1997 | progs | 2010-10-15 10:06:31 +0200 (Fr, 15. Okt 2010) | 1 Zeile

display every forwarded lines on the device prompt, and hide message when there aren't forwarded lines anymore
------------------------------------------------------------------------
r1996 | ddegroot | 2010-10-14 18:43:44 +0200 (Do, 14. Okt 2010) | 2 Zeilen

Removed Global Lock, not necessary just to read if we are currently in a reloa