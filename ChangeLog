<<<<<<< HEAD
2011-08-02  ddegroot

	* [r2683] .version, autoconf/extra.m4, configure, src/config.h.in:
	  Fixed devstate detection

2011-08-01  ddegroot

	* [r2682] ChangeLog, NEWS, debian/changelog, src/config.h.in:
	  Update ChangeLogs

	* [r2681] Makefile.in, configure, doc/Makefile.in, src/Makefile.in,
	  src/config.h.in: Update configure to reflect .version numbers

	* [r2680] .version: Update .version numbers

	* [r2679] .[CPY]: Renamed /branches/V3.0.0 to /branches/V3.0 to
	  allow for minor number increments

	* [r2675] Updated branches V3.0.0 and V3.1.0 with new asterisk
	  version checks for configure

2011-07-30  ddegroot

	* [r2669] Fix devicestate.h handling for older versions of asterisk
	  1.6.0

2011-07-29  ddegroot

	* [r2668] Fixed disabled configure flags

	* [r2667] Fix devicestate.h include

2011-07-27  ddegroot

	* [r2658] Fixed configure warning during bootstrap.sh

	* [r2656] Fixed sccp_hint devstate for asterisk 1.4

	* [r2655] Fix compilation against asterisk 1.4

	* [r2651] Created V3.0.0_STABLE Branch

	* [r2648] committed V3.0.0_STABLE

2011-07-26  ddegroot

	* [r2646] Fixed spelling mistake

2011-07-26  davidded

	* [r2645] cisco 8945 support
=======
2011-07-27  ddegroot

	* [r2648] .version, ChangeLog, NEWS: committed V3.0.0_STABLE

2011-07-26  ddegroot

	* [r2646] conf/sccp.conf, doc/04_Setup_Guide.doc: Fixed spelling
	  mistake

2011-07-26  davidded

	* [r2645] src/sccp_actions.c, src/sccp_device.c,
	  src/sccp_protocol.h: cisco 8945 support
>>>>>>> Fix compilation against asterisk 1.4

2011-07-24  ddegroot

	* [r2644] Fix version recognition, autoconf warnings

2011-07-24  davidded

	* [r2643] FIX: Must not change incoming rtp frames, otherwise the
	  global null frame can be alteres, leading to highly obscure
	  problems

	* [r2642] fixed broken video rtp - must not modify incoming frame.

	* [r2641] broken audio situation by refactoring rtp

2011-07-24  ddegroot

	* [r2640] Asterisk Version Detection Fix

2011-07-24  davidded

	* [r2639] broken audio situation by refactoring rtp

2011-07-24  ddegroot

	* [r2638] Warnings clarified by Marcello

2011-07-24  marcelloceschia

	* [r2637] fixes issue with start pbx reported by robert tausend

2011-07-24  ddegroot

	* [r2636] change start vrtp server to eager implementation

	* [r2635] When ast_pbx_start call limit reached, issue
	  CHANNELSTATE_CONGESTION

	* [r2634] Clarified ast_pbx_start

	* [r2633] Removed / Fixed some todo's

	* [r2632] re-indented all code

	* [r2631] Replaced TODO, XXX, todo with \todo

	* [r2630] Added _ between event and object for SCCP_EVENT_*

	* [r2629] removed ancient code blocks from pbx, softkeys,
	  pbx_wrapper, utils

	* [r2628] removed ancient code blocks from mwi, labels and
	  management, removed sccp_object2 completely

2011-07-23  ddegroot

	* [r2627] removed ancient code blocks from hint and indicate

	* [r2626] removed ancient code blocks from features.c

	* [r2625] removed ancient code blocks from device and cli

	* [r2624] removed ancient code blocks (fix)

2011-07-23  davidded

	* [r2623] removed ancious code blocks

2011-07-23  ddegroot

	* [r2622] update tools directory

	* [r2621] Added Phone Background Images

	* [r2620] Fixed doxygen warnings

	* [r2619] changed feature_monitor and devstate_feature to default
	  enabled in configure.ac

	* [r2618] Updated configure.ac
	  Added MAX_ASTERISK_VERSION to configure.ac

2011-07-23  davidded

	* [r2617] A instead of a is better

	* [r2616] presumed fixes

2011-07-22  davidded

	* [r2615] presumed fixes

	* [r2614] presumed fixes

2011-07-19  davidded

	* [r2613] forgotten to check in

2011-07-18  ddegroot

	* [r2612] pbx_log -> ast_log

	* [r2611] Added procedure to cfwd to put on-going call on hold

2011-07-16  davidded

	* [r2610] avoid strange crashing double redial on 8941

	* [r2609] configurable outgoing video bitrate

2011-07-12  marcelloceschia

	* [r2608] revert dynamic speeddial support for protocol version 11

2011-07-10  davidded

	* [r2607] custom newcallcustom softkey which mimics the newcall
	  button for some special purpose

2011-07-09  davidded

	* [r2606] video bandwidth reduced

2011-07-05  davidded

	* [r2605] 8941 compatiblity

2011-06-27  marcelloceschia

	* [r2604] support for dynamic speeddial for protocol version 11

2011-06-11  ddegroot

	* [r2603] Applied Jacob Miles' patch

2011-06-10  davidded

	* [r2602] comment on distributed devstate

	* [r2601] changed devstate event type

	* [r2600] changed devstate event type

2011-06-09  ddegroot

	* [r2599] Fix feature documentation in 05_New_Features.doc

2011-06-03  ddegroot

	* [r2598] added config.cache delete to tools/bootstrap.sh

	* [r2597] Fix for stefan gofferje's deadlock during AGI wakeup call

	* [r2596] Fix for stefan gofferje's deadlock during AGI wakeup call

2011-06-02  ddegroot

	* [r2595] Fixed case on dateFormat to dateformat in the config
	  samples

2011-05-31  ddegroot

	* [r2594] Update documentation:FAQ for Paging

	* [r2593] removed most #include in *.c and *.h

2011-05-31  marcelloceschia

	* [r2592] fixes compile issue with asterisk < 1.6.2

2011-05-31  ddegroot

	* [r2591] Force configure to use config.cache

	* [r2590] Moved check from configure.ac to autoconf/extra.m4 and
	  simplified configure.ac

2011-05-30  ddegroot

	* [r2589] possible mem leak fix

	* [r2588] Clarified softkeyset in conf/sccp.conf sample

	* [r2587] Updated sample sccp.conf\mFixed indents

2011-05-30  davidded

	* [r2586] changed state for dial softkey

	* [r2585] fixed for changed lock track config define

	* [r2584] dial softkey

2011-05-30  ddegroot

	* [r2583] Added/Redefined asterisk.m4 Macros

	* [r2582] Updated configure.ac to use newer check methods
	  Added --with-ccache option to configure.ac

2011-05-29  ddegroot

	* [r2581] Reduce further m4/autoconf warnings in hudson

	* [r2580] Reduce further m4/autoconf warnings in hudson

	* [r2579] Renamed ASTERISK_VERSION_NUM to ASTERISK_VERSION_NUMBER
	  to fix hudson errors

2011-05-28  ddegroot

	* [r2578] Added url to doxygen-doc

	* [r2577] Added http://www.asterisk.org/node/48325 in doxygen-docs

	* [r2576] Fixed DEVSTATE->DEVICE_STATE in doxygen-docs

2011-05-27  ddegroot

	* [r2575] Updated doxygen docs

2011-05-27  progs

	* [r2574] fix checking a channel's blocker thread is alive at
	  hangup

2011-05-26  marcelloceschia

	* [r2573] add patch from Jacob.E.Miles@L-3Com.com

	* [r2572] add patch from Jacob.E.Miles@L-3Com.com

2011-05-21  ddegroot

	* [r2571] Fixed warnings

2011-05-13  davidded

	* [r2570] backport of softkey memory leak

2011-05-10  marcelloceschia

	* [r2569] use SoftKey:Exit to leave ConfList

2011-05-09  marcelloceschia

	* [r2568] no need to look atomic actions

2011-05-08  marcelloceschia

	* [r2567] fixes compile issue with management.c

	* [r2566] remove unnecessary check

	* [r2565] ami implementation for answer, hangup, hold and new call

2011-05-05  ddegroot

	* [r2564] Added Jacob Miles' CLI Functions

	* [r2563] Added timeout to CLI:SetMessage function

2011-05-04  marcelloceschia

	* [r2562] configure error for unsupported pbx versions

2011-05-03  marcelloceschia

	* [r2561] use digit timeout from device (globals extended),
	  untested

	* [r2560] use digit timeout from device (globals extended),
	  untested

2011-05-02  davidded

	* [r2559] fix for native COLP issue with missing channel (real fix
	  here)

	* [r2558] indent to clean up my mess

	* [r2557] fix for native COLP issue with missing channel

2011-04-30  marcelloceschia

	* [r2556] fixes unstable code

	* [r2555] fixes unstable code

2011-04-28  davidded

	* [r2554] fix for problem with COLP

2011-04-21  davidded

	* [r2553] reverted previous change

	* [r2552] commented out exitcontext

	* [r2551] colp

	* [r2550] colp

	* [r2549] colp

	* [r2548] colp

	* [r2547] colp

	* [r2546] colp

	* [r2545] colp

	* [r2544] colp

	* [r2543] colp

	* [r2542] colp

	* [r2541] colp

	* [r2540] colp

2011-04-18  marcelloceschia

	* [r2539] fixes const compile issue

	* [r2538] fixes const compile issue

	* [r2537] fixes ani issue during transfer

	* [r2536] fixes Keepalive message, before register

2011-04-15  davidded

	* [r2535] codec fixes and ilbc

	* [r2534] codec fix

	* [r2533] codec fix

	* [r2532] codec fix

	* [r2531] codec fix

2011-04-15  marcelloceschia

	* [r2530] fixes softkey issues

2011-04-15  davidded

	* [r2529] codec fix

	* [r2528] codec fix

	* [r2527] codec fix

	* [r2526] codec fix

	* [r2525] codec fix

	* [r2524] codec fix

2011-04-14  marcelloceschia

	* [r2523] fixes 1.4 compile issue

	* [r2522] fixes unstable waring with CS_DYNAMIC_SPEEDDIAL_CID

2011-04-14  davidded

	* [r2521] asterisk 1.4 compile fix

	* [r2520] codec negotiation fix

2011-04-13  davidded

	* [r2519] codec negotiation fix

	* [r2518] mac compile fix with autoconf

	* [r2517] changed preferred codec behaviour after resume, added
	  fixes for CS_DYNAMIC_SPEEDDIAL_CID option, and added some
	  comments

	* [r2516] missing newline at log message

	* [r2515] voicemail debugging

2011-04-13  marcelloceschia

	* [r2514] set PROTOCOL_HIGH to 17

2011-04-12  marcelloceschia

	* [r2513] handle message using cb functions

2011-04-12  davidded

	* [r2512] fixed conflict between monitor feature and mwi check

	* [r2511] mwi fix

	* [r2510] mwi fix

	* [r2509] mwi comment

	* [r2508] mwi fix

2011-04-12  marcelloceschia

	* [r2507] fixes wrong documentation for protocolversion

	* [r2506] fixes compile issue with asterisk < 1.6.2 and
	  ast_channel_search_locked

	* [r2505] fixes compile warning with asterisk < 1.6.2

2011-04-11  davidded

	* [r2504] mwi fix

2011-04-11  ddegroot

	* [r2503] Fixed compile warnings about wrong format

	* [r2502] function "ast_rtp_set_rtpmap_type_rate" not yet known in
	  asterisk versions below 1.6.2

2011-04-11  marcelloceschia

	* [r2501] dont allow message handling without registered device

2011-04-11  davidded

	* [r2500] fixed missing null pointer checks

2011-04-10  marcelloceschia

	* [r2499] testing for gpickup

2011-04-09  marcelloceschia

	* [r2498] testing for gpickup

	* [r2497] handle sofkey events in a gerneric way

2011-04-07  davidded

	* [r2496] mute mic app function, fix problem introduced by
	  autoanswer when autoanswering on 7960 (sorry for double checkin)

2011-04-06  marcelloceschia

	* [r2495] fixes loop

2011-04-02  davidded

	* [r2494] conference fix for macosx

2011-03-27  davidded

	* [r2493] devstate prepared for distributed situations

2011-03-23  marcelloceschia

	* [r2492] fixes compile issues with asterisk 1.4 and asterisk <
	  1.6.2

2011-03-22  marcelloceschia

	* [r2491] fixes unregister_exten issue with shared lines

2011-03-21  marcelloceschia

	* [r2490] move application

2011-03-21  ddegroot

	* [r2489] Forgot to add sccp_appfunctions.c sccp_appfunctions.h

2011-03-20  marcelloceschia

	* [r2488] revert 2484 until all files commited

	* [r2487] video update

	* [r2486] fixes wrong payloadType

	* [r2485] change transmit vcodec handling

2011-03-20  ddegroot

	* [r2484] Moved Application/Dialplan Functions to
	  sccp_appfunctions.[c|h]

2011-03-20  marcelloceschia

	* [r2483] fixes transmit video

	* [r2482] fixes receive video

	* [r2481] fixes video debug output

	* [r2480] fixes video debug output

	* [r2479] fixes video debug output

2011-03-17  davidded

	* [r2478] manual codec selection function

2011-03-16  marcelloceschia

	* [r2477]

	* [r2476] fixes compile issue with 1.4

2011-03-15  davidded

	* [r2475] slinear16 wideband support

2011-03-14  marcelloceschia

	* [r2474] revert session

2011-03-01  ddegroot

	* [r2473] Updated sccp_actions.c documentation for register
	  functions

	* [r2472] Fixed session locking, during register and destroy
	  (updating s->device)

	* [r2471] Fixed potential locking problem in addButton

2011-02-28  ddegroot

	* [r2470] prevent sccp.conf load error messages when useRedialMenu
	  is defined but not compiled with CS_ADV_FEATURES

2011-02-27  ddegroot

	* [r2469] started added conference invite method

2011-02-27  marcelloceschia

	* [r2468] make v20 compatible

	* [r2467] add enum for sccp_ringermode_t and sccp_ringertype_t

2011-02-26  ddegroot

	* [r2466] Doxygen Updates

	* [r2465] small fixes in doxygen documentation\nAdded chan-sccp-b
	  style sheet for pdf generation

	* [r2464] Cleaned up/Added/Revised doxygen comments

	* [r2463] Fix undefined symbol ast_rtp_change_source (Kyle Gordon:
	  2011-02-25)

2011-02-25  marcelloceschia

	* [r2462] bandwidth definition

2011-02-25  ddegroot

	* [r2461] renamed toggleMute button to Mute

	* [r2460] Cause conflist action KICK to hangup the remoteBrigePeer
	  / ast_channel

2011-02-25  marcelloceschia

	* [r2459] fixes compile issue

	* [r2458] add Unknown_0x0142_Message

	* [r2457] rename Unknown_0x0141_Message

	* [r2456] rename Unknown_0x0141_Message

2011-02-25  ddegroot

	* [r2455] Fixed sccp_action.c Handle DTU Message by adding a final
	  delimeter on the incoming data.

2011-02-25  marcelloceschia

	* [r2454] add monitor tone

2011-02-25  ddegroot

	* [r2453] Added SPA 525G (Not working Yet)\nRenamed xml_data to
	  data in sccp_protocol.h

	* [r2452] Added SPA525 Device Type (Not Working Yet)\nFixed
	  ConfList following problem shown by David (Auto Open ConfList has
	  been removed, only updating list when previously opened by the
	  user)

	* [r2451] Added a function to sccp_utils.c To send xml_data to
	  EndUser Device

2011-02-24  davidded

	* [r2450] fix obscure message handling

2011-02-24  ddegroot

	* [r2449] Handle DTU Respone\n Fix sccp channel mistake in
	  sccp_conference.c

2011-02-24  davidded

	* [r2448] fix user data issue

	* [r2447] fix user data issue

	* [r2446] fix user data issue

2011-02-23  ddegroot

	* [r2445] Fixing AST_Causes mapping again. Two of the causes only
	  appeared somewhere in the middle of development of asterisk 1.6.2

	* [r2444] Added muted function to ConferenceList

	* [r2443] Added wait before updating list when participant has been
	  kicked

	* [r2442] Fix compile problems caused by added ConferenceList

2011-02-23  davidded

	* [r2441] fix for conference kick

2011-02-23  ddegroot

	* [r2440] Added Conference Exit Context

	* [r2439] replaced hangup code for kicking participant

	* [r2438] Added: ConferenceList error checking
	  Implemented: Conference Kick Function (still needs to hangup the
	  channel after kicking a participant out of the conference)

	* [r2437] Refactored conference:
	  - Removed conference->partIdMax
	  - Renamed participant->SCCPchannel to channel
	  - Changed conference->id from int to uint32_t
	  - Changed participant->id from unsigned int to uint32_t
	  - reindented file

2011-02-22  ddegroot

	* [r2436] Update ConferenceList Handling

	* [r2435] Update ConferenceList, SoftKey Parsing

	* [r2434] Update Conference List

	* [r2433] Updated work on conflist

	* [r2432] Updated comments and layout of the sample sccp.conf file

2011-02-22  davidded

	* [r2431] improved documentation of overlap feature

2011-02-21  ddegroot

	* [r2430] Started implementing DeviceToUser

	* [r2429] Added: Protocol Definitions for DeviceToUser Messages

	* [r2428] Added (empty function) invite participant to conference

	* [r2427] Removed session handing code from chan_sccp.c

	* [r2426] Update: conference list using CiscoIpPhoneIconMenu

	* [r2425] Fix: conflist

	* [r2424] Added prototype for checkMonCond

	* [r2423] Added: conference list implementation

2011-02-21  davidded

	* [r2422] todos

	* [r2421] monitor feature revised (incomplete), mwi indicator for
	  recording

2011-02-21  ddegroot

	* [r2420] Update: updated the config file to show different hint
	  contexts\nUpdate: Documentation on clustering and
	  Fail-Back\nUpdate: cnf.xml files to reflect different Fall/Fail
	  back possibilities

2011-02-20  ddegroot

	* [r2419] Added: Started implementing conflist

2011-02-20  davidded

	* [r2418] conflist softkey, new arbitrary softkey test

2011-02-20  ddegroot

	* [r2417] Updated: made softkeyset parsing complete and updated
	  sccp.conf accordingly

	* [r2416] fix conference removeParticipant sccp_pbx.c hangup call

	* [r2415] Cleanup Adhoc Function rename

	* [r2414] cleanup cfwdAll fix

2011-02-20  davidded

	* [r2413] fix for wrong detection whether remote call leg NULL in
	  conference

	* [r2412] conference: participant id and corrected channel mapping

2011-02-19  ddegroot

	* [r2411] Fixed Call Forward Bug\n Reverted using sccp_pbx_wrapper
	  functions pbx_set_callerid_ani, pbx_set_callerid_dnid,
	  pbx_set_callerid_rdnis\nReverted pbx_queue hangup in favor of
	  pbx_hangup_locked

2011-02-18  ddegroot

	* [r2410] Moved two cause to be support start at asterisk 1.6.2

	* [r2409] Implemented sccp_cli "set message device" function

	* [r2408] Remove pthread_cancel(d->session->session_thread) from
	  sccp_device_check_update -> fix for sccp reload

	* [r2407] Update DEBUGCategories for sccp_device.c sccp_line.c
	  sccp_socket.c sccp_hint.c sccp_channel.c sccp_features.c and
	  chan_sccp.c

	* [r2406] Update DEBUGCategories for sccp_pbx, sccp_conference,
	  sccp_softkeys, sccp_utils

	* [r2405] Updated DEBUGCategories in sccp_action.c

	* [r2404] Reverted back the changes to doxygen.cfg

	* [r2403] reverted back a couple of files i should not have checked
	  in.

	* [r2402] Documentation Update (\!\! GUYS)

	* [r2401] Set AST_CAUSE_ANSWERED_ELSEWHERE to Skinny_Disp_GPickup
	  Added Message Translation to TECH HANGUP

	* [r2400] Fixed GPickup again (replaced ast_queue_hangup with
	  ast_hangup, which seems to help

2011-02-17  davidded

	* [r2399] fixed gpickup issue (DK) and line button answer (DD/DK)

2011-02-17  ddegroot

	* [r2398] Fixed gpickup (callerid copying undefined name and number
	  values)

	* [r2397] Renamed XMLDefault.cnf.xml templates to
	  SEP0000000000.cnf.xml_79xx_template
	  Updated documentation

	* [r2396] Implemented TokenAck Handling (Advanced Feature) to fail
	  back once the primairy server becomes available again

	* [r2395] Updated protocolversion in sccp.conf default to 17
	  Updated XMLDefault.cnf.xml files to include fallback servers

	* [r2394] replaced protocol by procolversion in short config
	  samples

2011-02-17  marcelloceschia

	* [r2393] set max p version 17

2011-02-16  ddegroot

	* [r2392] Added text field to RegisterTokenReject

	* [r2391] changed timeout warning to notice

	* [r2390] Updated documentation on earlyrtp and sharedlines

	* [r2389] Update meetme sccp.conf documentation

	* [r2388] Added warning to sccp_config for unknown softkeys in
	  softkeyset

	* [r2387] Updated sccp.conf to include the correct softkeyset
	  Updated sccp_cli to display show softkeyset including the names
	  of the softkeysets

	* [r2386] Fixed warning on compile of sccp_conference.c

	* [r2385] Appended meetme configuration parameters to sccp.conf
	  Updated socket minimum timeout
	  Fixed "attempted to send messages via a different ip-address"
	  error

2011-02-15  ddegroot

	* [r2384] Fixed warning : ‘m’ may be used uninitialized in this
	  function in sccp_socket.c
	  Fixed compiling against Asterisk 1.6 for missing AST_CAUSES

	* [r2383] Added regcontext number matching:
	  
	  When a number is dialed, it is also match against the regcontext
	  dialplan entries, which are created for every SCCP phone when it
	  registers at an asterisk server.
	  This context never contains any patterns to be matched, which
	  should proclude pattern matching and possible faults, thereof.
	  
	  For now this feature is only active when compiled
	  --enable-advanced-function.
	  
	  check: "show dialplan sccpregistration" to see the registered
	  numbers

2011-02-14  ddegroot

	* [r2382] Fixed non existing ast causes on Asterisk 1.4

2011-02-14  marcelloceschia

	* [r2381] revert pbx_helper

2011-02-14  davidded

	* [r2380] conference: now also hangup works

2011-02-14  ddegroot

	* [r2379] Updated/Extended my comments in sccp_pbx_helper

2011-02-13  davidded

	* [r2378] work on conference

	* [r2377] work on conference

2011-02-13  ddegroot

	* [r2376] Updated / Completed list of ast_causes

	* [r2375] Update pbx_helper to timeout immediately on ext_exists
	  (even with canmatch + matchmore).

2011-02-13  davidded

	* [r2374] indent

2011-02-13  ddegroot

	* [r2373] Moved variable declaration to commented out debug message
	  section to prevent warning during compile

2011-02-13  davidded

	* [r2372] indent

2011-02-13  marcelloceschia

	* [r2371]

	* [r2370]

	* [r2369]

	* [r2368] swappable resume

2011-02-13  davidded

	* [r2367] debug messages

2011-02-13  ddegroot

	* [r2366] Added logging to sccp_handle_open_receive_channel_ack

2011-02-13  davidded

	* [r2365] debug messages

2011-02-13  ddegroot

	* [r2364] Set define SCCP_MAX_PACKET back to sizeof(sccp_moo_t)
	  (DdG / Marcello: Sun, 13 Feb 2011 00:32:02 +0100)

2011-02-12  ddegroot

	* [r2363] Changed definition of SCCP_MAX_PACKET to 9000 instead of
	  sizeof(sccp_moo_t). Fix for error reported by Adam Matinna when
	  connecting a new device type. Appartently it send packet bigger
	  than size of moo (Sat, 12 Feb 2011 16:27:27 -0500)

	* [r2362] SPARegisterMessage not mapped to Text in sccp_protocol.h
	  (Adam Matinna, Report: Sat, 12 Feb 2011 16:27:27 -0500)

2011-02-10  ddegroot

	* [r2361] Reset version to PreRC4

	* [r2357] Recommit V3.0 RC3.1

2011-02-10  marcelloceschia

	* [r2356] fixes adhoc dial issue

	* [r2355] no const channel for rtp

	* [r2354] fixes callinfo message

2011-02-10  ddegroot

	* [r2353] Fix Debian Package

	* [r2352] Reset version to V3.0_PreRC4

	* [r2350] Issue Release Candidate RC3.1 (V3.0_RC3.1)

	* [r2349] Moved use of PRI_CAUSE Helper to ADV_FEATURES

	* [r2348] Moved using PRI_CAUSE in sccp_indicate.c only when with
	  ADV_FEATURES

2011-02-10  davidded

	* [r2347] new protocol details

2011-02-09  ddegroot

	* [r2346] Reversed the logic on testing EINTR and EAGAIN

	* [r2345] Added comments about ignoring EINTR / EAGAIN socket errno
	  (Sparc64 + OpenBSD) using poll

	* [r2344] Handle Poll revents
	  Changed polling timeout in sccp_socket_thread (Global SCCP
	  Socket) to -1=no timeout, Poll will now wait for an event
	  indefinitly, without timeing out.

2011-02-09  davidded

	* [r2343] poll timeout, warnings -> notice

2011-02-08  ddegroot

	* [r2342] Increased Socket Timeouts
	  Removed failing code for Unknown Number in sccp_indicate

2011-02-08  davidded

	* [r2341] poll einval egain handling

2011-02-07  davidded

	* [r2340] fixed button count problem crashing 7970

	* [r2339] tentative fixes

	* [r2338] fixed missing null pointer check

2011-02-06  marcelloceschia

	* [r2337] fix compile issue

2011-02-06  ddegroot

	* [r2336] Updated UNKNOWN NUMBER Indication
	  Renamed SCCP_RTP_STATUS_PROGESS_TRANSMIT to
	  SCCP_RTP_STATUS_PROGRESS_TRANSMIT

2011-02-06  marcelloceschia

	* [r2335] SoftKeyTemplateResMessage in dynamic way

	* [r2334] revert to 2330

	* [r2333] revert softkeymap

2011-02-05  ddegroot

	* [r2332] Used some of the new Display Messages from sccp_labels.h

	* [r2331] Copied some SKINNY_LBL and SKINNY_DISP defines from
	  Federico Santulli's chan-sccp.org sccp_labels.h file

	* [r2330] renamed pri_hangup -> pri_cause

	* [r2329] Added PRI_CAUSE to progress and Proceed (for testing
	  purposes

2011-02-05  davidded

	* [r2328] missing free of unused buffer

2011-02-05  ddegroot

	* [r2327] Updated to c->pri_hangup

2011-02-05  marcelloceschia

	* [r2326] remove ifdef for 10800, because of configure issue

2011-02-05  davidded

	* [r2325] merged fixes

2011-02-05  ddegroot

	* [r2324] Added PRI_CAUSE handling to sccp_pbx and sccp_indicate to
	  grab PRI_CAUSE setting from mISDN and DAHDI
	  Added sccp_channel->pri_cause to save the cause/hangupcause

	* [r2323] Update debugging ast_cause

2011-02-04  davidded

	* [r2322] label assignments

2011-02-04  ddegroot

	* [r2321] Added astcause2skinnycause_message

2011-02-04  davidded

	* [r2320] label assignments

2011-02-04  ddegroot

	* [r2319] Added astcause2skinnycause to sccp_util.c
	  used astcause2skinnycause in sccp_indicate for
	  SCCP_CHANNELSTATE_CONGESTION and SCCP_CHANNELSTATE_ONHOOK

2011-02-04  davidded

	* [r2318] label assignments

	* [r2317] label assignments

2011-02-04  ddegroot

	* [r2316] Removed debug messages sccp_pbx.c

	* [r2315] Started added asterisk->skinny hangup causes

	* [r2314] Added progress as new earlyrtp option. This is also the
	  new default setting.
	  
	  The RTP stream will be open by default during progress and
	  proceed indications, so one will hear inband messages send by
	  remote pstn's

	* [r2313] sccp_indicate cleanup
	  left to be fixed: forced early rtp during progress and proceeding

2011-02-04  davidded

	* [r2312] earlyrtp extension

2011-02-04  ddegroot

	* [r2311] Update earlyrtp handling

2011-02-04  davidded

	* [r2310] compile fixes

2011-02-04  ddegroot

	* [r2309] rewrite if/then/else in sccp_read_data

	* [r2308] Fixed sccp_read_data

2011-02-04  davidded

	* [r2307] refactoring of sccp_socket

	* [r2306] length check after read

	* [r2305] length handling problems

2011-02-02  ddegroot

	* [r2304] Fixed compile warnings

2011-02-01  ddegroot

	* [r2303] Added sccp_codecs2str

2011-02-01  davidded

	* [r2302] fix

2011-01-31  marcelloceschia

	* [r2301] asterisk version check by diederik

2011-01-28  davidded

	* [r2300] forgotten checking for fix of transfer focus revertion

2011-01-26  marcelloceschia

	* [r2299] fixes rtp null pointer in asterisk

2011-01-24  marcelloceschia

	* [r2298] use PBX_RTP_TYPE, use PBX_CHANNEL_TYPE

	* [r2297] add TODOs, use PBX_RTP_TYPE, use PBX_CHANNEL_TYPE

2011-01-23  marcelloceschia

	* [r2296] work in progress...

	* [r2295] use PBX(alloc_pbxChannel)

	* [r2294] work in progress...

	* [r2293]

	* [r2292] rtp

	* [r2291] remove implicite inclution of rtp

	* [r2290] pbx wrapper for payload type

	* [r2289] rtp payload lookup

	* [r2288] rtp payload lookup

	* [r2287] remove asterisk rtp types from channel

	* [r2286] add empty softkey

	* [r2285] go on with wrapper functions

2011-01-22  marcelloceschia

	* [r2284] add progress values sccp_rtp_status_t

2011-01-22  ddegroot

	* [r2283] Removed OLDCONST

	* [r2282] Reordered sccp_pbx_wrapper.c to move function to the
	  right section

	* [r2281] Updated sccp_rtp.c to make it compile again
	  added OLDCONST to some of the function in sccp_pbx_wrapper to
	  make it compatible with asterisk 1.6.2.14

	* [r2280] updated sccp_rtp to use socket_equals

	* [r2279] New function socket_equals in sccp_utils

2011-01-22  marcelloceschia

	* [r2278] development commit

2011-01-22  ddegroot

	* [r2277] Cleaned up sccp_labels

2011-01-21  marcelloceschia

	* [r2276] fixes issue in hint, when device is unavailable

	* [r2275] fixes issue in hint, when device is unavailable

2011-01-18  ddegroot

	* [r2274] remarked-out ast10800 rtp code from pbx_wrapper

2011-01-17  ddegroot

	* [r2273] Fixed DirectRTP

	* [r2272] Fix startmediatransmission

	* [r2271] cleanup rtp handling

	* [r2270] reverted directrtp changes until Marcello can have a look
	  at them.
	  Fixed pbx_channel_walk_locked error

2011-01-17  marcelloceschia

	* [r2269] 7931 button template?

2011-01-16  ddegroot

	* [r2268] Patch to get sharedlines working over native bridge
	  (directrtp)

	* [r2267] Fixed directrtp traffic through ast_rtp_bridge by setting
	  rtp->them to correct ip-address in sccp_rtp_get_peer
	  Added wrappers for pbx_rtp_change_source and ast_rtp_new_source
	  Added sccp wrapper arround ast_rtp_bridge to add logging, and
	  change flags before commencing bridge. We could add callback
	  function on bridge success later.
	  Cleaned up OpenReceiveChannelAck handling
	  Added peerIsSCCP bitfield to sccp_channel
	  Fixed IpAddress Setting in sccp_startmediatransmission
	  Fixed sccp_ast_bridge (Local bridge implementation)

2011-01-15  ddegroot

	* [r2266] Added pbx_rtp_get_peer, pbx_rtp_get_us and
	  pbx_rtp_set_peer function to wrapper
	  Rearranged rtp code in sccp_channel
	  Added Bindaddress info to sccp_cli "show device"

2011-01-14  ddegroot

	* [r2265] Found a programming error, ast_pbx_start returns problem
	  information about starting a new thread not if dial succeeded.
	  Need to be fixed.

	* [r2264] Updated chan_sccp.c to use sccp_pbx_wrapper\nremoved
	  unnecessary iabuf declarations\n

	* [r2263] added pbx_channel_alloc, pbx_jb_configure and
	  pbx_null_frame\n switched NEWCONST and OLDCONST definitions

	* [r2262] added replacement functions pbx_channel_alloc and
	  pbx_jb_configure

	* [r2261] replaced ast_moh_start and ast_moh_stop with wrapper
	  functions

	* [r2260] corrections to sccp_pbx_wrapper.c to compile correctly
	  against asterisk 1.4

	* [r2259] Added replacement function calls for ast_variable_new and
	  ast_context_remove_extension

	* [r2258] Backport of ast_str2cos and ast_str2cos for asterisk 1.2
	  and subsequent renaming of ast_str2?os to pbx_str2?os in
	  sccp_config.c

	* [r2257] Cleanup AST_VERSION checks in sccp_cli.c

	* [r2256] replaced pre asterisk 1.4 versions of pbx_inet_ntoa

	* [r2255] replacement funtion calls for sccp_config

	* [r2254] Added list of function which need to be implemented in
	  sccp_pbx_wrapper
	  Replaced header inclusion lines in sccp_management by common.h

2011-01-13  ddegroot

	* [r2253] Fourth set of replacement function calls
	  - ast_copy_string -> sccp_copy_string
	  - pbx_copy_string -> sccp_copy_string
	  - ast_strlen_zero -> sccp_strlen_zero
	  - ast_gethostbyname -> pbx_gethostbyname
	  - ast_apply_ha -> pbx_apply_ha
	  - ast_codec2str -> pbx_codec2str
	  - ast_pickup_ext -> ast_pickup_ext
	  - ast_db_put -> pbx_db_put
	  - ast_db_get -> pbx_db_get

	* [r2252] Third set of replacement function calls
	  - ast_channel_walk_locked -> pbx_channel_walk_locked
	  - ast_strdupa -> sccp_strdupa
	  - ast_strdup -> sccp_strdup

	* [r2251] Second set of replacements function calls
	  - ast_register_application -> pbx_register_application
	  - ast_unregister_application -> pbx_unregister_application
	  - ast_custom_function_register -> pbx_custom_function_register
	  - ast_custom_function_unregister ->
	  pbx_custom_function_unregister
	  - ast_channel_register -> pbx_channel_register
	  - ast_channel_register_ex -> pbx_channel_register_ex
	  - ast_channel_unregister -> pbx_channel_unregister
	  - ast_rtp_proto_register -> pbx_rtp_proto_register
	  - ast_rtp_proto_unregister -> pbx_rtp_proto_unregister
	  - ast_rtp_glue_register -> pbx_rtp_glue_register
	  - ast_rtp_glue_unregister -> pbx_rtp_glue_unregister

	* [r2250] replaced the first set of ast-functions with generic pbx
	  function calls:
	  - ast_codec_pref_index -> pbx_codec_pref_index
	  - ast_codec_pref_getsize -> pbx_codec_pref_getsize
	  - ast_check_hangup -> pbx_check_hangup
	  - ast_channel_lock -> pbx_channel_lock
	  - ast_channel_unlock -> pbx_channel_unlock
	  - ast_sched_wait -> pbx_sched_wait
	  - ast_io_wait -> pbx_io_wait
	  - ast_inet_ntoa -> pbx_inet_ntoa
	  - sccp_pbx_channel_lock -> pbx_channel_lock
	  - sccp_pbx_channel_unlock -> pbx_channel_unlock

	* [r2249] Removed Epoll Check from configure.ac (Caused problems
	  with asterisk includes)

2011-01-12  ddegroot

	* [r2248] Small reversion

	* [r2247] Update callinfo parse functions in sccp_pbx_wrapper

	* [r2246] Replace +1 keepAliveInterval with -1 to make the maximum
	  possible device timeout smaller than the maximum socket timeout

	* [r2245] Fix compilation with --disable-dynamic-config

	* [r2244] Fixing compile error sccp_socket on asterisk 1.4

	* [r2243] reintegration of sccp_socket code. re-registration
	  working correctly again.

	* [r2242] Updated initial functions in sccp_pbx_wrapper.?

	* [r2241] reverted temporarily to an earlier version of
	  sccp_socket.c to get time to fix sccp_socket_device_thread:
	  re-registration issues

	* [r2240] Small fixes to get operational system again

	* [r2239] moved sccp_inet_ntoa to sccp_pbx_wrapper and named :
	  pbx_inet_ntoa

	* [r2238] First wrapper implementations

	* [r2237] Added some headers to sccp_pbx_wrapper

	* [r2236] Ran indent on common.h

	* [r2235] Initial creation and use of common.h to used for
	  including common header files used in most .c files within
	  chan_sccp-b
	  Initial creation of sccp_pbx_wrapper.[c|h] to be used for phasing
	  out version specific asterisk function calls

	* [r2234] readded sccp_config.c sccp_config.h sccp_hint.c
	  sccp_hint.h sccp_management.c sccp_management.h

	* [r2233] temporarily removed sccp_config.c sccp_config.h
	  sccp_hint.c sccp_hint.h sccp_management.c sccp_management.h
	  updated sccp_pbx to use get_sccp_channel_from_ast_channel

2011-01-11  ddegroot

	* [r2230] update codingstyle for sccp_socket.c

	* [r2229] Added AC_LANG definition to configure.ac

	* [r2228] removed all references to common.h

	* [r2227] Removed usleep(10000) from sccp_socket.c socket error
	  handling

	* [r2226] Change to configure.ac to better detect asterisk 1.8

	* [r2225] Fixes to sccp_socket.c (following romain's e-mail
	  5/1/2011) (by Marcello and Diederik)

2011-01-10  marcelloceschia

	* [r2224] fixes ast 1.4 compatibility issue

	* [r2223] cancel session thread on sccp_device_sendReset

	* [r2222] cleanup session

	* [r2221] lock issue

	* [r2220] session will be removed from list by thread it self

2011-01-06  marcelloceschia

	* [r2219] make sccp_socket_close provate

2011-01-06  ddegroot

	* [r2218] Removed unused variables
	  Moved sccp_session_close function declaration to the header file

2011-01-06  marcelloceschia

	* [r2217] use pthread_cancel after reset/restart

	* [r2216] fixes deadlock in sccp_read_data
	  make sccp_session_close private

2011-01-04  marcelloceschia

	* [r2215] fixes unload issue, private destroy_session fkt

	* [r2214] fixes unload issue

	* [r2213] maxStreams

	* [r2212] change -> direction for cid, set softkeyset after hint
	  subscription

	* [r2211] clean old session with session_stop = 1

	* [r2210] lock session on destroy and close

2011-01-02  marcelloceschia

	* [r2209] starting with spa protocol

	* [r2208] max bitrate

2010-12-30  marcelloceschia

	* [r2207] einheitlicher name für device capabilities

	* [r2206] einheitlicher name für device capabilities

	* [r2205] fixes restart issue if 7985 is in shared line

	* [r2204] remove commented code sections

2010-12-29  marcelloceschia

	* [r2203] fixes compile issue

	* [r2202] changing video handling

	* [r2201] using VIDEO_MASK to get the correct video codec

	* [r2200] checking session thread id

	* [r2199] using ast_queue_hangup in gpickup and directpickup

	* [r2198] unsubscribe device hints

2010-12-22  marcelloceschia

	* [r2197] 7985

	* [r2196] fixes deadlock in sccp_hint.c on device unregister

	* [r2195] fixes deadlock on channel resume

	* [r2194] fixes deadlock on channel resume

	* [r2193] .gitignore

	* [r2192] remove unused variables and fixes compile warning

	* [r2191] save last registration time and display it with sccp show
	  devices

	* [r2190] use session thread for each session

	* [r2189] change list lock during hint unsubscribe

	* [r2188] change list lock during hint unsubscribe

2010-12-01  progs

	* [r2187] fix sessions:
	  
	  - use a thread for each session (marcello's patch)
	  - destroy sessions in its own thread to prevent deadlock and
	  crash

2010-11-26  progs

	* [r2186] several fixes of locks

2010-11-23  ddegroot

	* [r2185] replace l->channelCount with l->channels.size (not
	  inherently threadsafe, but l->channelCount wasn't either)
	  when LIST(l->channels) is locked for read or write during use of
	  the value of l->channels.size it is threadsafe.

2010-11-22  ddegroot

	* [r2184] Added Preliminary locking documentation

2010-11-22  progs

	* [r2183] remove channel from line during hangup

2010-11-22  ddegroot

	* [r2182] Removed device->channelCount, channels are connected to
	  lines now, not devices anymore.

2010-11-22  progs

	* [r2181] force locking order to line -> line->devices

	* [r2180] sccp_socket: sccp_session_find: lock global sessions list
	  
	  sccp_session_find is called from sccp_session_send which might be
	  called
	  from outside sccp_socket.c where the global sessions list is not
	  be locked

	* [r2179] sccp_cli: sccp_show_sessions: change locking order

	* [r2178] sccp_line: sccp_line_clean: change locking
	  
	  remove line from the global 'lines' list early, remove useless
	  code

	* [r2177] sccp_socket: destroy_session: change locking
	  
	  lock the global 'sessions' list when removing a session, and do
	  it early

	* [r2176] sccp_device: sccp_dev_clean: change locking order
	  
	  remove device from the global devices list early

	* [r2175] remove obsolete doc warnings

	* [r2174] add doxygen doc alias for functions called from Asterisk

	* [r2173] update locking documentation
	  
	  add xref for sccp_hint_eventListener triggered by
	  SCCP_EVENT_DEVICEDETACHED events

	* [r2172] update locking documentation
	  
	  add xref for sccp_hint_eventListener triggered by
	  SCCP_EVENT_DEVICEREGISTERED events

	* [r2171] update locking documentation
	  
	  add xref for sccp_hint_handleFeatureChangeEvent &
	  sccp_util_handleFeatureChangeEvent triggered by
	  SCCP_EVENT_FEATURECHANGED events

	* [r2170] update locking documentation
	  
	  add xref for sccp_mwi_lineStatusChangedEvent triggered by
	  SCCP_EVENT_LINESTATUSCHANGED events
	  add xref for sccp_mwi_check to sccp_mwi_lineStatusChangedEvent

	* [r2169] sccp_line: sccp_line_cfwd: update locking documentation
	  
	  add xref for missing function calls
	  add xref for sccp_mwi_deviceAttachedEvent triggered by
	  SCCP_EVENT_DEVICEATTACHED events

	* [r2168] update locking documentation
	  
	  add xref for sccp_mwi_linecreatedEvent triggered by
	  SCCP_EVENT_LINECREATED events

	* [r2167] update locking documentation
	  
	  add xref on sccp_hint_eventListener triggered by
	  SCCP_EVENT_DEVICEUNREGISTERED events

	* [r2166] use schedeler in sccp_pbx_hangup() to remove
	  sccp_channel_t safety

	* [r2165] remove useless XXX

	* [r2164] use the scheduler to destroy channels

	* [r2163] clean-up channels locks

2010-11-22  marcelloceschia

	* [r2162] fixes configure issue with current asterisk branch

	* [r2161] fixes #3104577 - display dnd on shared lines if all
	  devices are in dnd (reject) only

2010-11-19  ddegroot

	* [r2160] Pickup Patch by Sergio Chersovani, to make compile work
	  with --disable-pickup

	* [r2159] Added INDENT-OFF and INDENT-ON to some sections to
	  preserve correct formatting, which indent would process
	  incorrectly

	* [r2158] updated .indent.pro, and included comments to clarify the
	  parameters set
	  reindented sccp_protocol.h

2010-11-18  ddegroot

	* [r2157] log_show_lock() present starting asterisk v1.6.1

	* [r2156] Added Support for the new SCCP Firmware 9.1 XML Alarm
	  Message (Thanks to Federico / Sergio / Marcello )
	  - added protocol entry for XMLAlarm Message
	  - extened keep alive leeway for 7975 and 7970 phones
	  - handle of XMLAlarmMessage in sccp_handle_message

2010-11-17  ddegroot

	* [r2155] Small fix to dllists for rwlock

	* [r2154] Replaced SCCP_LIST with SCCP_RWLIST for Global Devices
	  and Lines

2010-11-17  progs

	* [r2153] log_show_lock() function exists only for asterisk >=1.6

2010-11-17  ddegroot

	* [r2152] Added rwlock implementation to sccp_dllist

	* [r2151] Reorder the lock.h file for readability

	* [r2150] Fix typo

2010-11-17  progs

	* [r2149] chan_sccp: unload_module: fix locking
	  
	  add locking for lines and line->channels lists
	  
	  Conflicts:
	  
	  src/sccp_device.c

	* [r2148] add missing locking/unlocking on global softKeySetConfig
	  list
	  
	  Conflicts:
	  
	  src/sccp_actions.c
	  src/sccp_cli.c
	  src/sccp_config.c

	* [r2147] sccp_cli: sccp_unregister: fix typo from earlier commit
	  
	  add missing curly brace after
	  963b9e6d4fe57f674b75188061aed1ec8499e9af

	* [r2146] sccp_cli: sccp_unregister: remove redundant code
	  
	  sccp_device_find_byid already checks for realtime devive if its
	  second arg is TRUE

	* [r2145] fix another locking documentation leftover

	* [r2144] fix locking documentation

	* [r2143] update locking documentation

	* [r2142] update locking documentation

	* [r2141] fix conditional iabuf definition

	* [r2140] [cosmetic] move curly brace out of conditional function
	  prototypes

	* [r2139] fix doxygen locking doc typos

	* [r2138] sccp_management: add doxygen locking documentation

	* [r2137] update doxygen locking doc to reflect levels, add
	  warnings for list used without being locked/unlocked

	* [r2136] fix typos in doxygen locking documentation

	* [r2135] add doxygen locking documentation

	* [r2134] sccp_softkeys: use sccp_channel_lock/unlock instead of
	  sccp_mutex_lock/unlock

	* [r2133] sccp_pbx.c: use sccp_line_lock/unlock instead of
	  sccp_mutex_lock/unlock

	* [r2132] sccp_cli: move #ifdef so that we have doxygen doc in all
	  cases

	* [r2131] add doxygen aliases for locking documentation

	* [r2130] re-indentation

2010-11-16  progs

	* [r2129] sccp_actions: sccp_handle_button_template_req: unlock
	  device before returning

2010-11-15  ddegroot

	* [r2128] added \lock and \remainlocked to doxygen.cfg

2010-11-15  progs

	* [r2127] sccp_management: remove partial locking in
	  sccp_manager_restart_device

	* [r2126] remove unneeded lock/unlock

	* [r2125] unlock in reverse locking order

2010-11-15  ddegroot

	* [r2124] Removed ast_do_masquerade from call_forward, ast_hangup
	  will perform the ast_do_masquerade for us.

2010-11-14  ddegroot

	* [r2123] Fix for gc using pthreads

2010-11-12  ddegroot

	* [r2122] Modified Hangup OpenChannels in "module unload chan_sccp"

	* [r2121] Fix for Fast Pickup / Auto-Answer during Call-Forwarded
	  Call. Added a ast_setstate to AST_STATE_UP for bridge and
	  incoming channel

2010-11-12  progs

	* [r2120] sccp_sk_transfer: add missing
	  SCCP_LIST_LOCK(&d->selectedChannels)

	* [r2119] sccp_hint_remoteNotification_thread: unlock non matching
	  channels when walking asterisk channel list

	* [r2118] sccp_feat_grouppickup: fix a corner case when asterisk
	  channel is not unlocked

	* [r2117] sccp_feat_directpickup: fix a corner case when asterisk
	  channel is not unlocked

	* [r2116] sccp_feat_directpickup: lock device d instead of channel
	  c when setting d->active_channel

2010-11-10  progs

	* [r2115] chan_sccp: sccp_func_sccpdevice: add missing break
	  statements (closes: #1555)

	* [r2114] chan_sccp: sccp_devicestate: fix unreachable test
	  condition (closes: #1554)

	* [r2113] chan_sccp: remove orphan sccp_session_unlock calls

	* [r2112] [cleanup] hint: rework
	  sccp_hint_remoteNotification_thread

2010-11-09  progs

	* [r2111] [cleanup] SCCP_LIST_TRAVERSE_SAFE_BEGIN use
	  
	  use SCCP_LIST_TRAVERSE instead of SCCP_LIST_TRAVERSE_SAFE_BEGIN
	  when
	  no SCCP_LIST_*_CURRENT functions are used during traversal

2010-11-08  progs

	* [r2105] add more autotools remains to .gitignore

	* [r2104] add a .gitignore file

	* [r2103] [cleanup] sccp_unregister_dialplan_functions: use vars
	  instead of string constants when unregistering application
	  functions

	* [r2102] [cleanup] sccp_app_calledparty: remove unneeded string
	  copy

	* [r2101] [cosmetic] fix lock typo

2010-11-05  progs

	* [r2099] fix double unlock in acf_channel_real()

	* [r2097] oops

	* [r2096] quickfix deadlock

2010-11-03  ddegroot

	* [r2094] Fixed the "Dialed Phonebook" error message

2010-11-03  progs

	* [r2092] fix register of not configured devices
	  
	  when a device is registering on chan_sccp-b and is not configured
	  in
	  sccp.conf, the hotline is associated to the device, but
	  pendingUpdate was
	  set to 1, so the device was infinitely restarted.

2010-11-02  progs

	* [r2090] fix compilation without realtime

	* [r2088] fix reload of buttonconfigs

2010-10-29  progs

	* [r2084] remove a useless lock of device

	* [r2083] fix buffer overflow

	* [r2082] fix holding on no-bridged channels (for example on meetme
	  conference)

2010-10-28  progs

	* [r2079] remove variables when reloading

	* [r2078] do not remove hotline when reloading

	* [r2074] fix display of status messages

	* [r2073] fix memory leak, avoid useless copy, and useless strlen

2010-10-27  ddegroot

	* [r2072] Added c->answered_elsewhere = TRUE; to sccp_channel.c:
	  channel_answer
	  This seems to fix the problem for forwarded calls. Not sure of
	  the full 100% impact of this addition

	* [r2071] Extended logging to trace down set_rtp_peer bug
	  (#3096294)

2010-10-27  progs

	* [r2069] use usleep() instead of sleep()

	* [r2068] do not lock anymore in fixup

2010-10-27  ddegroot

	* [r2067] Extended Logging on sccp_channel_set_rtp_peer
	  Extended logging in sccp_actions.c helper function
	  fixed cfwdall setting in sccp_line, so sccp_feat_changed get's
	  the correct change

	* [r2066] Removed ERROR_LOG line from sccp_pbx
	  Changed Fixup
	  Change Progress Indication, do set connected during progress.

	* [r2065] Fix Compile problem

2010-10-27  progs

	* [r2062] do not erase useful status messages

	* [r2061] fix lock with asterisk >= 1.6

2010-10-26  progs

	* [r2060] fix deadlock when using masquerade (and add macro
	  SCCP_CHANNEL_DEADLOCK_AVOIDANCE)

2010-10-25  ddegroot

	* [r2058] Update to SVN2CL ChangeLog generator. It now put links to
	  the bug-report system into the ChangeLog when bug has been
	  specified during svn commit using #bugnumber.

2010-10-23  ddegroot

	* [r2043] Revert to 2041. I checked in my asterisk 1.8 fixes into
	  trunk by accident. Sorry

	* [r2042] Initial steps in getting to be asterisk 1.8 compatible
	  - changes to configure / asterisk.m4 to recognize 1.8 and its new
	  features
	  - added wrapper function section to sccp_utils.c, should move to
	  sccp_ast_wrapper.c later on
	  - sccp_inet_ntoa
	  - parse_ast_callerid (or sccp_get_ast_callerid)
	  - sccp_set_ast_callerid
	  - updated sccp_channel.c (compiles now)
	  - updated chan_sccp.h and chan_sccp.c (compiles now)

	* [r2039] Setting version to PreRC4 (This does not mean there will
	  have to be an RC4, we could still go to BETA/Stable from this
	  version)

	* [r2038] Added a Helper Function,
	  sccp_check_session_message_device, to sccp_actions to check
	  Session, Device and Message Structure Availability
	  Added the sccp_check_session_message_device (Helper Function) to
	  all sccp_action handle Function
	  Added a Check to chan_sccp.c handle_message to see if the
	  IP-Address of the device changed mid flight
	  Added a Helper Function to sccp_utils to ease the lookup of
	  ip-address information with different asterisk versions

	* [r2036] Cleanup locks file and display name of the lock variable
	  during debugging

2010-10-22  ddegroot

	* [r2035] Added some stuff to the documentation: SIP/SCCP NAT
	  Traversal, directrtp, Stun Servers etc...

	* [r2032] Fix for x86_64 module directory on some platforms (line
	  OpenSuSE)

	* [r2031] Fix for installation path /usr/lib64/ on some x86_64
	  machines

	* [r2029] Fix to changelog for debian package builder

	* [r2026] Recommit Chan_SCCP-b V3.0 Release Candidate 3

	* [r2025] RPM Target Fix

	* [r2023] Update ChangeLog to RC3

	* [r2022] Issue of Chan_SCCP V3.0 Release Candidate 3

2010-10-21  ddegroot

	* [r2021] Update Doxygen Documentation

2010-10-20  ddegroot

	* [r2020] Fix: Get back "Your current options" after hangup

	* [r2019] Fix: Bring back "Your current options" message in most
	  cases (Bug: #3071857, "Status Message on the bottom line....")

	* [r2018] tiny cleanup

	* [r2017] Added Todo Notice in sccp_hint

	* [r2016] Fix: break removed from sccp_hint_unSubscribeHint

	* [r2015] Fix hint Removal without LIST Lock

	* [r2014] Added displayprompts to dirtrfr, so people know what is
	  going on
	  Added sccp debug threadlocks, to make it easier to find deadlocks
	  Pressing speeddial while in a call, will automatically put the
	  call on hold and execute the speeddial. Will also work correctly
	  with transfer.
	  Removed strange hardcoded cidnum and cidname from
	  sccp_hint.c/notify_message (this function should be checked)
	  Fix for sccp_pbx_get_callid getting the correct PVT

2010-10-19  ddegroot

	* [r2013] Removed suppourflous debug line

	* [r2012] Moved destroy_session, on re-registering devices toward
	  the beginning, and wait until device_stroy for realtime devices
	  has finished
	  Reduced the destroy_session-> device_destroy time from 10 to 5
	  seconds (should be long enough)

	* [r2011] Changed cleanup/destroy behaviour on re-registering
	  devices. Destroy Immediately on re-register

	* [r2010] Fix for devstate-feature
	  Added Check for sccp_socket_close

2010-10-18  ddegroot

	* [r2009] Removed double lock in sccp_socket: destroy_session

2010-10-17  ddegroot

	* [r2008] Memory leak : reverted changes

	* [r2007] Fixed Deadlock in sccp_actions/sccp_handle_AvailableLines

	* [r2006] On device destroy the devstate structure should be
	  deleted as well.

	* [r2005] Fix for sccp_dev_cleanup to prevent loop:sccp_dev_clean
	  => sccp_line_removeDevice => sccp_event_fire =>
	  sccp_hint_eventListener => sccp_hint_lineStatusChanged =>
	  sccp_hint_hintStatusUpdate => sccp_hint_notifySubscribers =>
	  sccp_dev_speed_find_byindex
	  Temporary Fix for unload module to hangup open channels before
	  starting the unload.

2010-10-16  ddegroot

	* [r2004] Added .indent.pro default settings file for the "indent"
	  program

	* [r2003] Fixed possible memory leak: implode usage in sccp_cli.h

	* [r2002] Fixed cli usage message
	  Fixed possible memory leak from sccp_utils.c implode when not
	  correctly freed in sccp_cli.h
	  Fixed "sccp add line" cli command

2010-10-15  ddegroot

	* [r2001] Fixed autoconf/asterisk to detect DEBUG settings in
	  asterisk correctly
	  Added log_show_lock(p_mutex) to sccp_lock.c to make lock
	  debugging easier. Will only display lock information if asterisk
	  has DEBUG_CHANNEL_LOCKS enabled

	* [r2000] prevent sccp_pbx_softswitch from being executed twice
	  (Pavel Troller)

	* [r1999] removed #undef free, make sure to always use either
	  ast_free or sccp_free. Never free.

2010-10-15  progs

	* [r1998] Revert "Removed Global Lock, not necessary just to read
	  if we are currently in a reload"
	  
	  This reverts commit 7da11b7e76b3a6ebcdd580129ff818010e63b0f7.
	  
	  We want to prevent reload during a device update.

	* [r1997] display every forwarded lines on the device prompt, and
	  hide message when there aren't forwarded lines anymore

2010-10-14  ddegroot

	* [r1996] Removed Global Lock, not necessary just to read if we are
	  currently in a reload

	* [r1995] Fix to compile and run against asterisk without
	  DEBUG_MALLOC

	* [r1994] Change fontsize in sccp_hints dotgraph
	  Change to use only asterisk astmm.h to improve memory leak
	  checking

2010-10-13  ddegroot

	* [r1993] Fix Typo

	* [r1992] Fixed PROGRESS / Dial with Music on Hold
	  Removed Missed Call Message when pressing Divert to Voicemail
	  Button on incoming call

2010-10-13  marcelloceschia

	* [r1991] removing debug log

	* [r1990] fixing leak

2010-10-13  ddegroot

	* [r1989] Updated logic in sccp_indicate

	* [r1988] removed extra return, should not be there

	* [r1987] Fix for sccp reload (buttonconfig changes)
	  Early RTP openreceivechannel patch for indicate
	  rename reload_config in chan_sccp.c to load_config.

2010-10-13  marcelloceschia

	* [r1986] correct packSize

2010-10-13  davidded

	* [r1985] restored signalling behaviour, other changes forthcoming

2010-10-12  ddegroot

	* [r1984] Changed ioctrl bytesAvailable to int
	  Changed libgc message to error
	  Removed Lock in sccp_channel

2010-10-12  marcelloceschia

	* [r1983] just using uint32 for masking buttons

	* [r1982] just using uint32 for masking buttons

	* [r1981] just using uint32 for masking buttons

2010-10-11  ddegroot

	* [r1980] Changed a couple of malloc's / free's to ast_malloc and
	  ast_free
	  Updated libgc Make Parameters

	* [r1979] Fix "module unload chan_sccp" when using garbage
	  collector

	* [r1978] Fixed documentation links

2010-10-10  ddegroot

	* [r1977] Fixed DND feature button when using shared lines on
	  phones with protocol <15

2010-10-10  marcelloceschia

	* [r1976] fixes callerid issue when calleridname is empty

2010-10-10  ddegroot

	* [r1975] Option --with-libgc to enable Garbage Collection
	  (Experimental)
	  Doxygen now generated user documentation by default. To Enable
	  Developer Documentation add --enable-devdoc to configure options.

2010-10-10  marcelloceschia

	* [r1974] fixes compile issue with --disable-realtime

	* [r1973] fixes compile issue with --disable-realtime

	* [r1972] fixes compile issue with --disable-realtime

2010-10-09  marcelloceschia

	* [r1971] remove unused code

2010-10-07  marcelloceschia

	* [r1970] use 1915 progress indication

	* [r1969] fixes deadlock in hint

2010-10-06  ddegroot

	* [r1968] Changed pickup static string "*8" to ast_pickup_ext()
	  function
	  Extended the logging on indications to be easier to read
	  Added sccp_log line to sccp_indicate.c to signal the differnce
	  between c->state and c->previousChannelState

	* [r1967] fixed make doxygen-pdf (searcg path change and changed
	  \verbinclude to \include)

2010-10-06  progs

	* [r1966] fix uninitialized variable

	* [r1965] send CALLSTATE_PROCEED (revert commit r1916)

2010-10-06  marcelloceschia

	* [r1964] fixes: #3081549 (Conflict cwdAll-feature/softkey button)

	* [r1963] changeing cfwdall button

	* [r1962] changeing cfwdall button

	* [r1961] fixes: #3081549 (Conflict cwdAll-feature/softkey button)

	* [r1960] fixes: #3081549 (Conflict cwdAll-feature/softkey button)

2010-10-05  marcelloceschia

	* [r1959] shrink softkeysmap

2010-10-05  davidded

	* [r1958] steal a call remotely

	* [r1957] fix in devstate feature

	* [r1956] reinstated the autoanswer function

	* [r1955] auxiliary parameter for subscription id (silent option
	  per linedevice)

2010-10-05  ddegroot

	* [r1954] Fixed --enable-debug

2010-10-05  davidded

	* [r1953] reestablished devstate feature again

2010-10-05  ddegroot

	* [r1952] added --enable-experimental-mode and
	  --enable-devstate-feature to configure.ac

2010-10-05  progs

	* [r1950] Revert "toggle feature devstate functionality"
	  
	  This reverts commit r1944
	  
	  PLEASE FUCKING CHECK IF YOUR COMMITS WORK WITH ASTERISK 1.4.
	  THANKS.

2010-10-05  marcelloceschia

	* [r1949] fixes issue #3071875 (CfwdAll feature button turned off
	  after reset)

	* [r1948] fixes issue #3080116 (CP-7921 - caller/callee ID problem
	  (same as # 3074747) )

2010-10-04  ddegroot

	* [r1947] Reinserted sccp_channel_unlock in sccp_pbx_hangup

	* [r1946] Fixed Compile Warnings

	* [r1945] Remarked implementation of sccp_pbx_transfer temporarily.
	  Needs to be implemented correctly later.

2010-10-03  davidded

	* [r1944] toggle feature devstate functionality

2010-10-03  marcelloceschia

	* [r1943] feature: add pickup button that dials *8
	  configuration: button = feature,Pickup,pickup
	  Attention could be changed in future

2010-10-02  ddegroot

	* [r1942] added RTP_NEW_SOURCE macro

	* [r1941] Removed "Channel not SCCP"-warnings when applied to Other
	  Channel Types in Dialplan Functions

	* [r1940] Factored out CS_AST_HAS_TECH_PVT checks for setting
	  *cause
	  Changed sccp_utils.c get_sccp_channel_from_ast to
	  get_sccp_channel_from_ast_channel

	* [r1939] Replaced CS_AST_CHANNEL_PVT(ast_chan) by
	  get_sccp_channel_from_ast
	  Added SET_CAUSE macro to chan_sccp.c

2010-10-01  marcelloceschia

	* [r1938] fixes asterisk 1.4 compile warning

	* [r1937]

	* [r1936]

	* [r1935] protocol improvement

	* [r1934] fixes: 3074747, protocol improvement

	* [r1933] v17 video protocol

2010-10-01  progs

	* [r1932] changing cfwd* setting need reset of device

2010-10-01  marcelloceschia

	* [r1931] fixes: issue #3070173 (Dynamic Speeddial does not update
	  its status)

	* [r1930] realtime line reload, fixes device reload if label
	  changed

2010-09-30  marcelloceschia

	* [r1929] commenting changes

	* [r1928] testing: realtime line reload

	* [r1927] testing: realtime line relaod

	* [r1926] testing: realtime line relaod

	* [r1925] testing: realtime line relaod

2010-09-29  ddegroot

	* [r1924] Reverted to previous Transfer Methode. Commented out
	  Marcello's Transfer Experiment Code until further notice, as per
	  his request.

2010-09-27  ddegroot

	* [r1923] Added sccp_dnd_device cli function for asterisk >1.4

	* [r1922] Updated configure enable/disable comments (Steven Lam)

2010-09-27  progs

	* [r1920] new command 'dnd' to change the dnd status of a device

2010-09-27  marcelloceschia

	* [r1919] fixes issue reported by Pavel

2010-09-25  ddegroot

	* [r1918] Moved doxygen entries up in configure.ac
	  Added parameter comments for documentation

2010-09-24  marcelloceschia

	* [r1917] sccp_indicate2str for progress

	* [r1916] revert patch 1705, but dont send PROCEED

2010-09-23  marcelloceschia

	* [r1915]

	* [r1914]

	* [r1913] fixes bug reported by Daniel

	* [r1912] fixes bug reported by Daniel

	* [r1911] fixes bug reported by Daniel

	* [r1910] fixes bug reported by Daniel

2010-09-23  ddegroot

	* [r1909] Switched configure --with-??? statements to
	  --enable/--disable statements
	  Added logging output to configure about the status of the
	  enabled/disabled arguments

2010-09-23  marcelloceschia

	* [r1908] fixes invalid registration after network fail; private
	  softkey fix

2010-09-21  marcelloceschia

	* [r1906] fixes: #3071841 (default line for speeddial)

2010-09-20  marcelloceschia

	* [r1905] fixes: #3071854

	* [r1904] fixes: errors with cli functions on x64 systems

	* [r1903] asterisk do not respect the x64 arch, so we have to copy
	  to lib

	* [r1902] fixes mem leak

2010-09-19  ddegroot

	* [r1897] Update configure.ac to make prefix usable

	* [r1896] Fixed cli_registration error on unload/load
	  Removed warning when using default COS/TOS during load

2010-09-18  marcelloceschia

	* [r1895] feature: searching for posible meetme application

	* [r1894] open channel when enter meetme room

	* [r1893] fixes: unlock issue when using meetme

	* [r1891] fixes: softkeyset configuration issue

2010-09-17  marcelloceschia

	* [r1878] ast_free issue

2010-09-16  ddegroot

	* [r1877] Cleanup Code
	  Fix implode in sccp_utils
	  Free command after using implode function in sccp_cli

	* [r1876] cleanup code

	* [r1875] Patched sccp_conference to only compile when asterisk
	  version >= 1.6.2 (BUG Report: 3067479)

	* [r1874] Cleaned up code

	* [r1873] Cleanup sccp_config and sccp_device

2010-09-16  marcelloceschia

	* [r1872] fixes compile issue

2010-09-16  ddegroot

	* [r1871] Fix double entries in sccp_pbx.c switch

	* [r1870] Added CS_AST_CONTROL_SRCCHANGE to asterisk.m4
	  set with-dynamic-callerid / with-dynamic-callerid-cid and
	  with-dynamic-config to default=yes in configure.ac
	  Fixed sccp_pbx.c to use CS_AST_CONTROL_SRCCHANGE

2010-09-16  marcelloceschia

	* [r1869] transferer only for calltype == outbound

	* [r1868] fixes unknown condition 25

2010-09-16  ddegroot

	* [r1867] Cleanup adv_features

	* [r1866] Fix transfer for 2 lines (including old behaviour)
	  Cleanup sccp_channel
	  Removed old code from adv_features

2010-09-16  marcelloceschia

	* [r1865] fixes: end call after disable cfwd

2010-09-15  ddegroot

	* [r1862] Fixed Spelling Errors

2010-09-15  marcelloceschia

	* [r1861] fixes: transfer issue

	* [r1860] fixes: cid after transfer

	* [r1859] fixes: CS_AST_CHANNEL_PVT_CMP_TYPE issue

	* [r1858] fixes transfer speeddial issue

2010-09-10  progs

	* [r1856] fix crash on "sccp debug"

2010-09-10  ddegroot

	* [r1855] Cleaned up sccp_actions.c
	  Added todo comment to sccp_cli

2010-09-10  progs

	* [r1854] fix crash when "sccp reset" isn't used with the extra
	  "restart" argument

2010-09-10  ddegroot

	* [r1853] Fix integer cast

	* [r1852] Fix string to integer cast

	* [r1851] Added SCCPCHANNEL dialplan function
	  Fixed missing ast_free_ptr via sccp_free_ptr in asterisk 1.4.22.2
	  (John Peterman: "Asterisk won't start 1818 and above")

	* [r1850] replaced sccp_log with ast_log in dialplan functions

	* [r1849] Fixed issue with dialplan function with foreign channel
	  types

2010-09-09  ddegroot

	* [r1848] Cleaned up a couple of the implementation within
	  SCCPDEVICE and SCCPLINE dialplan functions

2010-09-09  marcelloceschia

	* [r1847] change regexten/regcontext into default feature

	* [r1846] change regexten/regcontext into default feature

	* [r1845] change regexten/regcontext into default feature

	* [r1844] revert some changes

	* [r1843] fixes: compile issue

2010-09-09  ddegroot

	* [r1842] Updated/Refreshed management functions
	  Added List Lines to management functions

	* [r1841] Added reference to documentation for Dialplan Functions

	* [r1840] Extend SCCPLINE dialplan function
	  Fixed Line Lock in sccp_cli.c
	  Updated Dialplan Functions Documentation

	* [r1839] Added SCCPDEVICE and SCCPLINE dialplan functions to
	  chan_sccp.c

2010-09-08  marcelloceschia

	* [r1838] fixes: ast_poll for asterisk 1.4.22

2010-09-07  progs

	* [r1837] fix warnings

2010-09-07  ddegroot

	* [r1836] Added CLI Command Completion back in for Asterisk 1.4

	* [r1835] Asterisk 1.4 fix for CLI

	* [r1834] Simplified cli programming via MACRO to combat asterisk
	  version differences
	  Fixed sccp debug category printing
	  Fixed sccp show line tab-completion
	  Added new sccp_utils function implode/explode (also know as split
	  and join)

2010-09-07  marcelloceschia

	* [r1833]

	* [r1832] fixes: unsupported formate request by asterisk

2010-09-04  marcelloceschia

	* [r1831] playing with protocol version 11

	* [r1830] fixes configure options

2010-09-02  marcelloceschia

	* [r1829] fixes: nested extern declaration

2010-09-02  ddegroot

	* [r1828] Simplified sccp_channel_forward

	* [r1827] sccp_channel.c replaced ast_set_callerid

	* [r1826] Update sccp_channel_forward for callerid information

2010-09-02  marcelloceschia

	* [r1825] restore cfwd status

2010-09-02  ddegroot

	* [r1824] CallForward Display Original Caller Id + Forward Status

	* [r1823] Fix sccp_socket_thread per device communication on socket
	  error

	* [r1822] Change Softkeys NewCall to support 7936 (Raoul Schroeder:
	  09/02/2010 01:32:11 PM)

	* [r1821] Removed maxfd

	* [r1820] sccp_socket code cleanup

	* [r1819] Cleaned up sccp_socket.c and added some debug lines
	  (DEBUGCAT_SOCKET)

2010-09-02  marcelloceschia

	* [r1818] test impl for poll

2010-09-02  ddegroot

	* [r1817] Added --with-streaming-video option to configure
	  (experimental... don't use, yet !)
	  Added astobj2.h asterisk header check

2010-09-01  marcelloceschia

	* [r1816] fixes compile issue

	* [r1815] fixes issue with 7936 and all devices that does not
	  support RegisterAvailableLinesMessage
	  
	  
	  M sccp_actions.h
	  M sccp_actions.c
	  M sccp_softkeys.c
	  M sccp_device.c

2010-08-31  marcelloceschia

	* [r1814] fixes warning: unused variable ‘confCapabilities’
	  fixes warning: control reaches end of non-void function
	  Diese und die folgenden Zeilen werden ignoriert --
	  
	  M sccp_conference.c

	* [r1813] fixes: warning: AST_CAUSE_ANSWERED_ELSEWHERE redefined

	* [r1812] fixes: Invalid number of character ({) when these macros
	  are defined: '__cplusplus'

	* [r1811] fixes issue: Returning pointer to local array variable

	* [r1810] fixes callInfoMessage with protocolversion = 12

2010-08-30  marcelloceschia

	* [r1809] check for len > 0 and rename sccp_rtp_read ->
	  sccp_rtp_write

2010-08-29  ddegroot

	* [r1807] Pre Update RC2

2010-08-28  ddegroot

	* [r1806] Compile warning against asterisk 1.4

2010-08-28  marcelloceschia

	* [r1805] remove "Device does not have line configured" during
	  registration

2010-08-27  marcelloceschia

	* [r1804] impr. for lineInstsce

2010-08-26  ddegroot

	* [r1803] Debian Package File Update

	* [r1802] Update Debian Package Files

2010-08-26  progs

	* [r1801] correctly play moh even if CONTROL_HOLD is defined

2010-08-26  ddegroot

	* [r1800] Update doxygen settings

	* [r1799] * Release Candidate 2
	  *
	  * Added Functionionality:
	  * - sccp reload
	  * - dynamic speeddial with and without callerid
	  *
	  * Fixed/Improved:
	  * - bugs reported by users
	  * - transfer + callerid
	  * - callerid passing
	  *

	* [r1797] Issuing: chan-sccp-b V3.0 RC2

2010-08-24  progs

	* [r1796] fix race condition

	* [r1795] fix double mutex unlock

	* [r1794] fix crash: do not keep pointer to free'd button template

2010-08-24  ddegroot

	* [r1793] Update Transfer

2010-08-23  marcelloceschia

	* [r1792]

	* [r1791]

2010-08-23  ddegroot

	* [r1790] Fix for blind transfer between SCCP and other Asterisk
	  Channel Types

2010-08-23  progs

	* [r1789] fix transfer crash

2010-08-23  marcelloceschia

	* [r1788] fixes mwi issue

2010-08-22  ddegroot

	* [r1787] Updated realtime documentation (Thanks Thomas McConnell)

2010-08-20  marcelloceschia

	* [r1756] remove ast_str_thread_global_buf, was only for debug

2010-08-19  progs

	* [r1755] not necessary message on reload

2010-08-19  ddegroot

	* [r1754] AST_THREADSTORAGE_EXTERNAL supported starting with
	  asterisk 1.6.2

2010-08-19  progs

	* [r1753] factorization of code to reset a device after a config
	  reload -> sccp_device_check_update()

	* [r1752] use static value in sccp_pbx_get_callid() (based on patch
	  from Raoul Schroeder)

	* [r1751] fix compilation with asterisk1.4

	* [r1750] fix memory leak and crash

2010-08-19  marcelloceschia

	* [r1749] changes rtp handling

2010-08-19  ddegroot

	* [r1748] added check for old sccp.conf v2 format to warn users

2010-08-18  progs

	* [r1747] fix reload of a device during a conversation

	* [r1746] fix memory leak

	* [r1745] fix fucking crash

	* [r1744] fix memory leak

2010-08-18  marcelloceschia

	* [r1743]

	* [r1742]
	  =======================================================================
	  === Currently Held Locks
	  ==============================================
	  =======================================================================
	  ===
	  === <pending> <lock#> (<file>): <lock type> <line num> <function>
	  <lock
	  name> <lock addr> (times locked)
	  ===
	  === Thread ID: -1221596272 (tps_processing_function started at [
	  451]
	  taskprocessor.c ast_taskprocessor_get())
	  === ---> Lock #0 (event.c): RDLOCK 1171 handle_event
	  &(&ast_event_subs[event_types[i]])->lock 0x827e598 (1)
	  /usr/sbin/asterisk(ast_bt_get_addresses+0x1a) [0x814efca]
	  /usr/sbin/asterisk [0x810e923]
	  /usr/sbin/asterisk [0x81d3602]
	  /usr/sbin/asterisk [0x81ec6a9]
	  /lib/i686/cmov/libpthread.so.0 [0xb73954c0]
	  /lib/i686/cmov/libc.so.6(clone+0x5e) [0xb75c584e]
	  === ---> Lock #1 (sccp_mwi.c): MUTEX 120 sccp_mwi_event
	  &(&subscription->sccp_mailboxLine)->lock 0x8781d70 (1)
	  /usr/sbin/asterisk(ast_bt_get_addresses+0x1a) [0x814efca]
	  /usr/lib/asterisk/modules/chan_sccp.so [0xb60de146]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_mwi_event+0xe8)
	  [0xb60df8a4]
	  /usr/sbin/asterisk [0x810e78f]
	  /usr/sbin/asterisk [0x81d3602]
	  /usr/sbin/asterisk [0x81ec6a9]
	  /lib/i686/cmov/libpthread.so.0 [0xb73954c0]
	  /lib/i686/cmov/libc.so.6(clone+0x5e) [0xb75c584e]
	  === ---> Lock #2 (sccp_mwi.c): MUTEX 125 sccp_mwi_event
	  &line->lock
	  0x86157d8 (1)
	  /usr/sbin/asterisk(ast_bt_get_addresses+0x1a) [0x814efca]
	  /usr/lib/asterisk/modules/chan_sccp.so [0xb60de146]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_mwi_event+0x133)
	  [0xb60df8ef]
	  /usr/sbin/asterisk [0x810e78f]
	  /usr/sbin/asterisk [0x81d3602]
	  /usr/sbin/asterisk [0x81ec6a9]
	  /lib/i686/cmov/libpthread.so.0 [0xb73954c0]
	  /lib/i686/cmov/libc.so.6(clone+0x5e) [0xb75c584e]
	  === ---> Lock #3 (sccp_mwi.c): MUTEX 411
	  sccp_mwi_setMWILineStatus
	  &d->lock 0x87676a8 (1)
	  /usr/sbin/asterisk(ast_bt_get_addresses+0x1a) [0x814efca]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_mwi_setMWILineStatus+0xee)
	  [0xb60dec48]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_mwi_event+0x1c2)
	  [0xb60df97e]
	  /usr/sbin/asterisk [0x810e78f]
	  /usr/sbin/asterisk [0x81d3602]
	  /usr/sbin/asterisk [0x81ec6a9]
	  /lib/i686/cmov/libpthread.so.0 [0xb73954c0]
	  /lib/i686/cmov/libc.so.6(clone+0x5e) [0xb75c584e]
	  === ---> Waiting for Lock #4 (sccp_mwi.c): MUTEX 518
	  sccp_mwi_check
	  &(&device->buttonconfig)->lock 0x8767e68 (1)
	  /usr/sbin/asterisk(ast_bt_get_addresses+0x1a) [0x814efca]
	  /usr/lib/asterisk/modules/chan_sccp.so [0xb60de146]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_mwi_check+0x48)
	  [0xb60de6fe]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_mwi_setMWILineStatus+0x368)
	  [0xb60deec2]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_mwi_event+0x1c2)
	  [0xb60df97e]
	  /usr/sbin/asterisk [0x810e78f]
	  /usr/sbin/asterisk [0x81d3602]
	  /usr/sbin/asterisk [0x81ec6a9]
	  /lib/i686/cmov/libpthread.so.0 [0xb73954c0]
	  /lib/i686/cmov/libc.so.6(clone+0x5e) [0xb75c584e]
	  === --- ---> Locked Here: sccp_actions.c line 313
	  (sccp_handle_AvailableLines)
	  ===
	  -------------------------------------------------------------------
	  ===
	  === Thread ID: -1380791408 (sccp_socket_thread started at [ 736]
	  chan_sccp.c reload_config())
	  === ---> Lock #0 (sccp_socket.c): MUTEX 371 sccp_socket_thread
	  &(&sccp_globals->sessions)->lock 0xad525e74 (1)
	  /usr/sbin/asterisk(ast_bt_get_addresses+0x1a) [0x814efca]
	  /usr/lib/asterisk/modules/chan_sccp.so [0xb60cf545]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_socket_thread+0x19f)
	  [0xb60d0592]
	  /usr/sbin/asterisk [0x81ec6a9]
	  /lib/i686/cmov/libpthread.so.0 [0xb73954c0]
	  /lib/i686/cmov/libc.so.6(clone+0x5e) [0xb75c584e]
	  === ---> Lock #1 (sccp_actions.c): MUTEX 313
	  sccp_handle_AvailableLines
	  &(&d->buttonconfig)->lock 0x8767e68 (1)
	  /usr/sbin/asterisk(ast_bt_get_addresses+0x1a) [0x814efca]
	  /usr/lib/asterisk/modules/chan_sccp.so [0xb60c080b]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_handle_AvailableLines+0x1b2)
	  [0xb60c4ec8]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_handle_register+0x868)
	  [0xb60c596a]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_handle_message+0x3c7)
	  [0xb60a8587]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_socket_thread+0x711)
	  [0xb60d0b04]
	  /usr/sbin/asterisk [0x81ec6a9]
	  /lib/i686/cmov/libpthread.so.0 [0xb73954c0]
	  /lib/i686/cmov/libc.so.6(clone+0x5e) [0xb75c584e]
	  === ---> Waiting for Lock #2 (event.c): WRLOCK 716
	  ast_event_sub_activate &(&ast_event_subs[sub->type])->lock
	  0x827e598 (1)
	  /usr/sbin/asterisk(ast_bt_get_addresses+0x1a) [0x814efca]
	  /usr/sbin/asterisk(ast_event_sub_activate+0x480) [0x8110280]
	  /usr/sbin/asterisk(ast_event_subscribe+0xf9) [0x81105a9]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_mwi_addMailboxSubscription+0x303)
	  [0xb60df5b5]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_mwi_linecreatedEvent+0xa9)
	  [0xb60df799]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_event_fire+0xc1)
	  [0xb60dd635]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_line_addToGlobals+0x1ee)
	  [0xb60cf191]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_line_find_realtime_byname+0xf9)
	  [0xb60bdea7]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_line_find_byname_wo+0xed)
	  [0xb60be039]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_handle_AvailableLines+0x235)
	  [0xb60c4f4b]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_handle_register+0x868)
	  [0xb60c596a]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_handle_message+0x3c7)
	  [0xb60a8587]
	  /usr/lib/asterisk/modules/chan_sccp.so(sccp_socket_thread+0x711)
	  [0xb60d0b04]
	  /usr/sbin/asterisk [0x81ec6a9]
	  /lib/i686/cmov/libpthread.so.0 [0xb73954c0]
	  /lib/i686/cmov/libc.so.6(clone+0x5e) [0xb75c584e]
	  ===
	  -------------------------------------------------------------------
	  ===
	  =======================================================================
	  asterisk*CLI>

	* [r1741]
	  =======================================================================

	* [r1740] fixes deadlock after core module load, reported by robert

	* [r1739] fixes null frame in sccp_pbx_read, reported by robert

2010-08-17  marcelloceschia

	* [r1738] changing callerid for cSourceRemote after blind transfer

2010-08-17  progs

	* [r1737] fix compilation on asterisk 1.4

2010-08-16  ddegroot

	* [r1736] Fixed a couple of compile errors/warnings

2010-08-14  marcelloceschia

	* [r1735] do some fixes for callInfo after transfer

	* [r1734] removed adv features for normal functions

2010-08-14  ddegroot

	* [r1733] Update doxygen docs

	* [r1732] Added some more callgraph / callergraph doxygen entries

	* [r1731] Added some \callgraph and \callergraph entries for
	  doxygen

2010-08-13  ddegroot

	* [r1730] fixed sccp_pbx_get_callid

2010-08-13  marcelloceschia

	* [r1729] fixes compile issue

	* [r1728] fixes compile issue

	* [r1727] do some changes for callinfo

	* [r1726] do some changes for callinfo

2010-08-12  ddegroot

	* [r1725] Getting rid of compile warnings for ast_frame without a
	  correct initializer

	* [r1724] Extended ast_channel_tech with new callback functions
	  found in 1.6.x
	  Partially implemented call transfer via dialplan "transfer"
	  function. Needs to be extended and checked
	  Fixed a doxygen parameter entry in sccp_config.c

2010-08-06  ddegroot

	* [r1723] Fixed Substitution failuer in asterisk.m4
	  Fixed Pthread detection on BSD Platform
	  Fixed Compiling against Pthread library on BSD Platform
	  Fixed make install errornous "s" instead of "$"

	* [r1722] Update Makefile.am

	* [r1721] Fix Makefile.am for other shell types

2010-08-05  ddegroot

	* [r1720] Update to automake/autoconf 1.11+
	  rename sccp_line_free to sccp_line_destroy

	* [r1719] Changed to configure.ac to provide better support for
	  compilation under (Free)BSD

2010-08-04  marcelloceschia

	* [r1718] fixes reatime compile issue reportet by daniel.hojka

2010-08-04  ddegroot

	* [r1717] Adapted config and channel to funcation namechange
	  (sccp_device-free -> sccp_device_destroy)

2010-07-30  marcelloceschia

	* [r1716] rename _free into _destroy

	* [r1715] reset some states on clenup

2010-07-28  ddegroot

	* [r1714] Fix difference in addons / permit hosts during sccp
	  reload

	* [r1713] Fix for sccp reload when in the middle of a call

2010-07-28  progs

	* [r1712] fix compilation with asterisk 1.4

2010-07-27  ddegroot

	* [r1711] Moved unregister_exten call to only one location in
	  sccp_line.c:sccp_line_removeDevice

2010-07-27  marcelloceschia

	* [r1710] my fault

2010-07-27  ddegroot

	* [r1709] replaced if(linedevice->device == device) with
	  sccp_util_getDeviceConfiguration

	* [r1708] Added regcontext and regexten to sccp.conf
	  Added register/unregister regexten to regcontext implementation
	  when lines are connected and disconnected to/from a device for
	  Cluster/DUNDi purpose
	  Updated documentation about Clustering and DUNDi

2010-07-27  marcelloceschia

	* [r1707] fixes Invalid SCCP message! with protocol version > 11

2010-07-27  progs

	* [r1706] fixes compilation and some warnings

	* [r1705] remove the comments which became obsolete by r1704

2010-07-27  marcelloceschia

	* [r1704] solve empty body issue

	* [r1703]

	* [r1702] remove warings

	* [r1701] use cid for dynamic speeddial only for devices 7970-7985
	  where button position <= 8

2010-07-26  ddegroot

	* [r1700] Removed the #ifdef CS_DYNAMIC_CONFIG around session
	  removal for re-registring devices

	* [r1699] configure support for asterisk 1.8.0 beta...
	  We are not able to compile against 1.8.0 right now though !!!

	* [r1698] Fix for device registration after hard reset

2010-07-26  progs

	* [r1697] fix crash (and fix indentation)

2010-07-26  ddegroot

	* [r1695] Allow Sending Digits during SCCP_CHANNELSTATE_PROGRESS
	  (Solution by Pavel Troller)
	  Re: [Chan-sccp-b-discussion] Receiving PROGRESS disables further
	  dialling
	  07/26/2010 08:14:27 AM

2010-07-25  ddegroot

	* [r1694] Changed handling of SCCP_CHANNELSTATE_PROGRESS

2010-07-25  marcelloceschia

	* [r1693] fixes mwi light issue

	* [r1692] sccp_dev_check_displayprompt

	* [r1691] checking for mwi light status

	* [r1690] checking for mwi light status

	* [r1689] use bit filed for mwi light

2010-07-25  ddegroot

	* [r1688] Added implementation for SCCP_CHANNELSTATE_PROGRESS

2010-07-24  ddegroot

	* [r1687] Remarked sccp_conference_t structure copy out in
	  sccp_clone_device

	* [r1686] Search and remarked unused variables and null pointer
	  dereferences

	* [r1685] Corrected a some of the variable types used for
	  "instance"

2010-07-23  progs

	* [r1684] fix deadlock

	* [r1683] a lot of bugfixes in the reload feature
	  
	  It should now correctly works with the hotline, it checks if a
	  line has
	  been changed and restarts attached devices.
	  And, of course, a lot of fixes.

2010-07-22  marcelloceschia

	* [r1682] some testing with protocol version 11

	* [r1681] some debug output

2010-07-21  ddegroot

	* [r1680] Added message when CfwdAll has been set
	  Added "\todo" to comment lines with the word "TODO" in it

2010-07-21  progs

	* [r1679] correctly decrease the counter

	* [r1678] remove the reference to the cleaned device in session

	* [r1677] fix SCCP_LIST_REMOVE when the entry is not in the list

2010-07-21  marcelloceschia

	* [r1676] fixes compile issue pendingUpdate

2010-07-21  progs

	* [r1675] Revert "Ran a code style check over all sources. Actual
	  functionality is not impacted."
	  
	  This reverts commit 6a106b879051a3765964f8abc6cf8027e0cf8678.

2010-07-21  ddegroot

	* [r1674] Ran a code style check over all sources. Actual
	  functionality is not impacted.

2010-07-21  progs

	* [r1673] the morning commit to fix the night craps

2010-07-21  ddegroot

	* [r1672] Fixed a couple of spaces to tabs
	  Changed the help string in configure.ac for --with parameters

2010-07-21  marcelloceschia

	* [r1671] rtp_engine for configure

	* [r1670] rtp_engine for configure

	* [r1669] rtp_engine

2010-07-20  ddegroot

	* [r1668] Fixed debug match any DebugCategory Bitwise Operator
	  Expression

	* [r1667] changed debug parameter to match any DEBUGCATegories
	  given on an sccp_log line
	  fixed missing # in sccp_device.c

	* [r1666] Updated doxygen documentation in sccp_device.c and
	  sccp_line.c

	* [r1665] Fixed pendingUpdate being set by addButton on normal load
	  Reenabled code in sccp_channel_endcall
	  Changed analysis for selectedChannel change in
	  sccp_device_changed
	  Fixed analysis for mailboxes change in sccp_line_changed

	* [r1664] Added "experimental / don't use" to configure option
	  --with-dynamic-config

	* [r1663] Temporarily removed channel_endcall CS_DYNAMIC_CONFIG
	  Parts

2010-07-20  progs

	* [r1662] oops, remove debug messages

	* [r1661] fix mutex issues

2010-07-20  ddegroot

	* [r1660] Added check for pendingUpdate / pendingDelete to
	  sccp_channel_endcall (sccp reload related)

	* [r1659] Moved the hint update doxygen description in to a
	  seperate section
	  updated the preprocessor settings in doxygen.cfg

2010-07-20  progs

	* [r1658] fix check and free buttoconfigs

2010-07-20  ddegroot

	* [r1657] Changed Data/Version in all headers
	  Added checked if active lines to sccp_device_post_reload
	  Updated sccp reload documentation in sccp_config

	* [r1656] Added sccp reload documentation to sccp_config
	  Readded sccp_device_free to buildDevice

2010-07-20  progs

	* [r1655] oops compilation

	* [r1654] fix two-lock on device mutex, free the device when
	  pendingDelete

2010-07-20  ddegroot

	* [r1653] Fix for the misdetection of Asterisk 1.6.1.20 as version
	  1.2.x by configure reported by Pavel Troller @ 07/20/2010
	  09:43:37 AM
	  [Chan-sccp-b-discussion] Asterisk 1.6.1.20 misdetected as 1.2.x
	  by configure

2010-07-20  progs

	* [r1652] prevent race condition

2010-07-20  ddegroot

	* [r1651] changed a couple of the DEBUGCAT_??? assignments for sccp
	  reload related code

	* [r1650] This commit is "sccp reload" related
	  Added sccp_line_clone
	  Added sccp_line_changed
	  Added sccp_line_clean
	  Modified sccp_line_delete_wo_lock to use sccp_line_clean(l,TRUE);
	  Added global variable reload_in_progress
	  Modified sccp_cli to use reload_in_progress
	  Removed Glob(lock) during the reload process
	  Fixed sccp_device_changed
	  Fixed sccp_config_applyLineConfiguration to not include mailbox
	  entries twice

2010-07-19  ddegroot

	* [r1649] Added a global variable reload_in_progress
	  Added check for reload_in_progress to sccp_cli.c
	  Added sccp_line_clone function to sccp_line.c / sccp_line.h

2010-07-19  progs

	* [r1648] remove the device from list only if it is in

	* [r1647] fix the copy device entry

	* [r1646] right, lock doesn't work, will fix it tomorrow

	* [r1645] remove useless checks in sccp_config_addButton()

	* [r1644] fix sccp_device_changed()

	* [r1643] lock mutex while reloading

	* [r1642] fix comparison of lists

2010-07-19  ddegroot

	* [r1641] Fixed typo in line 33. entrs should be entry

2010-07-19  progs

	* [r1640] remove sccp_lists.h which is unused and pretty CRAP.

2010-07-19  ddegroot

	* [r1639] Added checks for difference in number of SCCP_LIST_
	  entries in sccp_device_changed

	* [r1638] Using ASTDB_RESULT_LEN and ASTDB_FAMILY_KEY_LEN in
	  sccp_config.c

	* [r1637] Fixed segementation fault on sccp reload, when executing
	  sccp_config_restoreDeviceFeatureStatus

	* [r1636] reversed the order of the switch statement from most
	  important to least

	* [r1635] Added some logging to sccp_device_changed
	  Added some logging to sccp_softkeys_changed (Check Transfer bug
	  reported)
	  Added break statement to switch in sccp_config

2010-07-19  progs

	* [r1634] copy the right values

	* [r1633] fix crash: use strdup instead of sccp_copy_string() to
	  NULL

	* [r1632] use tabs instead spaces to indent, removed trailing
	  spaces

2010-07-18  ddegroot

	* [r1631] Revert to previous ast_frame declarations.

	* [r1630] Update asterisk.m4 when compiling against SVN-Branch

2010-07-18  marcelloceschia

	* [r1629] fixes issue: WARNING[18444]: rtp.c:4480 ast_rtp_bridge:
	  Can't find native functions for channel 'SCCP/XXX'

2010-07-18  ddegroot

	* [r1628] Fixed missing sccp_channelState2AstDeviceState because of
	  wrong ASTERISK_VERSION_NUM assignment

	* [r1627] Updated asterisk version and SVN revision detection
	  Replaced all occurences of ASTERISK_CONF_?_? with
	  ASTERISK_VERSION_NUM checks. This is a more flexibel method and
	  should last into future version of asterisk

	* [r1626] Added check for rtp_engine.h to configure script

	* [r1625] replaced occurences of "struct ast_frame f = {
	  AST_FRAME_CONTROL, };" with "struct ast_frame f; f.frametype =
	  AST_FRAME_CONTROL;" to prevent compiler warnings about missing
	  initializers
	  used the sccp_device_changed function in sccp_config to track
	  changes in devices after reloading

2010-07-18  marcelloceschia

	* [r1624] define SCCP_MWI_CHECK_INTERVAL

	* [r1623] fixes mwi light issue on ringin

2010-07-18  ddegroot

	* [r1622] Fixed sccp_actions : sccp_handle_stimulus when switching
	  between calls on multple linebutton lines

2010-07-17  ddegroot

	* [r1621] Extended sccp_device_clone further

	* [r1620] Fixed a couple of compiler warnings because of
	  misalligned int <-> unint??_t declararions.

	* [r1619] Moved Message / lastDialedNumber loading from database to
	  sccp_config: sccp_config_restoreDeviceFeatureStatus
	  Added cfwd loading from database to sccp_config:
	  sccp_config_restoreDeviceFeatureStatus
	  changed calloc to malloc in sccp_device : sccp_device_clone

2010-07-16  ddegroot

	* [r1618] sccp_device_clone reconsiderations

	* [r1617] Updated sccp_device_clone function

	* [r1616] removed a supporflous call to
	  sccp_dev_check_displayprompt

	* [r1615] Added sccp_log messages when sccp_dev_check_displayprompt
	  is called

	* [r1614] Proof of concept "sccp_dev_check_displayprompt" to
	  display CFWD/DND/Private Status per line Taken out. To many
	  resources with larger number of phones

2010-07-16  progs

	* [r1613] fix segfault

2010-07-16  ddegroot

	* [r1612] Remarked ast_ha code in sccp_device: sccp_dev_copy

	* [r1611] Updated function sccp_dev_diff
	  Added function sccp_buttonconfig_diff

2010-07-16  progs

	* [r1610] copy ha and variables

2010-07-16  ddegroot

	* [r1609] Created new functions
	  sccp_dev_copy: create a new device instance and copy all values
	  from another
	  sccp_dev_diff: return a boolean after checking if two devices are
	  differnt.
	  
	  The new function are not ready yet. They are in skeleton fase

	* [r1608] Re-inserted the ";". Marcello will sort them out tonight

2010-07-16  progs

	* [r1607] several fixes

	* [r1606] cleanup

	* [r1605] fix signs issues

	* [r1604] fix compilation without CS_ADV_FEATURES

2010-07-16  ddegroot

	* [r1603] Fix for the HOST_CC problem (chan-sccp-b-Bugs-3030295)

	* [r1602] Fixed memory leak in device structure copy

2010-07-15  ddegroot

	* [r1601] Changed sccp_config_applyDeviceConfiguration to check
	  differences afterwards
	  Main problem in this case was the templated sccp.conf values been
	  parsed before the actual values

	* [r1600] Added logging to sccp_config.c to keep track of sccp.conf
	  parsed parameters

	* [r1599] Fixed type

	* [r1598] Removed ";" from strange line "if(linedevice->device ==
	  device);"
	  Added logging to sccp_config.c
	  Removed some suppurflous checks while load tos/cos values

2010-07-15  progs

	* [r1597] fixes

	* [r1596] fix checks to determine if a device has to be updated or
	  no

2010-07-15  ddegroot

	* [r1595] Added some logging to sccp_config.c:addButton

2010-07-15  progs

	* [r1594] function addButton

	* [r1593] sccp_featureStr2featureID is constant

2010-07-15  ddegroot

	* [r1592] Proof of concept for "sccp_dev_check_displayprompt" to
	  indicate line status (DND/Cfwd/Private)

2010-07-15  progs

	* [r1591] fix compilation

2010-07-15  ddegroot

	* [r1590] Reverted back to old addLine, addSpeedDial, addEmpty, etc
	  functions

2010-07-15  marcelloceschia

	* [r1589] add LineStatDynamicMessage builder

2010-07-15  ddegroot

	* [r1588] Updated documentation
	  Updated some protocol definitions
	  added originalCalledPartyName to sccp_channel_send_callinfo (To
	  get CallerID to work on Forwarded Numbers)

2010-07-14  ddegroot

	* [r1587] Fix original loading index

	* [r1586] Added "sccp reload" buttonconfig check if already exists

	* [r1585] Fix sccp reload code (segfault)

	* [r1584] Added first pendingUpdate lines

	* [r1583] Added Logging to CLI reload command (sccp debug newcode
	  used for sccp reload command logging)
	  Modified sccp.conf parse for debug,port and bindaddr to only be
	  loaded on initial module start

	* [r1582] New CLI Function "sccp show line <linenumber>
	  Updated layout for sccp show device and sccp show channels
	  
	  Added extra Logging to sccp_pbx_softswitch
	  Added meetme and meetmeoptions to sccp_line, sccp_device and
	  sccp_global_vars
	  Added callforwardstate Lookup to sccp_protocol.h
	  Added callforward2str to sccp_utils.?
	  Added callforward2longstr to sccp_utils.?
	  Added sccp_complete_line to sccp_config.c
	  Added sccp_show_line to sccp_config.c

2010-07-13  marcelloceschia

	* [r1581] removed unused code

2010-07-12  marcelloceschia

	* [r1580] subscribe feature changes in hint module

	* [r1579] doing dnd issue

	* [r1578] doing dnd issue

2010-07-12  ddegroot

	* [r1577] Updated Meetme Implementation
	  Added two new parameters to config
	  - meetme (on/off)
	  - meetmeopts (options to send to meetme application)
	  meetmenum is to be removed in the near future

	* [r1576] Fixed --with-dynamic-speeddials-cid
	  Update documentation
	  Fixed sccp-device useRedialMenu

2010-07-12  progs

	* [r1575] fix compilation (typo)

2010-07-11  marcelloceschia

	* [r1574]

	* [r1573] enable redial softkey if useRedialMenu = ON

	* [r1572] fixes compile issue

	* [r1571] fixes compile issue

2010-07-10  marcelloceschia

	* [r1570] if we build with --with-advanced-functions, we can use a
	  new device configuration option: useRedialMenu = on, to use
	  placed calls menu instead of the normal redial

	* [r1569] if we build with --with-advanced-functions, we can use a
	  new device configuration option: useRedialMenu = on, to use
	  placed calls menu instead of the normal redial

2010-07-09  marcelloceschia

	* [r1568] add configure option --with-dynamic-speeddial-cid to
	  enable callinf for dynamic speeddials

2010-07-09  ddegroot

	* [r1567] Updated update_mysql_v? script (as per maillist message :
	  201007070917.24727)

	* [r1566] Added 'NAT' Column to the mysql/postgresql samples. (as
	  per message: 201007070917.24727)

2010-07-09  marcelloceschia

	* [r1565] check mwioncall befor disable mwi light on call

2010-07-04  marcelloceschia

	* [r1564] do not save button template

2010-07-02  progs

	* [r1563] restart updated devices, and delete removed devices

	* [r1562] correctly load the global config

	* [r1561] fix compilation

2010-07-01  progs

	* [r1560] [wip] reload feature

2010-07-01  ddegroot

	* [r1559] added "monitor" feature

	* [r1558] Fixed a couple of comments

	* [r1557] Fixed spelling mistake in then Setup Guide
	  Added documentation header for SCCP ButtonType

	* [r1556] Fixed documentation missing paramater declarations
	  Added scafolding for cli : "sccp reload" function

2010-06-30  ddegroot

	* [r1555] Added SCCP RELOAD Plan

2010-06-29  ddegroot

	* [r1554] Changed debian deb package Make command to non-signed

	* [r1553] Added debian package generation (make deb)
	  Added Romain Bignon to the AUTHORS file
	  Updated ChangeLogs

2010-06-28  progs

	* [r1552] fix little memory leak

2010-06-25  ddegroot

	* [r1551] Fix Makefile.am "make rpm" for Release Candidate 1

	* [r1550] Changed .version to V3.0_PreRC2

	* [r1547] V3.0 Release Candidate 1

	* [r1545] Release Candidate RC1

2010-06-25  marcelloceschia

	* [r1543] fixes: 3021117

2010-06-24  marcelloceschia

	* [r1542]

	* [r1541] buttonTemplate

	* [r1540] fixes seg fault

	* [r1539] using device description for top right

	* [r1538] using for-loop to parse general section

2010-06-23  progs

	* [r1537] expansion module 7914 buttons text (Thanks to Guillaume
	  Bour)
	  
	  buttons after the last defined into sccp.conf all displays the
	  last button
	  text
	  Example:
	  sccp.conf
	  ; phone buttons
	  button = line, 160
	  button = empty
	  button = empty
	  button = empty
	  button = empty
	  button = empty
	  
	  ; expansion module #1
	  button = speeddial,112,112,112@default
	  button = empty
	  button = speeddial,113,112,112@default
	  
	  Expansion module display:
	  . 112
	  .
	  . 113
	  . 113
	  . 113
	  . 113
	  . 113
	  . 113
	  . 113
	  . 113
	  . 113
	  . 113
	  . 113
	  . 113
	  
	  2d button is empty (button = empty). Buttons after the 3d may be
	  also
	  empty, but all display '113' (value of the last defined button).
	  
	  My patch correct this by setting SKINNY_BUTTONTYPE_UNUSED value
	  to
	  undefined buttons
	  
	  Guillaume Bour - Proformatique

2010-06-20  davidded

	* [r1536] simplified and fixed subscription id matching)

2010-06-20  marcelloceschia

	* [r1535] calling line with no subscriptionIdNum should ring all
	  devices - fixed

	* [r1534] calling line with no subscriptionIdNum should ring all
	  devices - fixed

	* [r1533] calling line with no subscriptionIdNum should ring all
	  devices - fixed

	* [r1532] calling line with no subscriptionIdNum should ring all
	  devices - fixed

2010-06-15  progs

	* [r1531] correctly print error message when no pbx is found
	  
	  '\n' is not catched by AC_MSG_ERROR.

2010-06-01  davidded

	* [r1530] fixed stack overflow by wrong control flow for empty
	  mailbox handler

2010-05-31  progs

	* [r1529] use ast_calloc instead of ast_malloc+memset

	* [r1528] cleanup code

	* [r1527] remove libtool which is useless
	  
	  Any generated file may not be present in repository.

2010-05-28  progs

	* [r1526] fix crash when unloading module without sccp.conf file
	  
	  The socket_thread global variable isn't correctly initialized, so
	  when
	  chan_sccp loads without sccp.conf, the socket thread isn't
	  created, but
	  GLOB(socket_thread) 0 instead of AST_PTHREADT_NULL (-1), so at
	  unload, it
	  tries to stop this unexistant thread.

2010-05-28  marcelloceschia

	* [r1525] fixes issue: answering shared lines with suffix

2010-05-27  marcelloceschia

	* [r1524] display suffix for line

	* [r1523] display suffix for line

2010-05-26  marcelloceschia

	* [r1522] fixes shared lines suffix request

2010-05-25  marcelloceschia

	* [r1521] do not call device without subscriptionIdNum while
	  calling line with subscriptionId

	* [r1520] do not call device without subscriptionIdNum while
	  calling line with subscriptionId

2010-05-24  marcelloceschia

	* [r1519] fixes gpickup issue

2010-05-13  marcelloceschia

	* [r1518] revert to 1509 except mwi check

2010-05-12  marcelloceschia

	* [r1517] handle AST_CONTROL_SRCCHANGE

	* [r1516] handle AST_CONTROL_SRCCHANGE

	* [r1515] handle AST_CONTROL_SRCCHANGE

	* [r1514] handle AST_CONTROL_SRCCHANGE

2010-05-11  marcelloceschia

	* [r1513] we need speeker and date-time

	* [r1512] use d->defaultLineInstance or d->currentLine to enable
	  cfwd

	* [r1511] cleanup

2010-05-11  davidded

	* [r1510] cleanup

2010-05-10  marcelloceschia

	* [r1509] disable mwi-light on active channel

	* [r1508] use event system instead of sccp_device_stateChanged

	* [r1507] removed function sccp_device_stateChanged

	* [r1506] add SCCP_EVENT_LINESTATUSCHANGED

2010-05-07  marcelloceschia

	* [r1505]

	* [r1504] documentation

2010-05-06  ddegroot

	* [r1503] Started add remarks in the top of all file to descript
	  their purpose, use and relations ships.

	* [r1502] converted all files to unix format, removing incidental
	  \r at end of line

2010-05-05  marcelloceschia

	* [r1501] disable protocol version check < v2

2010-05-04  ddegroot

	* [r1500] License GPLv1 reinstated until further notice, while
	  GPLv3 Upgrade Discovery is in progress

2010-05-03  ddegroot

	* [r1499] Updated SCCP_VERSION number in "sccp show version"

2010-05-03  marcelloceschia

	* [r1498] fixes issue 2993849 (CfwdAll - Asterisk crashes) - thx to
	  ericsesterhenn

2010-04-30  marcelloceschia

	* [r1497] fixes issue with export variables e.g. SCCP_DEVICE_MAC

	* [r1496] check for lowest protocol version

	* [r1495] check for lowest protocol version

	* [r1494] throw registration errors as NOTICE

	* [r1493] clear callinfo on status change

	* [r1492] some debug output for cfwd

	* [r1491] fixes issue with dnd and hint (old hint style)

2010-04-29  ddegroot

	* [r1490] Commited Guillaume Bour Patch (chanvars.20100429.patch)
	  from patches ID: 2994228
	  Thanks Guillaume

2010-04-28  marcelloceschia

	* [r1489] avoid deadlock @see
	  https://sourceforge.net/tracker/?func=detail&aid=2979751&group_id=186378&atid=917045

2010-04-27  marcelloceschia

	* [r1488] update hint status on dnd change every time

	* [r1487] new line on eof

	* [r1486] DEBUGCAT_HINT for sccp_devicestate

	* [r1485]

2010-04-27  ddegroot

	* [r1484] Updated News File

	* [r1483] Updated Version / Revisions Number Check in configure and
	  makefile for distribution (make dist)
	  Added .version to specify major and minor numbers

2010-04-27  marcelloceschia

	* [r1482]

	* [r1481] check for null buttonconfig

2010-04-26  ddegroot

	* [r1480] Adapted CODEC mapping

2010-04-25  ddegroot

	* [r1479] Updated configure file

	* [r1478] Updated Headers

	* [r1477] Updated GPL License Information

2010-04-24  ddegroot

	* [r1476] Repaired misdiagnoses of asterisk versions whereby
	  1.4.21.2 was diagnosed as 1.2 instead of 1.4

	* [r1475] Removed the warnings when setting ToS and CoS

2010-04-18  marcelloceschia

	* [r1474] disable propagation of hotline status

2010-04-13  ddegroot

	* [r1473] Fixed --enable-debug

	* [r1472] When building TRUNK or specifying --with-debug, the
	  resulting binary will be build with symbol tables and will not be
	  stripped

	* [r1471] Added trunk revision number to PBX_REVISION

	* [r1470] Extend Asterisk Version Checks

	* [r1469] Fixed asterisk.m4 script where asterisk branch version is
	  determined

2010-04-13  marcelloceschia

	* [r1468]

2010-04-13  davidded

	* [r1467] reinstated speeddial hint behaviour

2010-04-13  marcelloceschia

	* [r1466] changeing to ASTERISK_VERSION_NUM

2010-04-12  ddegroot

	* [r1465] Finished RPM Build for Federa, RedHat, SuSE and Ubuntu

	* [r1464] Renamed chan-sccp-b.spec

	* [r1463] Added RPM spec files for openSuSE
	  Changed PBX Search Path to work with SuSE Build Service

2010-04-12  marcelloceschia

	* [r1462] workaround to fix the transfer issue with 7960 an
	  protocol version != 6

2010-04-11  marcelloceschia

	* [r1461] fixes core dump with anonymus device

	* [r1460]

	* [r1459] hint debug

	* [r1458] fixes issue with dynamic speeddial and protocoll version
	  < 15; changing state

2010-04-11  ddegroot

	* [r1457] Reactivate "none" parameter for sccp debug

2010-04-10  ddegroot

	* [r1456] Seperated Asterisk Header check from configure.ac and
	  moved them to autoconf/asterisk.m4
	  Extended General Header Checks in configure.ac
	  Renamed HAVE_ASTERISK_* defines to HAVE_PBX_*

	* [r1455] Code optimizations (code order, reduced oversized
	  variables, removed unreachable code)
	  Fixed compilations warnings against asterisk 1.4.27

2010-04-10  marcelloceschia

	* [r1454] do not set instance while configuration

	* [r1453] set debug level

	* [r1452]

	* [r1451] changing #warning to //TODO

	* [r1450] remove warning for list

2010-04-08  ddegroot

	* [r1449] Fixed the issue when compiling against asterisk 1.4.24

	* [r1448] Fixes for AST_DEVICE_TOTAL compilation problems against
	  older asterisk 1.4.x version

	* [r1447] Fixed compile against asterisk 1.4.x

	* [r1446] Fixed index/instance numbering for buttonconfig while
	  loading from sccp.conf
	  Fixed sccp_buttonconfig type naming in sccp_cli for "sccp show
	  device SEP????"

	* [r1445] Optimized the debug tabcompletion code

2010-04-07  ddegroot

	* [r1444] Fixed error in configure with regards to "target extra"
	  #define CS_AST_JB_TARGET_EXTRA 0 has been removed from
	  configure.ac
	  bug reported by Ken Walker ("Re: [Chan-sccp-b-discussion] Trunk
	  1443 and conference state")

	* [r1443] Display sccp_pbx "SCCP: changing format from:" only when
	  really changing format
	  Reinstate sccp debug statefullness

2010-04-06  ddegroot

	* [r1442] changed debug tabcompletions to revoke added an already
	  assigned category

2010-04-06  marcelloceschia

	* [r1441] show completion on pos >= 3

	* [r1440] show completion on pos > 3

	* [r1439] fixes issue with debug categories

2010-04-05  ddegroot

	* [r1438] Added CS?, AF??, EF as possible sccp_tos, audio_tos and
	  video_tos values using the ast_str2tos function

	* [r1437] Added functionality to "sccp debug"
	  command like "sccp debug all no event channel" is now allowed

	* [r1436] Fixed parsing of ????_tos values

	* [r1435] "sccp debug no" tab completion now works

	* [r1434] Removed old rtpcos / rpttos entries from sccp.conf
	  Fixed Tab completion for sccp debug

2010-04-04  ddegroot

	* [r1433] Updated sample XMLDefault.cnf.xml files to match assigned
	  sccp_tos,audio_tos values

	* [r1432] renamed tos -> sccp_tos defaults to 0x96 (AF31)
	  renamed cos -> sccp_cos defaults to 4
	  renamed rtp_tos -> audio_tos defaults to 0xB8 (EF)
	  renamed rtp_cos -> audio_cos defaults to 6
	  added video_tos defaults to 0x88 (AF41)
	  added video_cos defaults to 5
	  
	  sample config files, sql file, sql-update file and documentation
	  has been updated accordingly

2010-04-03  ddegroot

	* [r1431] Automatically select channels when only two channels are
	  available with DirTransfer

	* [r1430] renamed sccp_verbose_level to sccp_debug_category

	* [r1429] Extended the documentation regarding sccp debug
	  categories

	* [r1428] Updated chan_sccp.h to interpret DEBUGCAT correctly for
	  sccp_log
	  Removed fdebug completely

	* [r1427] set GLOB(debug) to 0 before reading new value
	  Updated a couple of sccp_log lines to reduce default logging

	* [r1426] Updated the samples and documentation to show the new
	  debug cli function and conf debug setting

	* [r1425] Renamed SCCP_VERBOSE_LEVEL_* to DEBUGCAT_*
	  Changed sccp_log entries with & to +
	  Added new cli methode sccp debug [no] level|category[,category]
	  Added new config entry debug=level|category[,category]
	  examples:
	  - sccp debug mwi,event,core,device
	  - sccp debug 10
	  - sccp debug none
	  - sccp debug all"

2010-04-02  ddegroot

	* [r1424] Added RPM generation to Makefile.am. Spec file still has
	  to checked and tested

	* [r1423] Added help message and autocompletion to sccp debug

	* [r1422] added support for sccp debug mwi,event,high

	* [r1421] debug changed from int to uint32_t

	* [r1420] Finished assigning SCCP_VERBOSE_LEVEL Enums to sccp_log

	* [r1419] Updated the sccp_log assignments

	* [r1418] Fixed typo in chan_sccp sccp_log line

	* [r1417] extended sccp_verbose_level
	  changed log levels in sccp_utils

	* [r1416] Changed over some more sccp_log levels

	* [r1415] Extended chan_sccp.h SCCP_VERBOSE_LEVELS
	  Assigned first batch of sccp_log Assignments in sccp_action.c

	* [r1414] Extended SCCP_VERBOSE_LEVEL
	  renamed speedial -> speeddial
	  renamed Tranfer -> Transfer

2010-04-01  marcelloceschia

	* [r1413]

	* [r1412]

	* [r1411] instance for service

	* [r1410] search for line created by other threads

	* [r1409] search for line created by other threads

	* [r1408] fixes instance issue with old hint style

	* [r1407] fixxes hint issue with dynamich speeddial protocol
	  versionn < 15

	* [r1406] debug output for realtime line

2010-03-30  ddegroot

	* [r1405] setting defaults for cos and rtpcos correctly

	* [r1404] Added cos and rtpcos to specify Class of Service for
	  Sockets and RTP Sockets to make QOS work better over VPN and MPLS
	  Connections

	* [r1403] Added some extra logging to sccp_hint.c
	  Added Mapping for ast_device_state to sccp_protocol / sccp_utils
	  for use in sccp_hints
	  Added Support for target_extra from ast_jb_conf in newer asterisk
	  1.6.x versions to sccp_cli and chan_sccp.c

2010-03-30  marcelloceschia

	* [r1402] fixing mwi start/stop issue

2010-03-29  ddegroot

	* [r1401] Extended AST_EXTENSION Mapping to include state 9
	  Added ARR2STR Mapping for SCCP_EXTENSIONSTATE
	  Extended ExtensionStatus to Asterisk Mapping in sccp_utils
	  Changed timing in sccp_socket back to 1000 mu_sec

2010-03-28  ddegroot

	* [r1400] Replaced SEP??????? with SEP[MacAddr] in documentation

	* [r1399] Jitterbuffer handling for newer Asterisk versions

	* [r1398] Added Jitterbuffer Handling for newer Asterisk Versions

	* [r1397] Updated sccp_session_send2 to reduce socket timing and
	  close socket correctly on failure

	* [r1396] Updated sccp_dev_displayprompt to send different messages
	  according to the protocol level in use by the phone

	* [r1395] Implemented DialedPhoneBookAckMessage
	  Implemented ServiceURLStatDynamicMessage

	* [r1394] Replaced unknown messages 0x0149 and 0x0159

2010-03-25  marcelloceschia

	* [r1393] fixes compile issue and removes #warning

	* [r1392] fixes compile issue and removes #warning

2010-03-24  marcelloceschia

	* [r1391]

	* [r1390] testing

	* [r1389]

	* [r1388] show cfwd status in cli

	* [r1387] getting device configuration for line

	* [r1386] fixes unload/load issue and mailbox issue

	* [r1385] button instance for blf with old protocol version

	* [r1384] instances

2010-03-23  marcelloceschia

	* [r1383] disable callinfo for dynamic speeddial

2010-03-18  marcelloceschia

	* [r1382] button instances

	* [r1381]

2010-03-17  marcelloceschia

	* [r1380] button instances

	* [r1379] debug output

	* [r1378] debug output

2010-03-16  marcelloceschia

	* [r1377] based on Federicos advice we use separate instances for
	  speeddials

	* [r1376] based on Federicos advice we use separet instances for
	  speeddials

2010-03-15  marcelloceschia

	* [r1375] push changes on resume

	* [r1374] push changes on resume

2010-03-12  marcelloceschia

	* [r1373] lock

2010-03-11  marcelloceschia

	* [r1372] hint debug out

2010-03-11  ddegroot

	* [r1371] Add a section to the documentation about reporting
	  problems and issues (including added debug reports)

	* [r1370] Split up the main.doc file
	  Added XMLDefault.cnf.xml examples

	* [r1369] Updated sccp_protocol.h AST_EXTENSION Mapping
	  Extended the Realtime documentation and included Nikos Mouat
	  PostgreSQL setup information

2010-03-10  marcelloceschia

	* [r1368] some testings

	* [r1367] some testings

2010-03-09  marcelloceschia

	* [r1366] table definition for postgres; using separate button
	  device configuration

2010-03-07  marcelloceschia

	* [r1365]

	* [r1364] fixes buttontemplate issue after reregistration of non
	  realtime devices

	* [r1363] fixes buttontemplate issue after reregistration of non
	  realtime devices

	* [r1362] hint testing

	* [r1361] hint testing

	* [r1360] hint testing

	* [r1359] debug for button template

	* [r1358] fixes cfwd/ring issue on single line

2010-03-06  marcelloceschia

	* [r1357] do not handle instances = 0

	* [r1356] 7916 has 24 buttons

2010-03-06  davidded

	* [r1355] removed obsolete message

2010-03-06  marcelloceschia

	* [r1354] using default line for new call

	* [r1353] using default line for new call

	* [r1352] using default line for new call

	* [r1351] fixes issue with openBSD and undefined symbol

	* [r1350]

2010-03-06  ddegroot

	* [r1349] Removed the space behind -L and -I in configure.ac

2010-03-06  marcelloceschia

	* [r1348] handle default line in line request

2010-03-05  marcelloceschia

	* [r1347] no ringin notification

	* [r1346] rework on buttontemplate and buttonconfig

2010-03-05  ddegroot

	* [r1345] Update possible ringer options in dial string

2010-03-05  marcelloceschia

	* [r1344] do not free devices twice

	* [r1343] remove devices with timeout 0

	* [r1342] ast_sched_add returns -1 on fail not 0 -> changed error
	  handling

2010-03-05  davidded

	* [r1341] things that needed to be refurbished

2010-03-04  marcelloceschia

	* [r1340] init lists

2010-03-04  ddegroot

	* [r1339] Added Dial Statements to the FAQ

	* [r1338] update realtime documentation

	* [r1337] Added "struct softKeySetConfigList softKeySetConfig; "
	  back int sccp_softkeys.c again

	* [r1336] Updated a help message in configure

	* [r1335] Added chan_sccp configuration and dialplan documentation

2010-03-04  marcelloceschia

	* [r1334]

	* [r1333]

	* [r1332]

	* [r1331]

	* [r1330] using little and big endian convertion

2010-03-04  ddegroot

	* [r1329] Changed Unknown message to Undefined message for
	  Unknown_???????_Message's

	* [r1328] Upped the debug log level for Unknown_0x004A_Message,
	  Unknown_0x0143_Message, Unknown_0x0144_Message
	  Unknown_0x0149_Message Unknown_0x0159_Message because we know
	  they exist, we just do not implement them. They are not unknown

	* [r1327] ENDIAN Conversion forgot on sccp_dev_send::message2str

	* [r1326] Fixed Little/Big Endian issue exposed on openBSD in
	  sccp_actions.c
	  ISSUE :: "[Chan-sccp-b-discussion] requested a line configuration
	  for unknown line 0"

	* [r1325] Updated OpenBSD Support in main.doc

2010-03-03  davidded

	* [r1324] fix for MacOSX, cleaned up very ugly nonconformant global
	  variable definitions

2010-03-02  marcelloceschia

	* [r1323] workaround for SCCP_LIST_REMOVE(&GLOB(devices), d, list)
	  issue

2010-03-01  ddegroot

	* [r1322] Edited the svn:ignore parameters to remove Makefile /
	  config.h warnings

	* [r1321] - Fixed the PACKAGE_* redefines
	  because AM_INIT_MAKE([no-define]) doesn't work anymore since
	  autoconf v2.59 we have to resort to remarking out
	  the generated PACKAGE_* defines.
	  See: http://www.mail-archive.com/automake@gnu.org/msg04576.html
	  Untill the Asterisk groups stops exporting these PACKAGE_ defines
	  or autoconf fixes this issue, these replacements will
	  have to remain.
	  we are not using the PACKAGE_ define in any of the sources
	  - Fixed the redefine of AST_MAX_ACCOUNT_CODE: created a new
	  define for SCCP_MAX_ACCOUNT_CODE instead

	* [r1320] Updated documentation to reflect pre-bootstrapped version
	  of configure in repository

	* [r1319] Added Pre-bootstrapped version of configure to the
	  repository

	* [r1318] Added openBSD to supported platform list.

2010-02-28  davidded

	* [r1317] changed socket handling to some intermediate version

2010-02-24  marcelloceschia

	* [r1316] revert to 1314

	* [r1315]

	* [r1314] cfwd status update

	* [r1313] debug for cross session

	* [r1312] fixing deadlock in sccp_show_device

2010-02-23  ddegroot

	* [r1311] Fixes for --with-asterisk=PATH

2010-02-23  davidded

	* [r1310] fixed callstate signalling. merged MC and mine code

2010-02-23  marcelloceschia

	* [r1309]

2010-02-23  ddegroot

	* [r1308] Fixed configure.ac to search --with-asterisk=PATH

2010-02-23  marcelloceschia

	* [r1307] unlock channel if locked

2010-02-23  davidded

	* [r1306] fixed callstate signalling. merged MC and mine code

2010-02-23  marcelloceschia

	* [r1305] added devicetype 376 (nokia icc)

	* [r1304] fixes config_type issue

	* [r1303] fixes off-hook answer

2010-02-23  davidded

	* [r1302] cleanup with callstate signalling. removing obsolete
	  function.

	* [r1301] line key fancy

2010-02-22  marcelloceschia

	* [r1300] prefix fix

	* [r1299] stop continues ringing on remote device issue

2010-02-21  davidded

	* [r1298] softkey fix

2010-02-17  ddegroot

	* [r1297] Updated protocol.h to match enum names instead of
	  uint32_t

	* [r1296] Cleaned up the array2str function

	* [r1295] Started waling the array at 1 instead of 0

2010-02-16  ddegroot

	* [r1294] Added more specific return values, when lookups failed

2010-02-16  davidded

	* [r1293] typos

	* [r1292] typos

	* [r1291] typos

	* [r1290] typos

	* [r1289] conference reworked

2010-02-16  ddegroot

	* [r1288] Added a couple of new labels

2010-02-16  davidded

	* [r1287] test

2010-02-15  davidded

	* [r1286] cpp to c

	* [r1285] conference attempt

	* [r1284] conference attempt

2010-02-13  ddegroot

	* [r1283] Replace "if [ -d" with "test -z" in "make install"
	  procedure

2010-02-13  marcelloceschia

	* [r1282] fixing accessory status

2010-02-13  ddegroot

	* [r1281] Replaced install-sh with default /usr/bin/install when it
	  exists

2010-02-13  davidded

	* [r1280] code cleanup

2010-02-12  ddegroot

	* [r1279] Added some section headers in configure.ac so people
	  known what we are doing

	* [r1278] Fixed a couple of libtool issues
	  Fixed "make dist" issues
	  Added script to run "make dist" succesfully

	* [r1277] Removed sccp_object2 temporarily because it does not
	  compile against lower than asterisk 1.6 versions.

2010-02-11  ddegroot

	* [r1276] Include Checking for libtool

	* [r1275] Change build_tools content to autoconf directory

	* [r1274] Added local libtool

	* [r1273] Remove Dependency on libtoolize.
	  Move build_tools to autoconf directory
	  Move m4 to autoconf directory

	* [r1272] Updated new_feature documentation with PLAR/adhocNumber
	  option

	* [r1271] Added PLAR / Adhoc Option + Comment to sccp.conf for Line
	  98021

2010-02-11  marcelloceschia

	* [r1270] hotline/PLAR improvement

	* [r1269] 7931 fix, adhocNumber

	* [r1268] 7931 fix, adhocNumber

	* [r1267] set test buttons to real names

	* [r1266] set lamp for hint

	* [r1265] handling button template for 7931

	* [r1264] changing button type from test

2010-02-11  ddegroot

	* [r1263] Added a few protocol entries from wireshark sccp
	  definition

2010-02-10  ddegroot

	* [r1262] Update Spacing in Message Lookups

	* [r1261] Fix Accessory Status Message (assigned skinny2str instead
	  of sccp2str).

	* [r1260] Fixed Bootstrap
	  Fixed "Not Defined yes" error in accessory

	* [r1259] Went back to older bootstrap.sh and configure.ac

2010-02-10  marcelloceschia

	* [r1258] get it working with older libtool version

	* [r1257] insert prototype

	* [r1256] remove define for subscribing event

2010-02-10  ddegroot

	* [r1255] Added INSTALL, ChangeLog and doxygen.warn to svn:ignore
	  Added Parameter Comment to sccp_object2.h

	* [r1254] Changed more skinny_*2str and sccp_*2str function to
	  array lookups

	* [r1253] Changeover to sccp_utils function sccp2str and skinny2str

2010-02-09  ddegroot

	* [r1252] Replaced skinny_tone2str with array lookup

	* [r1251] Replaced array lookup for loop with preliminary
	  preprocessor macro

	* [r1250] Removed hex and longtext columns from sccpmessage_types
	  array

	* [r1249] Replaced skinny_lbl2str with array lookup function

	* [r1248] Added a copy of astobj2 named sccp_object2
	  Started changing protocol enums to lookup arrays for enum->string
	  conversion

	* [r1245] Added SCCP_FILE_VERSION to all c-files. This registers
	  the file with the “core show file version” CLI command. This CLI
	  command lists the last SVN revision where that file changed.

2010-02-09  marcelloceschia

	* [r1244] removed unsed variables

2010-02-08  davidded

	* [r1243] parser and default subscription id

2010-02-08  marcelloceschia

	* [r1242] enable channel resume

2010-02-08  davidded

	* [r1241] parser and default subscription id

	* [r1240] parser and default subscription id

	* [r1239] parser and default subscription id

	* [r1238] parser and default subscription id

	* [r1237] parser and default subscription id

2010-02-08  ddegroot

	* [r1236] Exchanged deprecated commands for current commands in
	  configure.ac

	* [r1235] Downgraded configure.ac from 2.64 version back to 2.53

2010-02-08  davidded

	* [r1234] parser and default subscription id

2010-02-08  ddegroot

	* [r1233] Added $Revision$ and $Date$ to Build Files and
	  Documentation Files

	* [r1232] Added $Revision$ and $Date$ to all source headers

2010-02-08  davidded

	* [r1231] parser and default subscription id

	* [r1230] parser and default subscription id

2010-02-08  ddegroot

	* [r1229] Updated bootstrap.sh to check installed autoconf/automake
	  on BSD machines

2010-02-08  marcelloceschia

	* [r1228] setting hint state if dnd == busy

	* [r1227] rename SpeedDialStatDynamicMessage.lel_unknown1 to
	  SpeedDialStatDynamicMessage.lel_status

2010-02-08  davidded

	* [r1226] parser and default subscription id

2010-02-08  marcelloceschia

	* [r1225] update registrationMessage

	* [r1224] testing subscriberID

	* [r1223] fixing sccp_util_matchSubscriberID

	* [r1222] set subscriber

	* [r1221] matching function for subscriber

	* [r1220] parsing subscriber

	* [r1219] testing subscriberID

	* [r1218] fixing segmentation fault

2010-02-08  ddegroot

	* [r1217] Added documentation about dynamic SpeedDials to
	  new_features.doc

2010-02-07  ddegroot

	* [r1216] Improved Makefile.am to Detect changes in ChangeLog
	  better

	* [r1215] Updated ChangeLog Generation to only update the ChangeLog
	  when necessary
	  Include ChangeLog Generation in Make all
	  Updated svn:ignore to Exclude ChangeLog in svn commits

2010-02-07  marcelloceschia

	* [r1214] adding subscriptionId to linedevice

	* [r1213] device clean

	* [r1212] adding subscriptionId to linedevice

2010-02-05  ddegroot

	* [r1211] Fix Makefile.am so it only create doc/html when necessary

	* [r1210] Fixed ChangeLog-HTML generation Error when doc/html does
	  not exist yet.

	* [r1209] Updated the StyleSheet for ChangeLog to fit better in the
	  Doxygen Pages. Added a title to the ChangeLog HTML File

	* [r1208] Added a style-sheet for the HTML version of the ChangeLog

	* [r1207] - Added a new Makefile.am method to generate ChangeLog
	  files
	  - Added a "make doxygen" method, which updates ChangeLog files
	  and generates the documentation.
	  - SVN2CL is used, when found to generate the ChangeLog files
	  - An HTML version of the ChangeLog is inserted in the main page
	  of the doxygen documentation.
	  - This ChangeLog_SVN2CL.html file has links to the Subversion
	  Repository at sourceforge for easy Revision Lookup.

2010-02-05  davidded

	* [r1206] my latest changes

2010-02-05  ddegroot

	* [r1205] Added Structure Comments to sccp_protocol.h,chan_sccp.h
	  and sccp_config.h
	  Fixed format issue in new_features.doc for <name>, <option1> and
	  <option2>

2010-02-04  ddegroot

	* [r1204] Updated comments and documentation

2010-02-03  ddegroot

	* [r1203] Updated comments in the sccp.conf file to inform users
	  about hotlines and feature buttons

	* [r1202] Fixed documentation for call forward in new_features

	* [r1201] Updates the softkeys documentation section to include
	  sccp.conf example for softkeys

	* [r1200] Changed softkeys.doc to new_features.doc
	  Updated new_features.doc to include information about feature
	  buttons and hotlines

2010-02-03  marcelloceschia

	* [r1199] add description

2010-02-03  davidded

	* [r1198] deadlock fix attempt

2010-02-02  davidded

	* [r1197] fixed deadlock

2010-02-02  marcelloceschia

	* [r1196] number of available buttons in ButtonTemplateReqMessage

2010-02-02  davidded

	* [r1195] cleaned up device registration procedure

2010-02-01  marcelloceschia

	* [r1194] do not lock channel on answer, see core locks

	* [r1193] do not lock channel on answer, see core locks

	* [r1192]

2010-02-01  davidded

	* [r1191] sleep reintroduced

	* [r1190] fixing

2010-01-31  davidded

	* [r1189] fixing

	* [r1188] fixing

	* [r1187] fixed memory mess in whi subscription handling

	* [r1186] list cleanup fix

	* [r1185] list cleanup fix

	* [r1184] list cleanup fix

	* [r1183] button discovery

2010-01-30  davidded

	* [r1182] button discovery

2010-01-30  marcelloceschia

	* [r1181] deadlock

	* [r1180] change remot notification to
	  SKINNY_CALLSECURITYSTATE_UNKNOWN

	* [r1179] fixing compile bug

	* [r1178] display rev on sccp show version

	* [r1177] using const value for helper function and do locking in
	  calling function

2010-01-29  davidded

	* [r1176] advanced buttons, more and more of them...

	* [r1175] advanced buttons, more and more of them...

	* [r1174] advanced buttons, more and more of them...

	* [r1173] advanced buttons, more and more of them...

	* [r1172] advanced buttons, more and more of them...

2010-01-27  marcelloceschia

	* [r1171] fixing conf compile issue

2010-01-25  marcelloceschia

	* [r1170] playground

	* [r1169] playground

2010-01-24  ddegroot

	* [r1168] Fixed the sccp.conf / sccp_simple.conf back button
	  softkeyset

2010-01-23  ddegroot

	* [r1167] Added documentation url to the README file
	  http://chan-sccp-b.sourceforge.net/doc/index.html

	* [r1166] Added a simple config file
	  Update documentation to reflect the latest config samples and
	  config file names.

	* [r1165] Added a simple config file
	  Update documentation to reflect the latest config samples and
	  config file names.

	* [r1164] Updated readme file to specify minimum versions of
	  autoconf, automake, libtool and m4

	* [r1163] Use install in Makefile.am so that asterisk is not
	  restarted when make install is run.

2010-01-23  marcelloceschia

	* [r1162] bfl status (incl. dnd status)

2010-01-22  ddegroot

	* [r1161] Fixed Makefile

	* [r1160] Added Documentation Page sources_explain

2010-01-21  ddegroot

	* [r1159] Fix configure and libtool

2010-01-21  marcelloceschia

	* [r1158] hangup forwarding channel on answer

	* [r1157]

	* [r1156]

	* [r1155]

	* [r1154] remove ringer debug warning

	* [r1153] set version
	  handle protocolVersion for dynSpeeddial

	* [r1152] set version
	  handle protocolVersion for dynSpeeddial

	* [r1151] set version

	* [r1150] set version

	* [r1149] removed sccp_cfwd_parse

	* [r1148]

	* [r1147]

	* [r1146] dot image how hint update works

	* [r1145] dot image how hint update works

2010-01-20  ddegroot

	* [r1144] Changed Makefile.am so that only the .so file is
	  installed.
	  The chan_sccp.la is no longer installed in the asterisk module
	  directory

2010-01-17  marcelloceschia

	* [r1143] compile issue

	* [r1142] delete unused function

	* [r1141] make mwi asterisk 1.4 compatible

2010-01-17  ddegroot

	* [r1140] Fixed svn version retrieval in acinclude.m4

2010-01-16  marcelloceschia

	* [r1139] solves compile error with 1.4 (no mwi_event)

2010-01-15  marcelloceschia

	* [r1138] make 1.4 compatible

2010-01-14  marcelloceschia

	* [r1137] make some space for speeddial label

	* [r1136] add callinfo beside speeddial label

	* [r1135] one click fwd - is working again

2010-01-13  davidded

	* [r1134] softkeyset for remote in use fix, refactorized
	  digittimeout char recording handlers

2010-01-13  marcelloceschia

	* [r1133] some changes to get start with conference

	* [r1132] do not set hint->status to channel status

	* [r1131] changing dynamic speeddial handling

	* [r1130]

	* [r1129] setting channel->capability to a single format

	* [r1128] setting channel->capability to a single format

2010-01-12  marcelloceschia

	* [r1127]

2010-01-12  davidded

	* [r1126] socket fix

2010-01-09  marcelloceschia

	* [r1125] fixes null pointer bug in transvm
	  
	  #0 sccp_feat_idivert (d=0x8dadff8, l=0x0, c=0x0) at
	  sccp_features.c:728
	  728 if (!l->trnsfvm) {
	  (gdb) bt full
	  #0 sccp_feat_idivert (d=0x8dadff8, l=0x0, c=0x0) at
	  sccp_features.c:728
	  __PRETTY_FUNCTION__ = "sccp_feat_idivert"
	  #1 0xb213936b in sccp_sk_trnsfvm (d=0x8dadff8, l=0x0, c=0x0) at
	  sccp_softkeys.c:485
	  No locals.
	  #2 0xb20f89b0 in sccp_handle_soft_key_event (s=0x8f70cb0,
	  r=0x8fce560)
	  at sccp_actions.c:1778
	  d = (sccp_device_t *) 0x8dadff8
	  c = (sccp_channel_t *) 0x0
	  l = (sccp_line_t *) 0x0
	  k = <value optimized out>
	  event = 62
	  line = 0
	  callid = 0
	  __PRETTY_FUNCTION__ = "sccp_handle_soft_key_event"
	  #3 0xb20baf69 in sccp_handle_message (r=0x8fce560, s=0x8f70cb0)
	  at
	  chan_sccp.c:541
	  mid = 38
	  __PRETTY_FUNCTION__ = "sccp_handle_message"
	  #4 0xb21246ca in sccp_socket_thread (ignore=0x0) at
	  sccp_socket.c:357
	  fset = {fds_bits = {536870912, 0 <repeats 31 times>}}
	  res = 148561912
	  maxfd = 84
	  now = 1263038868
	  s = (sccp_session_t *) 0x8f70cb0
	  m = (sccp_moo_t *) 0x8fce560
	  tv = {tv_sec = 0, tv_usec = 280000}
	  sigs = {__val = {138432515, 0 <repeats 31 times>}}
	  attr = {__size =
	  "\000\000\000\000\000\000\000\000\001\000\000\000\000\020", '\0'
	  <repeats 21 times>, __align = 0}
	  keepaliveAdditionalTime = <value optimized out>
	  __PRETTY_FUNCTION__ = "sccp_socket_thread"
	  #5 0x081d2029 in dummy_start (data=0xb1912c08) at utils.c:968
	  __cancel_buf = {__cancel_jmp_buf = {{__cancel_jmp_buf =
	  {-1210138636, 0, 0, -1317014600, -337207140, 775857646},
	  __mask_was_saved = 0}}, __pad = {0xb17ff480, 0x0, 0x0, 0x0}}
	  not_first_call = <value optimized out>
	  ret = <value optimized out>
	  mutex_attr = {__size = "\001\000\000", __align = 1}
	  __PRETTY_FUNCTION__ = "dummy_start"
	  #6 0xb7ddc4c0 in start_thread () from
	  /lib/i686/cmov/libpthread.so.0

2010-01-07  ddegroot

	* [r1124] Added some comments to fix "make doxygen-doc" warnings

2010-01-06  davidded

	* [r1123] fix withs spurios video capabilities

2009-12-31  marcelloceschia

	* [r1122]

	* [r1121]

	* [r1120]

	* [r1119]

	* [r1118] including rtp for video, disabeld at the moment

2009-12-30  ddegroot

	* [r1117] Fixed compilation warning

	* [r1116] Fixed T38/T38_Parameter Compilation failure for some
	  asterisk 1.6 instances
	  
	  http://sourceforge.net/projects/chan-sccp-b/forums/forum/652060/topic/3412655

2009-12-28  ddegroot

	* [r1115] Fixed compilation under asterisk v1.4

2009-12-26  marcelloceschia

	* [r1114]

	* [r1113] restoring last dialed number

	* [r1112] wrong definition in asterisk 1.4 (show softkeysets)

	* [r1111] wrong definition in asterisk 1.4 (show softkeysets)
	  M sccp_cli.c

2009-12-22  marcelloceschia

	* [r1110]

	* [r1109] changed output style for cli show devices

	* [r1108] some debug output for solving linestat problem

	* [r1107] using device description to display on device, radom
	  keepalive within maximum keepAliveTime

	* [r1106] fixing deadlock while restarting/resetting device

2009-12-19  marcelloceschia

	* [r1105] we do not need VERSION_NUM in config.h

	* [r1104] setting ringing state for dynamic speeddials

	* [r1103] ast_strip for allow and disallow values

	* [r1102] we need asterisk version header

2009-12-18  marcelloceschia

	* [r1101] dynamic speeddial notification, using speeddialname for
	  notification

	* [r1100] fixing bug in softkeyconfig

2009-12-17  marcelloceschia

	* [r1099] option for dynamic speeddials

	* [r1098]

	* [r1097] ccm speeddial feature option

2009-12-15  marcelloceschia

	* [r1096] loading softkeyset

	* [r1095] loading softkeyset

	* [r1094] changeLog

	* [r1093]

	* [r1092] database update

	* [r1091] reading sofkeyset configuration

	* [r1090] add softkey configuration

2009-12-13  marcelloceschia

	* [r1089] restoring features from ast db

	* [r1088] fixing dnd issue

	* [r1087] fixing dnd issue

2009-12-12  marcelloceschia

	* [r1086] codec choose

	* [r1085] restoring dnd status after unloading channel

	* [r1084] changing codec choose strategie

	* [r1083] updateing channel capability on asterisk channel alloc

2009-12-11  marcelloceschia

	* [r1082]

	* [r1081] update codec choose

	* [r1080] issue: 2912546 fixed

2009-12-10  marcelloceschia

	* [r1079] remove hint on unload

2009-12-08  davidded

	* [r1078] attempt to remove infinite ringing when anwering a call
	  on a shared line

2009-12-08  ddegroot

	* [r1077] Copied 2 second Delay from v2 (Rev 1067)
	  Copied "Fixed deadlock on faster channel answer/hangup" from v2
	  (Rev 1067)

	* [r1076] Fix deadlock in Direct RTP Routines
	  Fix deadlock on Restart Device with call in progress
	  (Based on Steven Lams fix in v2)

2009-12-06  marcelloceschia

	* [r1075] updating channel capability

2009-12-05  ddegroot

	* [r1074] Updated some of the sources to reflect the Authorship of
	  Federico
	  Santulli. His authorship was wrongly removed from some of the
	  sourcefiles.

2009-12-05  marcelloceschia

	* [r1072] added keywords for version

	* [r1071] all configuration options handled in sccp_config.c
	  channel handles codec capability it self and does not need a
	  device

2009-12-03  ddegroot

	* [r1069] Added Comment Headers to all files

	* [r1068] Completing Data Structures Comments in Source

	* [r1066] Fixed the warnings generated by doxygen for missing
	  comments / wrong parameters

	* [r1065] Remove the "unused" entry for docygen

	* [r1064] Finished first pass commenting of classes.

	* [r1063] Added comments to classes.
	  
	  To generate documentation on all classes use:
	  make doxygen-doc
	  in the root folder and check out doc/html/index.html afterwards

	* [r1062] Started copy comments/documentation to sources in trunk

2009-12-02  ddegroot

	* [r1061] Update sccp_config to handle line / device detection
	  nicer

2009-12-02  marcelloceschia

	* [r1060] no configure script in svn

2009-12-02  ddegroot

	* [r1059] Fixed Problem sccp.conf parsing: minimum entry in a line
	  configuration
	  is now one of the following (one of these is necessary to
	  recognize if
	  it is a line or device):
	  - cid_num
	  - cid_name
	  - label
	  - pin
	  
	  Initial Bug Report:
	  Both sample configs (sccp.conf and sccp_short.conf) in current
	  trunk
	  (rev. 1056) does not work. There is missing "button" keyword in
	  lines
	  definition which causes asterisk to ignore them on initial
	  sccp.conf
	  load (it complains about Unknown type - sccp_config.c line 637).
	  In case
	  I add line "button = 1" into [defaultline] template it works like
	  charm.
	  
	  https://sourceforge.net/tracker/?func=detail&atid=917045&aid=2907192&group_id=186378

2009-12-01  davidded

	* [r1058] cleanup in config, fix for hint status with shared lines

2009-11-30  marcelloceschia

	* [r1056] data can include options e.g. 1234/ringer=inside ->
	  exclude options

	* [r1055] %s -> %d

	* [r1054] checking strings with ast_strlen_zero

2009-11-30  ddegroot

	* [r1053] Ammended README file with correct instructions

2009-11-30  marcelloceschia

	* [r1052] add todo for sccp_devicestate

2009-11-26  ddegroot

	* [r1051] Changed minimal line config to the word "button"

	* [r1050] Changed configuration file to new button assignment
	  system (v3)

	* [r1049] Update config file to reflect correct line assignments

	* [r1048] Fixed sccp_mwi: sccp_mwi_deviceAttached ->
	  sccp_mwi_deviceAttachedEvent

	* [r1047] Added sccp_short.conf sample file to make clear that
	  device and line can now be intermixed to make it
	  easier to see which line belongs to which device

	* [r1046] Added configuration sccp.conf sample in conf/sccp.conf

	* [r1045] Added Configuration Template Parsing to Chan_SCCP
	  Added new conf/sccp.conf file to demonstart and document new
	  features

	* [r1044] Made compilable under Asterisk 1.2/1.4 again

2009-11-25  davidded

	* [r1043] fixed missing whitespace in bootstrap script for autoconf

	* [r1042] Major Update of chan_sccp v3.x
	  This directory will contain ongoing development of version 3.x
	  Including:
	  - Shared Lines
	  - Conference
	  - Autoconfigure
	  - Documentation
	  - Templated Config Files
	  - Advanced Codec Resolving
	  
	  Fixed:
	  - Mixed Mode Realtime / Static Device/Line Configuration
	  - Autoconf fixes
	  
	  Attention:
	  - Please refrain from using branches/v3.x. These branches will be
	  move to archive shortly.

	* [r1041] Cleanup prior to major update

	* [r1040] fixed locking issue for concurrent and mixed use of both
	  realtime and static line and device configuration

2009-11-24  davidded

	* [r1039] missing changes without the previous release does not
	  work

	* [r1038] This revision works for me, also with the codecs.

2009-11-24  marcelloceschia

	* [r1037]

	* [r1036]

	* [r1035]

	* [r1034]

	* [r1033]

	* [r1032]

2009-11-24  davidded

	* [r1031] fixed problem with device and line templates, which were
	  exclusively in the asterisk 1.2 section

2009-11-24  marcelloceschia

	* [r1030] using eventsystem for mwi notification

2009-11-24  ddegroot

	* [r1029] Reverted FeatureStatMessage.lel_featureIndex to
	  lel_featureInstance

	* [r1028] - Moved autogen.sh to bootstrap.sh analogous to asterisk
	  - Added Startup instructions to README
	  - Changed acinclude.m4 to recognize svn versions correctly

2009-11-24  davidded

	* [r1027] attempts to fix new config scheme

2009-11-24  marcelloceschia

	* [r1026]

	* [r1025]

	* [r1024] we need this for autogen

	* [r1023] addind conf directory and doc

	* [r1022]

	* [r1021] using shared lines as working copy for further
	  development

